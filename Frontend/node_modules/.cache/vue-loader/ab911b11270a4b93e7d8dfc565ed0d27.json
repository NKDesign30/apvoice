{"remainingRequest":"/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/views/Invite.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/src/views/Invite.vue","mtime":1683275992580},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgbWFwR2V0dGVycywgbWFwU3RhdGUsIG1hcEFjdGlvbnMsIG1hcE11dGF0aW9ucywKfSBmcm9tICd2dWV4JzsKaW1wb3J0IHRoZW1lU2V0dGluZ3MgZnJvbSAnQC9taXhpbnMvdGhlbWUtc2V0dGluZ3MnOwppbXBvcnQgQ21zQ29udGVudFJlbmRlcmVyIGZyb20gJ0AvY29tcG9uZW50cy9jbXMvQ21zQ29udGVudFJlbmRlcmVyLnZ1ZSc7CmltcG9ydCB7IGNhbm9uaWNhbFRhZyB9IGZyb20gJ0Avc2VydmljZXMvdXRpbHMnOwppbXBvcnQgeyBTRVRUSU5HU19DUkVBVEVfSU5WSVRBVElPTlMgfSBmcm9tICdAL3N0b3JlL3R5cGVzL2FjdGlvbi10eXBlcyc7CmltcG9ydCB7IFNFVFRJTkdTX0NMRUFSX05PVElGSUNBVElPTiB9IGZyb20gJ0Avc3RvcmUvdHlwZXMvbXV0YXRpb24tdHlwZXMnOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgICdhcG8tY21zLWNvbnRlbnQtcmVuZGVyZXInOiBDbXNDb250ZW50UmVuZGVyZXIsCiAgfSwKCiAgaGVhZCgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiB7CiAgICAgICAgaW5uZXI6IHRoaXMuJHQoJ3BhZ2VzLndlbGNvbWUubWV0YS50aXRsZS5pbm5lcicpLAogICAgICAgIGNvbXBsZW1lbnQ6IHRoaXMuJHQoJ3BhZ2VzLndlbGNvbWUubWV0YS50aXRsZS5jb21wbGVtZW50JyksCiAgICAgIH0sCiAgICAgIGxpbms6IFtjYW5vbmljYWxUYWcodGhpcy4kcm91dGUpXSwKICAgIH07CiAgfSwKCiAgbWl4aW5zOiBbdGhlbWVTZXR0aW5ncygnZGVmYXVsdCcpXSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzQnVzeTogZmFsc2UsCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsndXNlciddKSwKICAgIC4uLm1hcFN0YXRlKHsKICAgICAgc2V0dGluZ3M6IHN0YXRlID0+IHN0YXRlLnNldHRpbmdzLnNldHRpbmdzLAogICAgICBub3RpZmljYXRpb246IHN0YXRlID0+IHN0YXRlLnNldHRpbmdzLm5vdGlmaWNhdGlvbiwKICAgIH0pLAogICAgcGFnZURhdGEoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5wYWdlcy5wYWdlQ29udGVudC5maWx0ZXIoCiAgICAgICAgcGFnZSA9PiBwYWdlLnNsdWcgPT09IHRoaXMuJHJvdXRlLnBhdGgucmVwbGFjZSgvXlwvfFwvJC9nLCAnJyksCiAgICAgICkubGVuZ3RoID4gMAogICAgICAgID8gdGhpcy4kc3RvcmUuc3RhdGUucGFnZXMucGFnZUNvbnRlbnQuZmlsdGVyKAogICAgICAgICAgcGFnZSA9PiBwYWdlLnNsdWcgPT09IHRoaXMuJHJvdXRlLnBhdGgucmVwbGFjZSgvXlwvfFwvJC9nLCAnJyksCiAgICAgICAgKVswXQogICAgICAgIDogbnVsbDsKICAgIH0sCgogICAgY29udGVudCgpIHsKICAgICAgaWYgKHRoaXMucGFnZURhdGEpIHsKICAgICAgICBjb25zdCB7CiAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSAqLwogICAgICAgICAgcGFzc3dvcmQsCiAgICAgICAgICBtaW5pbXVtX2hlaWdodCwKICAgICAgICAgIHNsaWRlcywKICAgICAgICAgIHB1YmxpY19yZXNvdXJjZSwKICAgICAgICAgIGNvbnRlbnRfcG9zaXRpb24sCiAgICAgICAgICAuLi5maWx0ZXJlZAogICAgICAgIH0gPSB0aGlzLnBhZ2VEYXRhLmFjZjsKICAgICAgICAvKiBlc2xpbnQtZW5hYmxlICovCiAgICAgICAgcmV0dXJuIGZpbHRlcmVkOwogICAgICB9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0sCgogICAgY29udGVudFBvc2l0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy5wYWdlRGF0YSA/IHRoaXMucGFnZURhdGEuYWNmLmNvbnRlbnRfcG9zaXRpb24gOiBudWxsOwogICAgfSwKCiAgICBpbnZpdGF0aW9uQ29kZXMoKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2V0dGluZ3MuaW52aXRhdGlvbkNvZGVzKTsKICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MuaW52aXRhdGlvbkNvZGVzCiAgICAgICAgPyB0aGlzLnNldHRpbmdzLmludml0YXRpb25Db2RlcwogICAgICAgIDogZmFsc2U7CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucyhbU0VUVElOR1NfQ1JFQVRFX0lOVklUQVRJT05TXSksCiAgICAuLi5tYXBNdXRhdGlvbnMoW1NFVFRJTkdTX0NMRUFSX05PVElGSUNBVElPTl0pLAoKICAgIG9uQ3JlYXRlQ29kZXMoKSB7CiAgICAgIHRoaXMuaXNCdXN5ID0gdHJ1ZTsKICAgICAgdGhpc1tTRVRUSU5HU19DUkVBVEVfSU5WSVRBVElPTlNdKCkuZmluYWxseSgoKSA9PiB7CiAgICAgICAgdGhpcy5pc0J1c3kgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogIH0sCgogIGRlc3Ryb3llZCgpIHsKICAgIHRoaXNbU0VUVElOR1NfQ0xFQVJfTk9USUZJQ0FUSU9OXSgpOwogIH0sCn07Cg=="},{"version":3,"sources":["Invite.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Invite.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"invite-page\">\n    <apo-wait for=\"user\">\n      <apo-loading-overlay\n        class=\"my-15\"\n        message=\"\"\n      />\n      <div v-if=\"user.id > 0\">\n        <div v-if=\"content && contentPosition === 'before'\">\n          <component\n            :is=\"`apo-cms-${renderer}-renderer`\"\n            v-for=\"(components, renderer) in content\"\n            :key=\"`${renderer}-renderer`\"\n            :components=\"components || []\"\n          />\n        </div>\n        <div>\n          <div class=\"flex justify-center back-button\">\n            <apo-button\n              class=\"text-white button button--big button--primary shadow-hard-dark mb-8\"\n              type=\"button\"\n              :disabled=\"isBusy\"\n              @click.native=\"onCreateCodes\"\n            >\n              <apo-spinner\n                v-if=\"isBusy\"\n                class=\"mr-4\"\n                size=\"small\"\n              />\n\n              <span v-text=\"$t('sendInvitation')\" />\n            </apo-button>\n          </div>\n          <div\n            v-if=\"notification.show\"\n            class=\"mx-auto mb-10 w-full max-w-2xl p-4 rounded-full bg-green-300 text-white shadow-hard\"\n          >\n            <div class=\"notification-inner mx-auto relative w-11/12\">\n              <p\n                class=\"w-5/6 mx-auto\"\n                v-html=\"notification.message\"\n              />\n              <span class=\"absolute top-0 right-0\">\n                <apo-icon\n                  class=\"w-5 cursor-pointer\"\n                  src=\"close\"\n                  @click=\"SETTINGS_CLEAR_NOTIFICATION\"\n                />\n              </span>\n            </div>\n          </div>\n        </div>\n        <div v-if=\"content && contentPosition === 'after'\">\n          <component\n            :is=\"`apo-cms-${renderer}-renderer`\"\n            v-for=\"(components, renderer) in content\"\n            :key=\"`${renderer}-renderer`\"\n            :components=\"components || []\"\n          />\n        </div>\n        <div\n          class=\"flex justify-center mb-5 container mx-auto\"\n          v-html=\"pageData.content.rendered\"\n        />\n      </div>\n    </apo-wait>\n  </div>\n</template>\n\n<script>\nimport {\n  mapGetters, mapState, mapActions, mapMutations,\n} from 'vuex';\nimport themeSettings from '@/mixins/theme-settings';\nimport CmsContentRenderer from '@/components/cms/CmsContentRenderer.vue';\nimport { canonicalTag } from '@/services/utils';\nimport { SETTINGS_CREATE_INVITATIONS } from '@/store/types/action-types';\nimport { SETTINGS_CLEAR_NOTIFICATION } from '@/store/types/mutation-types';\n\nexport default {\n  components: {\n    'apo-cms-content-renderer': CmsContentRenderer,\n  },\n\n  head() {\n    return {\n      title: {\n        inner: this.$t('pages.welcome.meta.title.inner'),\n        complement: this.$t('pages.welcome.meta.title.complement'),\n      },\n      link: [canonicalTag(this.$route)],\n    };\n  },\n\n  mixins: [themeSettings('default')],\n\n  data() {\n    return {\n      isBusy: false,\n    };\n  },\n\n  computed: {\n    ...mapGetters(['user']),\n    ...mapState({\n      settings: state => state.settings.settings,\n      notification: state => state.settings.notification,\n    }),\n    pageData() {\n      return this.$store.state.pages.pageContent.filter(\n        page => page.slug === this.$route.path.replace(/^\\/|\\/$/g, ''),\n      ).length > 0\n        ? this.$store.state.pages.pageContent.filter(\n          page => page.slug === this.$route.path.replace(/^\\/|\\/$/g, ''),\n        )[0]\n        : null;\n    },\n\n    content() {\n      if (this.pageData) {\n        const {\n          /* eslint-disable */\n          password,\n          minimum_height,\n          slides,\n          public_resource,\n          content_position,\n          ...filtered\n        } = this.pageData.acf;\n        /* eslint-enable */\n        return filtered;\n      }\n\n      return null;\n    },\n\n    contentPosition() {\n      return this.pageData ? this.pageData.acf.content_position : null;\n    },\n\n    invitationCodes() {\n      console.log(this.settings.invitationCodes);\n      return this.settings.invitationCodes\n        ? this.settings.invitationCodes\n        : false;\n    },\n  },\n  methods: {\n    ...mapActions([SETTINGS_CREATE_INVITATIONS]),\n    ...mapMutations([SETTINGS_CLEAR_NOTIFICATION]),\n\n    onCreateCodes() {\n      this.isBusy = true;\n      this[SETTINGS_CREATE_INVITATIONS]().finally(() => {\n        this.isBusy = false;\n      });\n    },\n  },\n\n  destroyed() {\n    this[SETTINGS_CLEAR_NOTIFICATION]();\n  },\n};\n</script>\n"]}]}