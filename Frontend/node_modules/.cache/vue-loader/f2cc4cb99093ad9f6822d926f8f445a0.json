{"remainingRequest":"/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/components/form-renderer/PharmacySummary.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/src/components/form-renderer/PharmacySummary.vue","mtime":1683275992559},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgZmluZCBmcm9tICdsb2Rhc2gvZmluZCc7CmltcG9ydCBmbGF0dGVuIGZyb20gJ2xvZGFzaC9mbGF0dGVuJzsKaW1wb3J0IGdldCBmcm9tICdsb2Rhc2gvZ2V0JzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgSW5wdXRMYWJlbCBmcm9tICdAL2NvbXBvbmVudHMvZm9ybS1yZW5kZXJlci9JbnB1dExhYmVsLnZ1ZSc7CmltcG9ydCBQaGFybWFjeVN1bW1hcnlQaGFybWFjeSBmcm9tICdAL2NvbXBvbmVudHMvZm9ybS1yZW5kZXJlci9QaGFybWFjeVN1bW1hcnlQaGFybWFjeS52dWUnOwppbXBvcnQgUGhhcm1hY3lTdW1tYXJ5RXhwZXJ0T25seVBoYXJtYWN5IGZyb20gJ0AvY29tcG9uZW50cy9mb3JtLXJlbmRlcmVyL1BoYXJtYWN5U3VtbWFyeUV4cGVydE9ubHlQaGFybWFjeS52dWUnOwppbXBvcnQgVGV4dElucHV0IGZyb20gJ0AvY29tcG9uZW50cy9mb3JtLXJlbmRlcmVyL1RleHRJbnB1dC52dWUnOwppbXBvcnQgUGhhcm1hY3lTZXJ2aWNlIGZyb20gJy4uLy4uL3NlcnZpY2VzL2FwaS9QaGFybWFjeVNlcnZpY2UnOwppbXBvcnQgUGhhcm1hY2llc0Z1enp5U2VhcmNoIGZyb20gJ0AvY29tcG9uZW50cy9mb3JtLXJlbmRlcmVyL1BoYXJtYWNpZXNGdXp6eVNlYXJjaC52dWUnOwppbXBvcnQgTGFuZ3VhZ2VTZXJ2aWNlIGZyb20gJ0Avc2VydmljZXMvc2V0dGluZ3MvTGFuZ3VhZ2VTZXJ2aWNlJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICAnYXBvLWlucHV0LWxhYmVsJzogSW5wdXRMYWJlbCwKICAgICdhcG8tcGhhcm1hY3ktc3VtbWFyeS1waGFybWFjeSc6IFBoYXJtYWN5U3VtbWFyeVBoYXJtYWN5LAogICAgJ2Fwby1waGFybWFjeS1zdW1tYXJ5LWV4cGVydC1vbmx5LXBoYXJtYWN5JzogUGhhcm1hY3lTdW1tYXJ5RXhwZXJ0T25seVBoYXJtYWN5LAogICAgJ2Fwby10ZXh0LWlucHV0JzogVGV4dElucHV0LAogICAgJ2Fwby1waGFybWFjaWVzLWZ1enp5LXNlYXJjaCc6IFBoYXJtYWNpZXNGdXp6eVNlYXJjaCwKICB9LAoKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJywKICAgIH0sCiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGV4cGVydENvZGU6ICcnLAogICAgICBwaGFybWFjeVVuaXF1ZU51bWJlcjogJycsCiAgICAgIGxvb2t1cFBoYXJtYWN5VW5pcXVlTnVtYmVyOiAnJywKICAgICAgaXNMb29rdXBQaGFybWFjeVVuaXF1ZU51bWJlclZhbGlkOiB0cnVlLAogICAgICBpc1BoYXJtYWN5SW5wdXRWaXNpYmxlOiBmYWxzZSwKICAgICAgYXNzb2NpYXRlZFBoYXJtYWN5VW5pcXVlTnVtYmVyczogW10sCiAgICAgIGlzRXhwZXJ0T25seTogZmFsc2UsCiAgICAgIGV4cGVydE9ubHlQaGFybWFjaWVzOiBbXSwKICAgICAgcGhhcm1hY3lGb3JtOiBbCiAgICAgICAgewogICAgICAgICAgdHlwZTogJ3RleHRJbnB1dCcsCiAgICAgICAgICBpZDogJ3BoYXJtYWN5LW5hbWUnLAogICAgICAgICAgcmVmOiAncGhhcm1hY3lOYW1lJywKICAgICAgICAgIG1vZGVsOiAnJywKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHR5cGU6ICdzZWxlY3RJbnB1dCcsCiAgICAgICAgICBpZDogJ3BoYXJtYWN5LWNvdW50cnknLAogICAgICAgICAgcmVmOiAncGhhcm1hY3lDb3VudHJ5JywKICAgICAgICAgIG1vZGVsOiAnZ2VybWFueScsCiAgICAgICAgICBvcHRpb25zOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICB2YWx1ZTogJ2dlcm1hbnknLAogICAgICAgICAgICAgIHRleHQ6IHRoaXMuJHQoJ21vZHVsZXMucGhhcm1hY3lTdW1tYXJ5LmZvcm0uZ2VybWFueScpLAogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgdmFsdWU6ICdkZW5tYXJrJywKICAgICAgICAgICAgICB0ZXh0OiB0aGlzLiR0KCdtb2R1bGVzLnBoYXJtYWN5U3VtbWFyeS5mb3JtLmRlbm1hcmsnKSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIHZhbHVlOiAncG9sYW5kJywKICAgICAgICAgICAgICB0ZXh0OiB0aGlzLiR0KCdtb2R1bGVzLnBoYXJtYWN5U3VtbWFyeS5mb3JtLnBvbGFuZCcpLAogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgdmFsdWU6ICdjemVjaFJlcHVibGljJywKICAgICAgICAgICAgICB0ZXh0OiB0aGlzLiR0KCdtb2R1bGVzLnBoYXJtYWN5U3VtbWFyeS5mb3JtLmN6ZWNoUmVwdWJsaWMnKSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIHZhbHVlOiAnYXVzdHJpYScsCiAgICAgICAgICAgICAgdGV4dDogdGhpcy4kdCgnbW9kdWxlcy5waGFybWFjeVN1bW1hcnkuZm9ybS5hdXN0cmlhJyksCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICB2YWx1ZTogJ3N3aXR6ZXJsYW5kJywKICAgICAgICAgICAgICB0ZXh0OiB0aGlzLiR0KCdtb2R1bGVzLnBoYXJtYWN5U3VtbWFyeS5mb3JtLnN3aXR6ZXJsYW5kJyksCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICB2YWx1ZTogJ2ZyYW5jZScsCiAgICAgICAgICAgICAgdGV4dDogdGhpcy4kdCgnbW9kdWxlcy5waGFybWFjeVN1bW1hcnkuZm9ybS5mcmFuY2UnKSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIHZhbHVlOiAnbHV4ZW1ib3VyZycsCiAgICAgICAgICAgICAgdGV4dDogdGhpcy4kdCgnbW9kdWxlcy5waGFybWFjeVN1bW1hcnkuZm9ybS5sdXhlbWJvdXJnJyksCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICB2YWx1ZTogJ2JlbGdpdW0nLAogICAgICAgICAgICAgIHRleHQ6IHRoaXMuJHQoJ21vZHVsZXMucGhhcm1hY3lTdW1tYXJ5LmZvcm0uYmVsZ2l1bScpLAogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgdmFsdWU6ICduZXRoZXJsYW5kcycsCiAgICAgICAgICAgICAgdGV4dDogdGhpcy4kdCgnbW9kdWxlcy5waGFybWFjeVN1bW1hcnkuZm9ybS5uZXRoZXJsYW5kcycpLAogICAgICAgICAgICB9LAogICAgICAgICAgXSwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHR5cGU6ICd0ZXh0SW5wdXQnLAogICAgICAgICAgaWQ6ICdwaGFybWFjeS1zdHJlZXQnLAogICAgICAgICAgcmVmOiAncGhhcm1hY3lTdHJlZXQnLAogICAgICAgICAgbW9kZWw6ICcnLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdHlwZTogJ3RleHRJbnB1dCcsCiAgICAgICAgICBpZDogJ3BoYXJtYWN5LXN0cmVldC1ubycsCiAgICAgICAgICByZWY6ICdwaGFybWFjeVN0cmVldE5vJywKICAgICAgICAgIG1vZGVsOiAnJywKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHR5cGU6ICd0ZXh0SW5wdXQnLAogICAgICAgICAgaWQ6ICdwaGFybWFjeS16aXAtY29kZScsCiAgICAgICAgICByZWY6ICdwaGFybWFjeVppcENvZGUnLAogICAgICAgICAgbW9kZWw6ICcnLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdHlwZTogJ3RleHRJbnB1dCcsCiAgICAgICAgICBpZDogJ3BoYXJtYWN5LWNpdHknLAogICAgICAgICAgcmVmOiAncGhhcm1hY3lDaXR5JywKICAgICAgICAgIG1vZGVsOiAnJywKICAgICAgICB9LAogICAgICBdLAogICAgfTsKICB9LAoKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbJ3NhbGVzUmVwTmFtZSddKSwKICB9LAoKICB3YXRjaDogewogICAgdmFsdWU6IHsKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICBoYW5kbGVyKHZhbHVlKSB7CiAgICAgICAgdGhpcy5hc3NvY2lhdGVkUGhhcm1hY3lVbmlxdWVOdW1iZXJzID0gdGhpcy5wYXJzZVBoYXJtYWN5VW5pcXVlTnVtYmVyc1ZhbHVlU3RyaW5nKHZhbHVlKTsKICAgICAgfSwKICAgIH0sCiAgfSwKCiAgbWV0aG9kczogewogICAgZm9jdXNJbnB1dEZpZWxkKCkgewogICAgICB0cnkgewogICAgICAgIHRoaXMuJHJlZnMuYWRkQW5vdGhlclBoYXJtYWN5VW5pcXVlTnVtYmVyLiRlbC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLmZvY3VzKCk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAvLyBsZWZ0IGJsYW5rIGludGVudGlvbmFsbHkKICAgICAgfQogICAgfSwKCiAgICBnZXRBbGxGaWVsZHMoKSB7CiAgICAgIHJldHVybiBmbGF0dGVuKHRoaXMuJHBhcmVudC5wYWdlcy5tYXAocGFnZSA9PiBwYWdlLmZpZWxkcykpOwogICAgfSwKCiAgICBmaW5kRW50ZXJlZEV4cGVydENvZGUoKSB7CiAgICAgIGNvbnN0IHVuaXF1ZVBoYXJtYWN5TnVtYmVyRmllbGQgPSBmaW5kKAogICAgICAgIHRoaXMuZ2V0QWxsRmllbGRzKCksCiAgICAgICAgZmllbGQgPT4gZmllbGQuY3NzQ2xhc3MubWF0Y2goL3ZhbGlkYXRlLWV4cGVydC1jb2RlLyksCiAgICAgICk7CgogICAgICByZXR1cm4gZ2V0KHVuaXF1ZVBoYXJtYWN5TnVtYmVyRmllbGQsICdpbnB1dHMuMC52YWx1ZScsICcnKTsKICAgIH0sCgogICAgZmluZEVudGVyZWRQaGFybWFjeVVuaXF1ZU51bWJlcigpIHsKICAgICAgY29uc3QgdW5pcXVlUGhhcm1hY3lOdW1iZXJGaWVsZCA9IGZpbmQoCiAgICAgICAgdGhpcy5nZXRBbGxGaWVsZHMoKSwKICAgICAgICBmaWVsZCA9PiBmaWVsZC5jc3NDbGFzcy5tYXRjaCgvdmFsaWRhdGUtcGhhcm1hY3ktdW5pcXVlLW51bWJlci8pLAogICAgICApOwoKICAgICAgcmV0dXJuIGdldCh1bmlxdWVQaGFybWFjeU51bWJlckZpZWxkLCAnaW5wdXRzLjAudmFsdWUnLCAnJyk7CiAgICB9LAoKICAgIGZpbmRFbnRlcmVkUGdDdXN0b21lcklkKCkgewogICAgICBjb25zdCB1bmlxdWVDdXN0b21lcklkRmllbGQgPSBmaW5kKAogICAgICAgIHRoaXMuZ2V0QWxsRmllbGRzKCksCiAgICAgICAgZmllbGQgPT4gZmllbGQuY3NzQ2xhc3MubWF0Y2goL3ZhbGlkYXRlLXBnX2N1c3RvbWVyX2lkLyksCiAgICAgICk7CgogICAgICByZXR1cm4gZ2V0KHVuaXF1ZUN1c3RvbWVySWRGaWVsZCwgJ2lucHV0cy4wLnZhbHVlJywgJycpOwogICAgfSwKCiAgICBmaW5kRXhwZXJ0T25seVBoYXJtYWNpZXMoKSB7CiAgICAgIGNvbnN0IHVuaXF1ZUN1c3RvbWVySWRGaWVsZCA9IGZpbmQoCiAgICAgICAgdGhpcy5nZXRBbGxGaWVsZHMoKSwKICAgICAgICBmaWVsZCA9PiBmaWVsZC5jc3NDbGFzcy5tYXRjaCgvdmFsaWRhdGUtZXhwZXJ0X29ubHlfcGhhcm1hY2llcy8pLAogICAgICApOwoKICAgICAgcmV0dXJuIHVuaXF1ZUN1c3RvbWVySWRGaWVsZDsKICAgIH0sCgogICAgYWRkUGhhcm1hY3kocGhhcm1hY3kpIHsKICAgICAgdGhpcy5waGFybWFjeUZvcm1bMF0ubW9kZWwgPSBwaGFybWFjeS5uYW1lOwogICAgICB0aGlzLnBoYXJtYWN5Rm9ybVsxXS5tb2RlbCA9IExhbmd1YWdlU2VydmljZS5yZXNvbHZlQ291bnRyeSgpOwogICAgICB0aGlzLnBoYXJtYWN5Rm9ybVsyXS5tb2RlbCA9IHBoYXJtYWN5LnN0cmVldDsKICAgICAgdGhpcy5waGFybWFjeUZvcm1bM10ubW9kZWwgPSBwaGFybWFjeS5udW1iZXI7CiAgICAgIHRoaXMucGhhcm1hY3lGb3JtWzRdLm1vZGVsID0gcGhhcm1hY3kuemlwOwogICAgICB0aGlzLnBoYXJtYWN5Rm9ybVs1XS5tb2RlbCA9IHBoYXJtYWN5LmNpdHk7CiAgICAgIHRoaXMuZXhwZXJ0T25seVBoYXJtYWNpZXMucHVzaCh0aGlzLnBoYXJtYWN5Rm9ybS5tYXAoZmllbGQgPT4gKHsgdGl0bGU6IGZpZWxkLnJlZiwgdmFsdWU6IGZpZWxkLm1vZGVsIH0pKSk7CgogICAgICBjb25zdCBmaWVsZCA9IHRoaXMuZmluZEV4cGVydE9ubHlQaGFybWFjaWVzKCk7CgogICAgICBmaWVsZC5pbnB1dHNbMF0udmFsdWUgPSBKU09OLnN0cmluZ2lmeSh0aGlzLmV4cGVydE9ubHlQaGFybWFjaWVzKTsKICAgIH0sCgogICAgcmVtb3ZlUGhhcm1hY3koaW5kZXgpIHsKICAgICAgdGhpcy5leHBlcnRPbmx5UGhhcm1hY2llcyA9IHRoaXMuZXhwZXJ0T25seVBoYXJtYWNpZXMuZmlsdGVyKChleHBlcnRPbmx5UGhhcm1hY3ksIGkpID0+IGkgIT09IGluZGV4KTsKCiAgICAgIGNvbnN0IGZpZWxkID0gdGhpcy5maW5kRXhwZXJ0T25seVBoYXJtYWNpZXMoKTsKICAgICAgZmllbGQuaW5wdXRzWzBdLnZhbHVlID0gSlNPTi5zdHJpbmdpZnkodGhpcy5leHBlcnRPbmx5UGhhcm1hY2llcyk7CiAgICB9LAoKICAgIGFkZFBoYXJtYWN5VW5pcXVlTnVtYmVyKCkgewogICAgICB0aGlzLmlzTG9va3VwUGhhcm1hY3lVbmlxdWVOdW1iZXJWYWxpZCA9IFBoYXJtYWN5U2VydmljZS5mZXRjaEJ5SWQodGhpcy5sb29rdXBQaGFybWFjeVVuaXF1ZU51bWJlcik7CgogICAgICBpZiAodGhpcy5sb29rdXBQaGFybWFjeVVuaXF1ZU51bWJlciA9PT0gdGhpcy5waGFybWFjeVVuaXF1ZU51bWJlcikgewogICAgICAgIHRoaXMuaXNMb29rdXBQaGFybWFjeVVuaXF1ZU51bWJlclZhbGlkID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIGNvbnN0IGlzUGhhcm1hY3lVbmlxdWVOdW1iZXJVbmlxdWUgPSB0aGlzLmFzc29jaWF0ZWRQaGFybWFjeVVuaXF1ZU51bWJlcnMKICAgICAgICAuZXZlcnkobnVtYmVyID0+IG51bWJlciAhPT0gdGhpcy5sb29rdXBQaGFybWFjeVVuaXF1ZU51bWJlcik7CgogICAgICBpZiAoIWlzUGhhcm1hY3lVbmlxdWVOdW1iZXJVbmlxdWUpIHsKICAgICAgICB0aGlzLmlzTG9va3VwUGhhcm1hY3lVbmlxdWVOdW1iZXJWYWxpZCA9IGZhbHNlOwogICAgICB9CgogICAgICBpZiAodGhpcy5pc0xvb2t1cFBoYXJtYWN5VW5pcXVlTnVtYmVyVmFsaWQpIHsKICAgICAgICBjb25zdCB1cGRhdGVkUGhhcm1hY3lVbmlxdWVOdW1iZXJzID0gdGhpcy5hc3NvY2lhdGVkUGhhcm1hY3lVbmlxdWVOdW1iZXJzCiAgICAgICAgICAuY29uY2F0KFt0aGlzLmxvb2t1cFBoYXJtYWN5VW5pcXVlTnVtYmVyXSk7CgogICAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdGhpcy5idWlsZFBoYXJtYWN5VW5pcXVlTnVtYmVyc1ZhbHVlU3RyaW5nKHVwZGF0ZWRQaGFybWFjeVVuaXF1ZU51bWJlcnMpKTsKCiAgICAgICAgdGhpcy5sb29rdXBQaGFybWFjeVVuaXF1ZU51bWJlciA9ICcnOwogICAgICAgIHRoaXMuaXNQaGFybWFjeUlucHV0VmlzaWJsZSA9IGZhbHNlOwogICAgICB9CiAgICB9LAoKICAgIHJlbW92ZUFzc29jaWF0ZWRQaGFybWFjeVVuaXF1ZU51bWJlcihwaGFybWFjeVVuaXF1ZU51bWJlcikgewogICAgICBjb25zdCB1cGRhdGVkUGhhcm1hY3lVbmlxdWVOdW1iZXJzID0gdGhpcy5hc3NvY2lhdGVkUGhhcm1hY3lVbmlxdWVOdW1iZXJzLmZpbHRlcigKICAgICAgICBudW1iZXIgPT4gbnVtYmVyICE9PSBwaGFybWFjeVVuaXF1ZU51bWJlciwKICAgICAgKTsKCiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdGhpcy5idWlsZFBoYXJtYWN5VW5pcXVlTnVtYmVyc1ZhbHVlU3RyaW5nKHVwZGF0ZWRQaGFybWFjeVVuaXF1ZU51bWJlcnMpKTsKICAgIH0sCgogICAgYnVpbGRQaGFybWFjeVVuaXF1ZU51bWJlcnNWYWx1ZVN0cmluZyhwaGFybWFjeVVuaXF1ZU51bWJlcnMpIHsKICAgICAgcmV0dXJuIHBoYXJtYWN5VW5pcXVlTnVtYmVycy5qb2luKCcsJyk7CiAgICB9LAoKICAgIHBhcnNlUGhhcm1hY3lVbmlxdWVOdW1iZXJzVmFsdWVTdHJpbmcocGhhcm1hY3lVbmlxdWVOdW1iZXJzU3RyaW5ncykgewogICAgICByZXR1cm4gcGhhcm1hY3lVbmlxdWVOdW1iZXJzU3RyaW5ncy5zcGxpdCgnLCcpLmZpbHRlcih2YWwgPT4gdmFsICE9PSAnJyk7CiAgICB9LAoKICAgIG9uQ2FuY2VsKCkgewogICAgICB0aGlzLmlzUGhhcm1hY3lJbnB1dFZpc2libGUgPSBmYWxzZTsKICAgICAgdGhpcy5pc0xvb2t1cFBoYXJtYWN5VW5pcXVlTnVtYmVyVmFsaWQgPSB0cnVlOwogICAgfSwKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5leHBlcnRDb2RlID0gdGhpcy5maW5kRW50ZXJlZEV4cGVydENvZGUoKTsKICAgIHRoaXMucGhhcm1hY3lVbmlxdWVOdW1iZXIgPSB0aGlzLmV4cGVydENvZGUgJiYgdGhpcy5maW5kRW50ZXJlZFBoYXJtYWN5VW5pcXVlTnVtYmVyKCkgPyB0aGlzLmZpbmRFbnRlcmVkUGhhcm1hY3lVbmlxdWVOdW1iZXIoKSA6IHRoaXMuZmluZEVudGVyZWRQZ0N1c3RvbWVySWQoKTsKICAgIHRoaXMuaXNFeHBlcnRPbmx5ID0gISgoIXRoaXMuZXhwZXJ0Q29kZSAmJiB0aGlzLmZpbmRFbnRlcmVkUGdDdXN0b21lcklkKCkpIHx8ICh0aGlzLmV4cGVydENvZGUgJiYgdGhpcy5maW5kRW50ZXJlZFBoYXJtYWN5VW5pcXVlTnVtYmVyKCkgIT09ICcnKSB8fCB0aGlzLnNhbGVzUmVwTmFtZSA9PT0gdW5kZWZpbmVkKTsKICB9LAp9OwoK"},{"version":3,"sources":["PharmacySummary.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"PharmacySummary.vue","sourceRoot":"src/components/form-renderer","sourcesContent":["<template>\n  <div class=\"mb-24 pharmacy-summary\">\n    <div class=\"mb-12\">\n      <div\n        v-if=\"expertCode && salesRepName !== undefined\"\n        class=\"flex flex-col justify-start mb-8 tablet:justify-center tablet:flex-row tablet:text-center\"\n      >\n        <div class=\"flex flex-col w-full mb-12 tablet:px-4 tablet:w-1/2 tablet:mb-0\">\n          <span\n            class=\"inline-block font-bold text-gray-900\"\n            v-html=\"$t('general.expertCode')\"\n          />\n          <span class=\"inline-block mt-2 text-gray-800\">\n            {{ expertCode | formattedNumber }}\n          </span>\n        </div>\n        <div\n          v-if=\"salesRepName !== ' '\"\n          class=\"flex flex-col w-full tablet:px-4 tablet:w-1/2\"\n        >\n          <span\n            class=\"inline-block font-bold text-gray-900\"\n            v-text=\"$t('modules.pharmacySummary.associatedSalesRep')\"\n          />\n          <span\n            class=\"inline-block mt-2 text-gray-800\"\n            v-html=\"$options.filters.formatContent(salesRepName)\"\n          />\n        </div>\n      </div>\n\n      <div v-if=\"isExpertOnly\">\n        <div v-if=\"expertOnlyPharmacies.length === 0\">\n          <apo-pharmacies-fuzzy-search @selected=\"addPharmacy\">\n            <div class=\"flex flex-col mt-2 tablet:flex-row\">\n              <span class=\"text-gray-900 tablet:mr-2\">{{ $t('general.lookingForPharmacy') }} </span>\n              <router-link\n                :to=\"{name: 'contact'}\"\n                class=\"text-gray-800 underline\"\n              >\n                {{ $t('general.getInTouch') }}\n              </router-link>\n            </div>\n            <div\n              class=\"w-full mt-4\"\n              v-html=\"$t('general.fuzzySearch.hint')\"\n            />\n          </apo-pharmacies-fuzzy-search>\n        </div>\n        <div v-else>\n          <apo-pharmacy-summary-expert-only-pharmacy\n            v-for=\"(pharmacy, index) in expertOnlyPharmacies\"\n            :key=\"'pharmacy' + index\"\n            class=\"relative\"\n            :data=\"pharmacy\"\n          >\n            <template #after>\n              <button\n                class=\"p-2 close\"\n                type=\"button\"\n                :title=\"$t('general.remove')\"\n                @click=\"removePharmacy(index)\"\n              >\n                <apo-icon\n                  class=\"w-4 tablet:w-6\"\n                  src=\"close\"\n                />\n              </button>\n            </template>\n          </apo-pharmacy-summary-expert-only-pharmacy>\n        </div>\n      </div>\n      <div v-else>\n        <apo-pharmacy-summary-pharmacy\n          :number=\"pharmacyUniqueNumber\"\n          :uid=\"0\"\n        />\n\n        <apo-pharmacy-summary-pharmacy\n          v-for=\"(number, index) in associatedPharmacyUniqueNumbers\"\n          :key=\"number\"\n          class=\"relative\"\n          :number=\"number\"\n          :uid=\"index + 1\"\n        >\n          <template #after>\n            <button\n              class=\"p-2 close\"\n              type=\"button\"\n              :title=\"$t('general.remove')\"\n              @click=\"removeAssociatedPharmacyUniqueNumber(number)\"\n            >\n              <apo-icon\n                class=\"w-4 tablet:w-6\"\n                src=\"close\"\n              />\n            </button>\n          </template>\n        </apo-pharmacy-summary-pharmacy>\n      </div>\n\n      <div v-if=\"!isExpertOnly\">\n        <div class=\"flex mt-12 tablet:justify-start\">\n          <div class=\"flex flex-col w-full tablet:px-4 tablet:w-1/2\">\n            <span\n              class=\"inline-block font-bold text-gray-900\"\n              v-text=\"$t('modules.pharmacySummary.workingInAnotherPharmacy')\"\n            />\n            <span class=\"inline-block mt-2\">\n              <button\n                class=\"text-gray-800 underline\"\n                type=\"button\"\n                @click=\"isPharmacyInputVisible = true\"\n                v-text=\"$t('modules.pharmacySummary.buttons.addMore')\"\n              />\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div v-if=\"isExpertOnly && expertOnlyPharmacies.length > 0\">\n      <!-- <div class=\"flex mt-12 tablet:justify-start\">\n        <div class=\"flex flex-col w-full tablet:px-4 tablet:w-1/2\">\n          <span\n            class=\"inline-block font-bold text-gray-900\"\n            v-text=\"$t('modules.pharmacySummary.workingInAnotherPharmacy')\"\n          />\n          <router-link\n            :to=\"{name: 'contact'}\"\n            class=\"inline-block mt-2 text-gray-800 underline\"\n          >\n            Kontaktiere uns\n          </router-link>\n        </div>\n      </div> -->\n    </div>\n\n    <apo-collapsible-content\n      v-else\n      class=\"add-another-pharmacy\"\n      :show=\"isPharmacyInputVisible\"\n      @expanded=\"focusInputField\"\n    >\n      <div\n        v-if=\"!isExpertOnly\"\n        class=\"max-w-lg py-24 mx-auto\"\n      >\n        <apo-input-label\n          for=\"add-another-pharmacy-unique-number\"\n          v-text=\"$t('general.pun')\"\n        />\n\n        <apo-text-input\n          id=\"add-another-pharmacy-unique-number\"\n          ref=\"addAnotherPharmacyUniqueNumber\"\n          v-model=\"lookupPharmacyUniqueNumber\"\n          class=\"w-full mt-4\"\n          @input=\"isLookupPharmacyUniqueNumberValid = true\"\n          @keydown.enter=\"addPharmacyUniqueNumber\"\n        />\n\n        <small\n          v-if=\"!isLookupPharmacyUniqueNumberValid\"\n          class=\"absolute mt-1 text-xs font-bold text-red-500 pin-l pin-b\"\n          v-text=\"$t('modules.pharmacySummary.invalidPun')\"\n        />\n\n        <div class=\"flex justify-center mt-12\">\n          <apo-button\n            class=\"text-gray-900 button button--naked button--small shadow-hard\"\n            @click.native=\"onCancel\"\n            v-text=\"$t('general.cancel')\"\n          />\n\n          <apo-button\n            class=\"ml-6 text-white button button--primary button--small shadow-hard-dark\"\n            @click.native=\"addPharmacyUniqueNumber\"\n            v-text=\"$t('modules.pharmacySummary.buttons.lookup')\"\n          />\n        </div>\n      </div>\n    </apo-collapsible-content>\n  </div>\n</template>\n\n<script>\n\nimport find from 'lodash/find';\nimport flatten from 'lodash/flatten';\nimport get from 'lodash/get';\nimport { mapGetters } from 'vuex';\nimport InputLabel from '@/components/form-renderer/InputLabel.vue';\nimport PharmacySummaryPharmacy from '@/components/form-renderer/PharmacySummaryPharmacy.vue';\nimport PharmacySummaryExpertOnlyPharmacy from '@/components/form-renderer/PharmacySummaryExpertOnlyPharmacy.vue';\nimport TextInput from '@/components/form-renderer/TextInput.vue';\nimport PharmacyService from '../../services/api/PharmacyService';\nimport PharmaciesFuzzySearch from '@/components/form-renderer/PharmaciesFuzzySearch.vue';\nimport LanguageService from '@/services/settings/LanguageService';\n\nexport default {\n  components: {\n    'apo-input-label': InputLabel,\n    'apo-pharmacy-summary-pharmacy': PharmacySummaryPharmacy,\n    'apo-pharmacy-summary-expert-only-pharmacy': PharmacySummaryExpertOnlyPharmacy,\n    'apo-text-input': TextInput,\n    'apo-pharmacies-fuzzy-search': PharmaciesFuzzySearch,\n  },\n\n  props: {\n    value: {\n      type: String,\n      default: '',\n    },\n  },\n\n  data() {\n    return {\n      expertCode: '',\n      pharmacyUniqueNumber: '',\n      lookupPharmacyUniqueNumber: '',\n      isLookupPharmacyUniqueNumberValid: true,\n      isPharmacyInputVisible: false,\n      associatedPharmacyUniqueNumbers: [],\n      isExpertOnly: false,\n      expertOnlyPharmacies: [],\n      pharmacyForm: [\n        {\n          type: 'textInput',\n          id: 'pharmacy-name',\n          ref: 'pharmacyName',\n          model: '',\n        },\n        {\n          type: 'selectInput',\n          id: 'pharmacy-country',\n          ref: 'pharmacyCountry',\n          model: 'germany',\n          options: [\n            {\n              value: 'germany',\n              text: this.$t('modules.pharmacySummary.form.germany'),\n            },\n            {\n              value: 'denmark',\n              text: this.$t('modules.pharmacySummary.form.denmark'),\n            },\n            {\n              value: 'poland',\n              text: this.$t('modules.pharmacySummary.form.poland'),\n            },\n            {\n              value: 'czechRepublic',\n              text: this.$t('modules.pharmacySummary.form.czechRepublic'),\n            },\n            {\n              value: 'austria',\n              text: this.$t('modules.pharmacySummary.form.austria'),\n            },\n            {\n              value: 'switzerland',\n              text: this.$t('modules.pharmacySummary.form.switzerland'),\n            },\n            {\n              value: 'france',\n              text: this.$t('modules.pharmacySummary.form.france'),\n            },\n            {\n              value: 'luxembourg',\n              text: this.$t('modules.pharmacySummary.form.luxembourg'),\n            },\n            {\n              value: 'belgium',\n              text: this.$t('modules.pharmacySummary.form.belgium'),\n            },\n            {\n              value: 'netherlands',\n              text: this.$t('modules.pharmacySummary.form.netherlands'),\n            },\n          ],\n        },\n        {\n          type: 'textInput',\n          id: 'pharmacy-street',\n          ref: 'pharmacyStreet',\n          model: '',\n        },\n        {\n          type: 'textInput',\n          id: 'pharmacy-street-no',\n          ref: 'pharmacyStreetNo',\n          model: '',\n        },\n        {\n          type: 'textInput',\n          id: 'pharmacy-zip-code',\n          ref: 'pharmacyZipCode',\n          model: '',\n        },\n        {\n          type: 'textInput',\n          id: 'pharmacy-city',\n          ref: 'pharmacyCity',\n          model: '',\n        },\n      ],\n    };\n  },\n\n  computed: {\n    ...mapGetters(['salesRepName']),\n  },\n\n  watch: {\n    value: {\n      immediate: true,\n      handler(value) {\n        this.associatedPharmacyUniqueNumbers = this.parsePharmacyUniqueNumbersValueString(value);\n      },\n    },\n  },\n\n  methods: {\n    focusInputField() {\n      try {\n        this.$refs.addAnotherPharmacyUniqueNumber.$el.querySelector('input').focus();\n      } catch (e) {\n        // left blank intentionally\n      }\n    },\n\n    getAllFields() {\n      return flatten(this.$parent.pages.map(page => page.fields));\n    },\n\n    findEnteredExpertCode() {\n      const uniquePharmacyNumberField = find(\n        this.getAllFields(),\n        field => field.cssClass.match(/validate-expert-code/),\n      );\n\n      return get(uniquePharmacyNumberField, 'inputs.0.value', '');\n    },\n\n    findEnteredPharmacyUniqueNumber() {\n      const uniquePharmacyNumberField = find(\n        this.getAllFields(),\n        field => field.cssClass.match(/validate-pharmacy-unique-number/),\n      );\n\n      return get(uniquePharmacyNumberField, 'inputs.0.value', '');\n    },\n\n    findEnteredPgCustomerId() {\n      const uniqueCustomerIdField = find(\n        this.getAllFields(),\n        field => field.cssClass.match(/validate-pg_customer_id/),\n      );\n\n      return get(uniqueCustomerIdField, 'inputs.0.value', '');\n    },\n\n    findExpertOnlyPharmacies() {\n      const uniqueCustomerIdField = find(\n        this.getAllFields(),\n        field => field.cssClass.match(/validate-expert_only_pharmacies/),\n      );\n\n      return uniqueCustomerIdField;\n    },\n\n    addPharmacy(pharmacy) {\n      this.pharmacyForm[0].model = pharmacy.name;\n      this.pharmacyForm[1].model = LanguageService.resolveCountry();\n      this.pharmacyForm[2].model = pharmacy.street;\n      this.pharmacyForm[3].model = pharmacy.number;\n      this.pharmacyForm[4].model = pharmacy.zip;\n      this.pharmacyForm[5].model = pharmacy.city;\n      this.expertOnlyPharmacies.push(this.pharmacyForm.map(field => ({ title: field.ref, value: field.model })));\n\n      const field = this.findExpertOnlyPharmacies();\n\n      field.inputs[0].value = JSON.stringify(this.expertOnlyPharmacies);\n    },\n\n    removePharmacy(index) {\n      this.expertOnlyPharmacies = this.expertOnlyPharmacies.filter((expertOnlyPharmacy, i) => i !== index);\n\n      const field = this.findExpertOnlyPharmacies();\n      field.inputs[0].value = JSON.stringify(this.expertOnlyPharmacies);\n    },\n\n    addPharmacyUniqueNumber() {\n      this.isLookupPharmacyUniqueNumberValid = PharmacyService.fetchById(this.lookupPharmacyUniqueNumber);\n\n      if (this.lookupPharmacyUniqueNumber === this.pharmacyUniqueNumber) {\n        this.isLookupPharmacyUniqueNumberValid = false;\n      }\n\n      const isPharmacyUniqueNumberUnique = this.associatedPharmacyUniqueNumbers\n        .every(number => number !== this.lookupPharmacyUniqueNumber);\n\n      if (!isPharmacyUniqueNumberUnique) {\n        this.isLookupPharmacyUniqueNumberValid = false;\n      }\n\n      if (this.isLookupPharmacyUniqueNumberValid) {\n        const updatedPharmacyUniqueNumbers = this.associatedPharmacyUniqueNumbers\n          .concat([this.lookupPharmacyUniqueNumber]);\n\n        this.$emit('input', this.buildPharmacyUniqueNumbersValueString(updatedPharmacyUniqueNumbers));\n\n        this.lookupPharmacyUniqueNumber = '';\n        this.isPharmacyInputVisible = false;\n      }\n    },\n\n    removeAssociatedPharmacyUniqueNumber(pharmacyUniqueNumber) {\n      const updatedPharmacyUniqueNumbers = this.associatedPharmacyUniqueNumbers.filter(\n        number => number !== pharmacyUniqueNumber,\n      );\n\n      this.$emit('input', this.buildPharmacyUniqueNumbersValueString(updatedPharmacyUniqueNumbers));\n    },\n\n    buildPharmacyUniqueNumbersValueString(pharmacyUniqueNumbers) {\n      return pharmacyUniqueNumbers.join(',');\n    },\n\n    parsePharmacyUniqueNumbersValueString(pharmacyUniqueNumbersStrings) {\n      return pharmacyUniqueNumbersStrings.split(',').filter(val => val !== '');\n    },\n\n    onCancel() {\n      this.isPharmacyInputVisible = false;\n      this.isLookupPharmacyUniqueNumberValid = true;\n    },\n  },\n\n  created() {\n    this.expertCode = this.findEnteredExpertCode();\n    this.pharmacyUniqueNumber = this.expertCode && this.findEnteredPharmacyUniqueNumber() ? this.findEnteredPharmacyUniqueNumber() : this.findEnteredPgCustomerId();\n    this.isExpertOnly = !((!this.expertCode && this.findEnteredPgCustomerId()) || (this.expertCode && this.findEnteredPharmacyUniqueNumber() !== '') || this.salesRepName === undefined);\n  },\n};\n\n</script>\n\n<style lang=\"scss\" scoped>\n  .close {\n    position: absolute;\n    top: 0;\n    right: 0;\n\n    @media (min-width: theme('screens.tablet')) {\n      top: 50%;\n      transform: translateY(-50%);\n    }\n  }\n</style>\n"]}]}