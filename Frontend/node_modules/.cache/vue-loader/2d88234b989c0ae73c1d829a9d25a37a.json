{"remainingRequest":"/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/components/content/page-indicator/PageIndicator.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/src/components/content/page-indicator/PageIndicator.vue","mtime":1683275992554},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgQ21zQ29udGVudFJlbmRlcmVyIGZyb20gJ0AvY29tcG9uZW50cy9jbXMvQ21zQ29udGVudFJlbmRlcmVyLnZ1ZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgaW5qZWN0OiBbJ3BhZ2VJbmRpY2F0b3JzU3RhdGUnXSwKCiAgY29tcG9uZW50czogewogICAgJ2Fwby1jbXMtY29udGVudC1yZW5kZXJlcic6IENtc0NvbnRlbnRSZW5kZXJlciwKICB9LAoKICBwcm9wczogewogICAgaWQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgIH0sCgogICAgdGl0bGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgIH0sCgogICAgY29udGVudDogewogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdLAogICAgICB2YWxpZGF0b3I6IHByb3AgPT4gdHlwZW9mIHByb3AgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBwcm9wID09PSAnYm9vbGVhbicsCiAgICB9LAoKICAgIG9wZW46IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCgogICAgY29tcGxldGVkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICB9LAoKICAgIHdpdGhOZXh0QnV0dG9uOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICB9LAogIH0sCgogIHByb3ZpZGUoKSB7CiAgICByZXR1cm4gewogICAgICBwYWdlSW5kaWNhdG9yU3RhdGU6IHRoaXMuc2hhcmVkU3RhdGUsCiAgICB9OwogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaGFyZWRTdGF0ZTogewogICAgICAgIGlzT3BlbjogdGhpcy5vcGVuLAogICAgICAgIGlzQ29tcGxldGVkOiB0aGlzLmNvbXBsZXRlZCwKICAgICAgfSwKICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIGNvbXB1dGVkQ29udGVudCgpIHsKICAgICAgcmV0dXJuIHRoaXMuY29udGVudCA/IHRoaXMuY29udGVudCA6IFtdOwogICAgfSwKCiAgICBpc09wZW46IHsKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLnNoYXJlZFN0YXRlLmlzT3BlbjsKICAgICAgfSwKCiAgICAgIHNldChpc09wZW4pIHsKICAgICAgICB0aGlzLnNoYXJlZFN0YXRlLmlzT3BlbiA9IGlzT3BlbjsKICAgICAgICB0aGlzLnVwZGF0ZUluamVjdGVkU3RhdGUoKTsKICAgICAgfSwKICAgIH0sCgogICAgaXNDb21wbGV0ZWQ6IHsKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLnNoYXJlZFN0YXRlLmlzQ29tcGxldGVkOwogICAgICB9LAogICAgICBzZXQoaXNDb21wbGV0ZWQpIHsKICAgICAgICB0aGlzLnNoYXJlZFN0YXRlLmlzQ29tcGxldGVkID0gaXNDb21wbGV0ZWQ7CiAgICAgICAgdGhpcy51cGRhdGVJbmplY3RlZFN0YXRlKCk7CiAgICAgIH0sCiAgICB9LAogIH0sCgogIHdhdGNoOiB7CiAgICBvcGVuOiB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgaGFuZGxlcihpc09wZW4pIHsKICAgICAgICB0aGlzLmlzT3BlbiA9IGlzT3BlbjsKICAgICAgfSwKICAgIH0sCgogICAgY29tcGxldGVkOiB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgaGFuZGxlcihpc0NvbXBsZXRlZCkgewogICAgICAgIHRoaXMuaXNDb21wbGV0ZWQgPSBpc0NvbXBsZXRlZDsKICAgICAgfSwKICAgIH0sCgogICAgaXNPcGVuKGlzT3BlbikgewogICAgICBpZiAoaXNPcGVuKSB7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgdGhpcy4kc2Nyb2xsVG8odGhpcy4kZWwsIDUwMCwgewogICAgICAgICAgICB4OiBmYWxzZSwKICAgICAgICAgICAgeTogdHJ1ZSwKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY29tcGxldGUoKTsKICAgICAgfQogICAgfSwKCiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lcwogICAgJ3BhZ2VJbmRpY2F0b3JzU3RhdGUuYWN0aXZlUGFnZUluZGljYXRvcic6IGZ1bmN0aW9uIChhY3RpdmVQYWdlSW5kaWNhdG9ySWQpIHsKICAgICAgdGhpcy5pc09wZW4gPSBhY3RpdmVQYWdlSW5kaWNhdG9ySWQgPT09IHRoaXMuaWQ7CiAgICB9LAogIH0sCgogIG1ldGhvZHM6IHsKICAgIHRvZ2dsZSgpIHsKICAgICAgaWYgKHRoaXMuaXNPcGVuKSB7CiAgICAgICAgdGhpcy5jbG9zZVBhZ2VJbmRpY2F0b3IoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm9wZW5QYWdlSW5kaWNhdG9yKCk7CiAgICAgIH0KICAgIH0sCgogICAgb3BlblBhZ2VJbmRpY2F0b3IoKSB7CiAgICAgIHRoaXMucGFnZUluZGljYXRvcnNTdGF0ZS5hY3RpdmVQYWdlSW5kaWNhdG9yID0gdGhpcy5pZDsKICAgIH0sCgogICAgY2xvc2VQYWdlSW5kaWNhdG9yKCkgewogICAgICB0aGlzLnBhZ2VJbmRpY2F0b3JzU3RhdGUuYWN0aXZlUGFnZUluZGljYXRvciA9IG51bGw7CiAgICB9LAoKICAgIGNvbXBsZXRlKCkgewogICAgICB0aGlzLmlzQ29tcGxldGVkID0gdHJ1ZTsKICAgIH0sCgogICAgb25Db250aW51ZSgpIHsKICAgICAgdGhpcy5jb21wbGV0ZSgpOwogICAgICB0aGlzLmNsb3NlUGFnZUluZGljYXRvcigpOwoKICAgICAgdGhpcy4kcGFyZW50LiRlbWl0KCdjb250aW51ZScsIHRoaXMuaWQpOwogICAgfSwKCiAgICB1cGRhdGVJbmplY3RlZFN0YXRlKCkgewogICAgICB0aGlzLnBhZ2VJbmRpY2F0b3JzU3RhdGUucGFnZUluZGljYXRvcnMgPSB0aGlzLnBhZ2VJbmRpY2F0b3JzU3RhdGUucGFnZUluZGljYXRvcnMKICAgICAgICAubWFwKHBhZ2VJbmRpY2F0b3IgPT4gewogICAgICAgICAgaWYgKHBhZ2VJbmRpY2F0b3IuaWQgPT09IHRoaXMuaWQpIHsKICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi8KICAgICAgICAgICAgcGFnZUluZGljYXRvci5pc09wZW4gPSB0aGlzLmlzT3BlbjsKICAgICAgICAgICAgcGFnZUluZGljYXRvci5pc0NvbXBsZXRlZCA9IHRoaXMuaXNDb21wbGV0ZWQ7CiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi8KICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gcGFnZUluZGljYXRvcjsKICAgICAgICB9KTsKICAgIH0sCiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMucGFnZUluZGljYXRvcnNTdGF0ZS5wYWdlSW5kaWNhdG9ycy5wdXNoKHsKICAgICAgaWQ6IHRoaXMuaWQsCiAgICAgIGlzT3BlbjogdGhpcy5pc09wZW4sCiAgICAgIGlzQ29tcGxldGVkOiB0aGlzLmlzQ29tcGxldGVkLAogICAgfSk7CiAgfSwKCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMucGFnZUluZGljYXRvcnNTdGF0ZS5wYWdlSW5kaWNhdG9ycyA9IHRoaXMucGFnZUluZGljYXRvcnNTdGF0ZS5wYWdlSW5kaWNhdG9ycwogICAgICAuZmlsdGVyKGluZGljYXRvciA9PiBpbmRpY2F0b3IuaWQgIT09IHRoaXMuaWQpOwogIH0sCn07Cg=="},{"version":3,"sources":["PageIndicator.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"PageIndicator.vue","sourceRoot":"src/components/content/page-indicator","sourcesContent":["<template>\n  <div class=\"page-indicator w-full font-display\">\n    <div\n      class=\"page-indicator__head py-2 text-3xl cursor-pointer head-background-class\"\n      @click=\"toggle\"\n    >\n      <div class=\"container flex\">\n        <span class=\"page-indicator__icon mr-4\">\n          <apo-icon\n            v-if=\"isCompleted\"\n            src=\"radio_checked\"\n            class=\"page-indicator__icon--unchecked w-8 h-8\"\n          />\n          <apo-icon\n            v-else\n            src=\"radio\"\n            class=\"page-indicator__icon--checked w-8 h-8\"\n          />\n        </span>\n        <div\n          class=\"page-indicator__title flex-1\"\n          v-html=\"$options.filters.formatContent(title)\"\n        />\n      </div>\n    </div>\n    <div\n      v-show=\"isOpen\"\n      class=\"page-indicator__body py-8 overflow-hidden\"\n    >\n      <div class=\"container\">\n        <div class=\"page-indicator__content\">\n          <apo-cms-content-renderer\n            v-show=\"content\"\n            :id=\"id\"\n            :components=\"computedContent\"\n          />\n          <slot/>\n        </div>\n        <div\n          v-if=\"withNextButton\"\n          class=\"page-indicator__actions flex justify-center\"\n        >\n          <apo-button\n            class=\"button text-white button--tiny shadow-hard primary-button-class\"\n            @click=\"onContinue\"\n            v-text=\"$t('general.continue')\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport CmsContentRenderer from '@/components/cms/CmsContentRenderer.vue';\n\nexport default {\n  inject: ['pageIndicatorsState'],\n\n  components: {\n    'apo-cms-content-renderer': CmsContentRenderer,\n  },\n\n  props: {\n    id: {\n      type: Number,\n      required: true,\n    },\n\n    title: {\n      type: String,\n      required: true,\n    },\n\n    content: {\n      required: false,\n      default: () => [],\n      validator: prop => typeof prop === 'object' || typeof prop === 'boolean',\n    },\n\n    open: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    completed: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    withNextButton: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n  },\n\n  provide() {\n    return {\n      pageIndicatorState: this.sharedState,\n    };\n  },\n\n  data() {\n    return {\n      sharedState: {\n        isOpen: this.open,\n        isCompleted: this.completed,\n      },\n    };\n  },\n\n  computed: {\n    computedContent() {\n      return this.content ? this.content : [];\n    },\n\n    isOpen: {\n      get() {\n        return this.sharedState.isOpen;\n      },\n\n      set(isOpen) {\n        this.sharedState.isOpen = isOpen;\n        this.updateInjectedState();\n      },\n    },\n\n    isCompleted: {\n      get() {\n        return this.sharedState.isCompleted;\n      },\n      set(isCompleted) {\n        this.sharedState.isCompleted = isCompleted;\n        this.updateInjectedState();\n      },\n    },\n  },\n\n  watch: {\n    open: {\n      immediate: true,\n      handler(isOpen) {\n        this.isOpen = isOpen;\n      },\n    },\n\n    completed: {\n      immediate: true,\n      handler(isCompleted) {\n        this.isCompleted = isCompleted;\n      },\n    },\n\n    isOpen(isOpen) {\n      if (isOpen) {\n        this.$nextTick(() => {\n          this.$scrollTo(this.$el, 500, {\n            x: false,\n            y: true,\n          });\n        });\n      } else {\n        this.complete();\n      }\n    },\n\n    // eslint-disable-next-line func-names\n    'pageIndicatorsState.activePageIndicator': function (activePageIndicatorId) {\n      this.isOpen = activePageIndicatorId === this.id;\n    },\n  },\n\n  methods: {\n    toggle() {\n      if (this.isOpen) {\n        this.closePageIndicator();\n      } else {\n        this.openPageIndicator();\n      }\n    },\n\n    openPageIndicator() {\n      this.pageIndicatorsState.activePageIndicator = this.id;\n    },\n\n    closePageIndicator() {\n      this.pageIndicatorsState.activePageIndicator = null;\n    },\n\n    complete() {\n      this.isCompleted = true;\n    },\n\n    onContinue() {\n      this.complete();\n      this.closePageIndicator();\n\n      this.$parent.$emit('continue', this.id);\n    },\n\n    updateInjectedState() {\n      this.pageIndicatorsState.pageIndicators = this.pageIndicatorsState.pageIndicators\n        .map(pageIndicator => {\n          if (pageIndicator.id === this.id) {\n            /* eslint-disable no-param-reassign */\n            pageIndicator.isOpen = this.isOpen;\n            pageIndicator.isCompleted = this.isCompleted;\n            /* eslint-enable no-param-reassign */\n          }\n\n          return pageIndicator;\n        });\n    },\n  },\n\n  created() {\n    this.pageIndicatorsState.pageIndicators.push({\n      id: this.id,\n      isOpen: this.isOpen,\n      isCompleted: this.isCompleted,\n    });\n  },\n\n  beforeDestroy() {\n    this.pageIndicatorsState.pageIndicators = this.pageIndicatorsState.pageIndicators\n      .filter(indicator => indicator.id !== this.id);\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.theme-training {\n  .primary-button-class {\n    @apply bg-training-500;\n  }\n  .head-background-class {\n    @apply bg-training-100;\n  }\n}\n\n.theme-scientific {\n  .primary-button-class {\n    @apply bg-scientific-500;\n  }\n  .head-background-class {\n    @apply bg-scientific-100;\n  }\n}\n</style>\n"]}]}