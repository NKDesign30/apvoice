{"remainingRequest":"/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/components/detailers-job/InformationalTrainingTeaser.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/src/components/detailers-job/InformationalTrainingTeaser.vue","mtime":1683275992558},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwoKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBpbmZvcm1hdGlvbmFsVHJhaW5pbmc6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiB7fSwKICAgIH0sCgogICAgcGhhcm1hY3k6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiB7fSwKICAgIH0sCiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKHsKICAgICAgc2F2ZWRTdGF0ZXM6IHN0YXRlID0+IHN0YXRlLmRldGFpbGVyc0pvYi5zYXZlZFN0YXRlcywKICAgIH0pLAoKICAgIHNhdmVkU3RhdGUoKSB7CiAgICAgIHJldHVybiB0aGlzLnNhdmVkU3RhdGVzLmZpbmQoc3RhdGUgPT4gc3RhdGUuaW5mb3JtYXRpb25hbFRyYWluaW5nSWQgPT09IHRoaXMuaW5mb3JtYXRpb25hbFRyYWluaW5nLmlkICYmIHN0YXRlLnBoYXJtYWN5SWQgPT09IHRoaXMucGhhcm1hY3kuaWQpOwogICAgfSwKCiAgICBoYXNTYXZlZFN0YXRlKCkgewogICAgICByZXR1cm4gdGhpcy5zYXZlZFN0YXRlICE9PSB1bmRlZmluZWQ7CiAgICB9LAoKICAgIHNhdmVkU3RhdGVTdGVwKCkgewogICAgICBpZiAoIXRoaXMuaGFzU2F2ZWRTdGF0ZSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CgogICAgICBjb25zdCBxdWVzdGlvbkluZGV4ID0gdGhpcy5pbmZvcm1hdGlvbmFsVHJhaW5pbmcucXVlc3Rpb25zLmZpbmRJbmRleChxdWVzdGlvbiA9PiBxdWVzdGlvbi5pZCA9PT0gdGhpcy5zYXZlZFN0YXRlLmxhc3RRdWVzdGlvbklkKTsKCiAgICAgIHJldHVybiBxdWVzdGlvbkluZGV4ICsgMTsKICAgIH0sCgogICAgdG90YWxTdGVwcygpIHsKICAgICAgcmV0dXJuIHRoaXMuaW5mb3JtYXRpb25hbFRyYWluaW5nLnF1ZXN0aW9ucy5sZW5ndGg7CiAgICB9LAoKICAgIGlzT25lU3RlcExlZnQoKSB7CiAgICAgIGlmICghdGhpcy5oYXNTYXZlZFN0YXRlKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5zYXZlZFN0YXRlU3RlcCA9PT0gdGhpcy50b3RhbFN0ZXBzIC0gMTsKICAgIH0sCgogICAgaXNGaW5pc2hlZCgpIHsKICAgICAgaWYgKCF0aGlzLmhhc1NhdmVkU3RhdGUpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLnNhdmVkU3RhdGVTdGVwID09PSB0aGlzLnRvdGFsU3RlcHM7CiAgICB9LAoKICAgIGJ1dHRvblRleHQoKSB7CiAgICAgIGlmICh0aGlzLmlzRmluaXNoZWQpIHsKICAgICAgICByZXR1cm4gdGhpcy4kdCgnZGV0YWlsZXJzSm9iLmJ1dHRvbnMubG9va3VwJyk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmlzT25lU3RlcExlZnQpIHsKICAgICAgICByZXR1cm4gdGhpcy4kdCgnZGV0YWlsZXJzSm9iLmJ1dHRvbnMuZmluaXNoJyk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLiR0KCdkZXRhaWxlcnNKb2IuYnV0dG9ucy5zdGFydCcpOwogICAgfSwKICB9LAoKICBtZXRob2RzOiB7CiAgICBzdGFydCgpIHsKICAgICAgbGV0IHRyYWluaW5nVXJsID0gYC9kZXRhaWxlcnMtam9iL3RyYWluaW5nLyR7dGhpcy5pbmZvcm1hdGlvbmFsVHJhaW5pbmcuaWR9LyR7dGhpcy5waGFybWFjeS5pZH1gOwoKICAgICAgaWYgKHRoaXMuaGFzU2F2ZWRTdGF0ZSAmJiAhdGhpcy5pc0ZpbmlzaGVkKSB7CiAgICAgICAgdHJhaW5pbmdVcmwgKz0gYC8ke3RoaXMuc2F2ZWRTdGF0ZS5sYXN0UXVlc3Rpb25JZH1gOwogICAgICB9CgogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh0cmFpbmluZ1VybCk7CiAgICB9LAogIH0sCn07Cgo="},{"version":3,"sources":["InformationalTrainingTeaser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"InformationalTrainingTeaser.vue","sourceRoot":"src/components/detailers-job","sourcesContent":["<template>\n  <div class=\"informational-training-teaser p-4 flex flex-wrap bg-gray-300\">\n    <div class=\"flex flex-1\">\n      <div class=\"flex items-center\">\n        <apo-icon\n          class=\"w-12 text-blue-700\"\n          src=\"training\"\n        />\n      </div>\n      <div\n        class=\"mx-12 flex items-center flex-1 headline-4\"\n        v-html=\"$options.filters.formatContent(informationalTraining.title)\"\n      />\n    </div>\n    <div class=\"mt-6 tablet:mt-0 w-full tablet:w-48 flex flex-col justify-center items-center tablet:items-end\">\n      <apo-button\n        class=\"action-button button button--tiny\"\n        @click.native=\"start\"\n        v-text=\"buttonText\"\n      />\n      <template v-if=\"hasSavedState\">\n        <small\n          v-if=\"isFinished\"\n          class=\"mt-2 italic\"\n          v-text=\"$t('detailersJob.isFinished')\"\n        />\n        <small\n          v-else\n          class=\"mt-2 italic\"\n          v-text=\"$t('detailersJob.lastSavedStep', { step: savedStateStep, totalSteps })\"\n        />\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport { mapState } from 'vuex';\n\nexport default {\n  props: {\n    informationalTraining: {\n      type: Object,\n      default: () => {},\n    },\n\n    pharmacy: {\n      type: Object,\n      default: () => {},\n    },\n  },\n\n  computed: {\n    ...mapState({\n      savedStates: state => state.detailersJob.savedStates,\n    }),\n\n    savedState() {\n      return this.savedStates.find(state => state.informationalTrainingId === this.informationalTraining.id && state.pharmacyId === this.pharmacy.id);\n    },\n\n    hasSavedState() {\n      return this.savedState !== undefined;\n    },\n\n    savedStateStep() {\n      if (!this.hasSavedState) {\n        return null;\n      }\n\n      const questionIndex = this.informationalTraining.questions.findIndex(question => question.id === this.savedState.lastQuestionId);\n\n      return questionIndex + 1;\n    },\n\n    totalSteps() {\n      return this.informationalTraining.questions.length;\n    },\n\n    isOneStepLeft() {\n      if (!this.hasSavedState) {\n        return false;\n      }\n\n      return this.savedStateStep === this.totalSteps - 1;\n    },\n\n    isFinished() {\n      if (!this.hasSavedState) {\n        return false;\n      }\n\n      return this.savedStateStep === this.totalSteps;\n    },\n\n    buttonText() {\n      if (this.isFinished) {\n        return this.$t('detailersJob.buttons.lookup');\n      }\n\n      if (this.isOneStepLeft) {\n        return this.$t('detailersJob.buttons.finish');\n      }\n\n      return this.$t('detailersJob.buttons.start');\n    },\n  },\n\n  methods: {\n    start() {\n      let trainingUrl = `/detailers-job/training/${this.informationalTraining.id}/${this.pharmacy.id}`;\n\n      if (this.hasSavedState && !this.isFinished) {\n        trainingUrl += `/${this.savedState.lastQuestionId}`;\n      }\n\n      this.$router.push(trainingUrl);\n    },\n  },\n};\n\n</script>\n\n<style lang=\"scss\" scoped>\n\n.action-button {\n  @apply shadow-hard-dark;\n  @apply text-blue-600;\n  @apply bg-white #{!important};\n  @apply py-2 #{!important};\n  @apply px-12 #{!important};\n\n  &:hover {\n    @apply bg-gray-100 #{!important};\n  }\n}\n\n</style>\n"]}]}