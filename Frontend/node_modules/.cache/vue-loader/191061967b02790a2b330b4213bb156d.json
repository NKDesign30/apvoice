{"remainingRequest":"/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/components/maintenance/index.vue?vue&type=style&index=0&id=d2ff2814&lang=scss&scoped=true&","dependencies":[{"path":"/app/src/components/maintenance/index.vue","mtime":1683275992562},{"path":"/app/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/app/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/app/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubG9naW4gewogICYtd3JhcHBlciB7CiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoCiAgICAgIDEyMGRlZywKICAgICAgdGhlbWUoImNvbG9ycy5ibHVlLjYwMCIpLAogICAgICB0aGVtZSgiY29sb3JzLmJsdWUuNDAwIikKICAgICk7CgogICAgLmJ1dHRvbiB7CiAgICAgIEBhcHBseSBweS02OwogICAgICBAYXBwbHkgcHgtNDsKICAgIH0KICB9CgogIC9kZWVwLyAmLXRleHQtaW5wdXQgewogICAgQGFwcGx5IHBsLTE2OwogICAgQGFwcGx5IHByLTg7CiAgICBAYXBwbHkgcHktNjsKICAgIEBhcHBseSB0ZXh0LXdoaXRlOwoKICAgICY6aG92ZXIsCiAgICAmOmZvY3VzIHsKICAgICAgYmFja2dyb3VuZC1jb2xvcjogaHNsYSgwLCAwJSwgMTAwJSwgMC4wOCk7CiAgICAgIGJvcmRlci1jb2xvcjogdGhlbWUoImNvbG9ycy53aGl0ZSIpOwogICAgfQoKICAgICYtd3JhcHBlciB7CiAgICAgIEBhcHBseSBib3JkZXItNDsKICAgICAgQGFwcGx5IGJvcmRlci13aGl0ZTsKICAgIH0KICB9CgogICZfX2hlYWRsaW5lIHsKICAgIEBhcHBseSB0ZXh0LWNlbnRlcjsKICAgIEBhcHBseSB0ZXh0LXdoaXRlOwogICAgQGFwcGx5IGZvbnQtZGlzcGxheTsKICAgIEBhcHBseSB0ZXh0LTN4bDsKICAgIGxpbmUtaGVpZ2h0OiAyLjVyZW07CiAgICBmb250LXdlaWdodDogMzAwOwoKICAgIEBzY3JlZW4gdGFibGV0IHsKICAgICAgZm9udC1zaXplOiAzLjEyNXJlbTsKICAgICAgbGluZS1oZWlnaHQ6IDMuNzVyZW07CiAgICB9CgogICAgQHNjcmVlbiBkZXNrdG9wIHsKICAgICAgZm9udC1zaXplOiAzLjc1cmVtOwogICAgICBsaW5lLWhlaWdodDogNC4zNzVyZW07CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmIA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/maintenance","sourcesContent":["<template>\n  <div style=\"height: 60vh\">\n    <div class=\"login-wrapper\">\n      <div class=\"container py-24 mx-auto\">\n        <div class=\"flex flex-col items-center login\">\n          <h1 class=\"text-xs login__headline text-[25px]\">\n            Hola queridos usuarios, <br> Actualmente estamos revisando nuestro sitio\n            web. <br> Por favor, vuelva m√°s tarde. <br>Saludos de su equipo de Apovoice\n          </h1>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport get from \"lodash/get\";\nimport TextInput from \"@/components/form-renderer/TextInput.vue\";\nimport { AUTH_LOGIN } from \"@/store/types/action-types\";\nimport { AUTH_UPDATE_SHOW_UPDATE_PHARMACY_MODAL } from \"@/store/types/mutation-types\";\nimport Frontpage from \"@/components/frontpage/Frontpage.vue\";\nimport PageService from \"@/services/api/PageService\";\n\nexport default {\n  components: {\n    \"apo-text-input\": TextInput,\n    \"apo-frontpage\": Frontpage,\n  },\n\n  data() {\n    return {\n      form: {\n        username: \"\",\n        password: \"\",\n      },\n      loginStatus: \"\",\n      isBusy: false,\n    };\n  },\n\n  methods: {\n    login() {\n      this.isBusy = true;\n      this.loginStatus = this.$t(\"pages.login.messages.pending\");\n\n      window.axios\n        .post(\"/wp-json/jwt-auth/v1/token\", this.form)\n        .then(({ data }) => {\n          if (Object.keys(data).includes(\"has_updated_pharmacy_address\")) {\n            this.$store.commit(\n              AUTH_UPDATE_SHOW_UPDATE_PHARMACY_MODAL,\n              !data.has_updated_pharmacy_address\n            );\n          }\n          this.loginStatus = this.$t(\"pages.login.messages.success\");\n\n          this.$store\n            .dispatch(AUTH_LOGIN, {\n              token: data.token,\n              user: {\n                name: data.user_display_name,\n                email: data.user_email,\n              },\n            })\n            .then(() => {\n              PageService.getPages().then((dataPages) => {\n                this.$store.commit(\"addPageContent\", dataPages);\n                const tmpData = dataPages.filter((page) => page.acf.slides);\n                tmpData.forEach((page) => {\n                  this.$store.commit(\"addStage\", {\n                    name: page.slug,\n                    stage: {\n                      minimum_height: page.acf.minimum_height,\n                      slides: page.acf.slides,\n                    },\n                  });\n                });\n\n                if (this.$route.query.redirect_path) {\n                  this.$router.replace({\n                    path: this.$route.query.redirect_path,\n                  });\n                } else {\n                  this.$router.replace(\"/welcome\");\n                }\n              });\n            });\n        })\n        .catch((error) => {\n          const errorCode = get(error, \"response.data.code\", \"\").replace(\n            /\\[jwt_auth\\]\\s+/g,\n            \"\"\n          );\n\n          const errorMessage = get(error, \"response.data.message\", \"\");\n          const errorStatus = get(error, \"response.status\", 0);\n\n          if (\n            errorMessage.indexOf(\"You are temporarily locked out\") !== -1 &&\n            errorStatus === 503\n          ) {\n            this.loginStatus = this.$t(\"errors.too_many_retries\");\n            /**\n             * The 'incorrect_password' error must be translated on the frontend,\n             * because wordfence provides an translation issue that is not resolved.\n             * Maybe this can be fixed in the future.\n             * @link https://wordpress.org/support/topic/cant-translate-error-the-username-or-password-you-entered-is-incorrect/\n             */\n          } else if (\n            errorCode === \"too_many_retries\" ||\n            errorCode === \"incorrect_password\"\n          ) {\n            // const match = error.response.data.message.match(/(\\d+).*?(\\w+)/);\n            this.loginStatus = this.$t(`errors.${errorCode}`);\n          } else {\n            this.loginStatus = get(error, \"response.data.message\", \"\");\n          }\n        })\n        .finally(() => {\n          this.isBusy = false;\n        });\n    },\n\n    onRegisterClick() {\n      this.$router.push(\"/registration\");\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.login {\n  &-wrapper {\n    background: linear-gradient(\n      120deg,\n      theme(\"colors.blue.600\"),\n      theme(\"colors.blue.400\")\n    );\n\n    .button {\n      @apply py-6;\n      @apply px-4;\n    }\n  }\n\n  /deep/ &-text-input {\n    @apply pl-16;\n    @apply pr-8;\n    @apply py-6;\n    @apply text-white;\n\n    &:hover,\n    &:focus {\n      background-color: hsla(0, 0%, 100%, 0.08);\n      border-color: theme(\"colors.white\");\n    }\n\n    &-wrapper {\n      @apply border-4;\n      @apply border-white;\n    }\n  }\n\n  &__headline {\n    @apply text-center;\n    @apply text-white;\n    @apply font-display;\n    @apply text-3xl;\n    line-height: 2.5rem;\n    font-weight: 300;\n\n    @screen tablet {\n      font-size: 3.125rem;\n      line-height: 3.75rem;\n    }\n\n    @screen desktop {\n      font-size: 3.75rem;\n      line-height: 4.375rem;\n    }\n  }\n}\n</style>\n"]}]}