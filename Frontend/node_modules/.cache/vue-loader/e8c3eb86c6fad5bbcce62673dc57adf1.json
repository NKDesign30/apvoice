{"remainingRequest":"/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/components/content/tabs/Tabs.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/src/components/content/tabs/Tabs.vue","mtime":1683275992557},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgZ2V0IGZyb20gJ2xvZGFzaC9nZXQnOwppbXBvcnQgaGVhZCBmcm9tICdsb2Rhc2gvaGVhZCc7CmltcG9ydCB1bmlxdWVJZCBmcm9tICdsb2Rhc2gvdW5pcXVlSWQnOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCBUYWJCYXIgZnJvbSAnQC9jb21wb25lbnRzL2NvbnRlbnQvdGFicy9UYWJCYXIudnVlJzsKaW1wb3J0IFRhYkNvbnRlbnQgZnJvbSAnQC9jb21wb25lbnRzL2NvbnRlbnQvdGFicy9UYWJDb250ZW50LnZ1ZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgJ2Fwby10YWItYmFyJzogVGFiQmFyLAogICAgJ2Fwby10YWItY29udGVudCc6IFRhYkNvbnRlbnQsCiAgfSwKCiAgcHJvcHM6IHsKICAgIHRhYnM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgIH0sCiAgfSwKCiAgcHJvdmlkZSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNoYXJlZFN0YXRlOiB0aGlzLnNoYXJlZFN0YXRlLAogICAgfTsKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hhcmVkU3RhdGU6IHsKICAgICAgICBhY3RpdmVUYWI6IG51bGwsCiAgICAgIH0sCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsnY3VycmVudFZpZXdwb3J0J10pLAoKICAgIGhlYWRsaW5lKCkgewogICAgICByZXR1cm4gZ2V0KHRoaXMudGFicywgJ2hlYWRsaW5lJywgJycpOwogICAgfSwKCiAgICBzdWJoZWFkbGluZSgpIHsKICAgICAgcmV0dXJuIGdldCh0aGlzLnRhYnMsICdzdWJoZWFkbGluZScsICcnKTsKICAgIH0sCgogICAgdGFiSXRlbXMoKSB7CiAgICAgIHJldHVybiBnZXQodGhpcy50YWJzLCAndGFiJywgW10pLm1hcCh0YWIgPT4gKHsKICAgICAgICAuLi50YWIsCiAgICAgICAgaWQ6IHVuaXF1ZUlkKCd0YWItJyksCiAgICAgIH0pKTsKICAgIH0sCgogICAgZmlyc3RUYWIoKSB7CiAgICAgIGxldCBmaXJzdFRhYiA9IG51bGw7CiAgICAgIHRoaXMudGFiSXRlbXMubWFwKCh0YWIsIGluZGV4KSA9PiB7CiAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7CiAgICAgICAgICBmaXJzdFRhYiA9IHRhYjsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0pOwogICAgICByZXR1cm4gZmlyc3RUYWI7CiAgICB9LAoKICAgIGhhc1N1YmhlYWRsaW5lKCkgewogICAgICByZXR1cm4gdGhpcy5zdWJoZWFkbGluZSAmJiB0aGlzLnN1YmhlYWRsaW5lLmxlbmd0aCA+IDA7CiAgICB9LAoKICAgIGhhc0FjdGl2ZVRhYigpIHsKICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlVGFiICE9PSBudWxsOwogICAgfSwKCiAgICBhY3RpdmVUYWI6IHsKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLnNoYXJlZFN0YXRlLmFjdGl2ZVRhYjsKICAgICAgfSwKCiAgICAgIHNldChhY3RpdmVUYWIpIHsKICAgICAgICB0aGlzLnNoYXJlZFN0YXRlLmFjdGl2ZVRhYiA9IGFjdGl2ZVRhYjsKICAgICAgfSwKICAgIH0sCiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuc2hhcmVkU3RhdGUuYWN0aXZlVGFiID0gdGhpcy5maXJzdFRhYjsKCiAgICBjb25zdCB1bndhdGNoID0gdGhpcy4kd2F0Y2goJ2N1cnJlbnRWaWV3cG9ydCcsIGN1cnJlbnRWaWV3cG9ydCA9PiB7CiAgICAgIGlmIChjdXJyZW50Vmlld3BvcnQgIT09ICdkZXNrdG9wJyAmJiAhdGhpcy5oYXNBY3RpdmVUYWIpIHsKICAgICAgICB0aGlzLmFjdGl2ZVRhYiA9IGhlYWQodGhpcy50YWJJdGVtcyk7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gdW53YXRjaCgpKTsKICAgICAgfQogICAgfSwgeyBpbW1lZGlhdGU6IHRydWUgfSk7CiAgfSwKfTsKCg=="},{"version":3,"sources":["Tabs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Tabs.vue","sourceRoot":"src/components/content/tabs","sourcesContent":["<template>\n  <div class=\"tabs container\">\n    <h2\n      class=\"text-center\"\n      v-html=\"$options.filters.formatContent(headline)\"\n    />\n\n    <h3\n      v-if=\"hasSubheadline\"\n      class=\"mt-6 text-center\"\n      v-html=\"$options.filters.formatContent(subheadline)\"\n    />\n\n    <apo-tab-bar\n      class=\"mt-7\"\n      :tabs=\"tabItems\"\n    />\n\n    <apo-drop-down-up-transition>\n      <apo-tab-content\n        v-if=\"hasActiveTab && activeTab.content\"\n        :content=\"activeTab.content\"\n      />\n    </apo-drop-down-up-transition>\n  </div>\n</template>\n\n<script>\n\nimport get from 'lodash/get';\nimport head from 'lodash/head';\nimport uniqueId from 'lodash/uniqueId';\nimport { mapGetters } from 'vuex';\nimport TabBar from '@/components/content/tabs/TabBar.vue';\nimport TabContent from '@/components/content/tabs/TabContent.vue';\n\nexport default {\n  components: {\n    'apo-tab-bar': TabBar,\n    'apo-tab-content': TabContent,\n  },\n\n  props: {\n    tabs: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  provide() {\n    return {\n      sharedState: this.sharedState,\n    };\n  },\n\n  data() {\n    return {\n      sharedState: {\n        activeTab: null,\n      },\n    };\n  },\n\n  computed: {\n    ...mapGetters(['currentViewport']),\n\n    headline() {\n      return get(this.tabs, 'headline', '');\n    },\n\n    subheadline() {\n      return get(this.tabs, 'subheadline', '');\n    },\n\n    tabItems() {\n      return get(this.tabs, 'tab', []).map(tab => ({\n        ...tab,\n        id: uniqueId('tab-'),\n      }));\n    },\n\n    firstTab() {\n      let firstTab = null;\n      this.tabItems.map((tab, index) => {\n        if (index === 0) {\n          firstTab = tab;\n        }\n        return null;\n      });\n      return firstTab;\n    },\n\n    hasSubheadline() {\n      return this.subheadline && this.subheadline.length > 0;\n    },\n\n    hasActiveTab() {\n      return this.activeTab !== null;\n    },\n\n    activeTab: {\n      get() {\n        return this.sharedState.activeTab;\n      },\n\n      set(activeTab) {\n        this.sharedState.activeTab = activeTab;\n      },\n    },\n  },\n\n  created() {\n    this.sharedState.activeTab = this.firstTab;\n\n    const unwatch = this.$watch('currentViewport', currentViewport => {\n      if (currentViewport !== 'desktop' && !this.hasActiveTab) {\n        this.activeTab = head(this.tabItems);\n        this.$nextTick(() => unwatch());\n      }\n    }, { immediate: true });\n  },\n};\n\n</script>\n"]}]}