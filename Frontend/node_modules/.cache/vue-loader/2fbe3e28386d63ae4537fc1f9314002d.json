{"remainingRequest":"/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/components/survey/overview/AvailableSurveys.vue?vue&type=style&index=0&id=66c00861&scoped=true&lang=css&","dependencies":[{"path":"/app/src/components/survey/overview/AvailableSurveys.vue","mtime":1683275992564},{"path":"/app/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/app/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgojd2VsY29tZS1zZWN0aW9uLTIgewogIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50IGxpbmVhci1ncmFkaWVudCgyNDlkZWcsICNmZmI4MGYgMCUsICNmZjcwMDAgMTAwJSkgMCUgMCUgbm8tcmVwZWF0CiAgICBwYWRkaW5nLWJveDsKfQoKLm1heC13LTd4bCB7CiAgbWF4LXdpZHRoOiA4NXJlbSAhaW1wb3J0YW50Owp9CgpAbWVkaWEgKG1heC13aWR0aDogNDgwcHgpIHsKICAuY2FyZC1yZXMgaDMgewogICAgcGFkZGluZy1ib3R0b206IDQwcHggIWltcG9ydGFudDsKICB9CiAgLmNhcmQtcmVzIGRpdiB7CiAgICBtYXJnaW4tYm90dG9tOiA1MHB4OwogICAgaGVpZ2h0OiAxNTdweCAhaW1wb3J0YW50OwogICAgd2lkdGg6IDExMCU7CiAgfQp9CkBtZWRpYSAobWluLXdpZHRoOiA3NjdweCkgewogIC5yZXNwb25zaXZlLWltYWdlIHsKICAgIHRvcDogMCU7CiAgICByaWdodDogLTE1JTsKICAgIGhlaWdodDogMTAwJTsKICAgIHRyYW5zZm9ybTogc2NhbGUoMSk7CiAgfQp9Cg=="},{"version":3,"sources":["AvailableSurveys.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqYA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AvailableSurveys.vue","sourceRoot":"src/components/survey/overview","sourcesContent":["<template>\n  <apo-wait for=\"surveys\">\n    <div v-if=\"showHeaderSection\" id=\"welcome-section-2\">\n      <div\n        class=\"flex flex-col max-w-7xl mx-auto justify-left pt-5 pb-10 pl-4 pr-4 text-white\"\n        style=\"position: relative;\"\n      >\n        <img\n          src=\"/assets/img/Survey.svg\"\n          class=\"absolute top-0 hidden tablet:block responsive-image\"\n        />\n        <div class=\"flex flex-wrap  text-5xl tablet:text-4xl leading-3\">\n          <h1 class=\"pr-8 text-5xl tablet:text-5xl\">\n            <span class=\"w-full font-bold leading-3\"\n              >{{ $t(\"surveys.salutation\") }} {{ user.firstName }}!</span\n            ><br />\n            <span class=\"w-full leading-4\">\n              {{ $t(\"surveys.section\") }}<br />\n              {{ $t(\"surveys.section2\") }}\n            </span>\n          </h1>\n        </div>\n        <div class=\"flex flex-wrap w-full mt-5 tablet:w-1/3 desktop:w-full tablet:mt-0\">\n          <div class=\"w-full desktop:w-1/2 mr-4 flex-1\">\n            <p class=\"mb-3 text-xl\">{{ $t(\"surveys.overview_text\") }}:</p>\n            <div class=\"flex flex-row tablet:flex-col desktop:flex-row\">\n              <div\n                class=\"w-1/2 pr-2 tablet:w-full desktop:w-1/2 tablet:pr-0 desktop:pr-5 pr-5 card-res\"\n              >\n                <div\n                  class=\"w-full px-2 rounded-lg \"\n                  style=\"\n                    background: transparent linear-gradient(244deg, #ffffff 0%, #f9f3d1 100%) 0% 0% no-repeat padding-box;\n                    color: #3c3c3b;\n                    box-shadow: 0px 0px 10px #00000029;\n                    height: 172px;\n                  \"\n                >\n                  <h3\n                    class=\"desktop:py-6 py-7 text-center text-black tablet:text-6xl \"\n                    style=\"font-size:5rem;    padding-top: 2.5rem;\n    padding-bottom: 3.5rem;\"\n                  >\n                    {{ surveys.length - completedSurveysCount - countUncompletedTraining }}\n                  </h3>\n                  <div class=\"flex flex-row justify-between text-xs tablet:text-base\">\n                    <p class=\"mr-2\">\n                      {{ $t(\"surveys.available\") }}\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              <div\n                class=\"w-1/2 tablet:mt-4 desktop:mt-0 tablet:w-full desktop:w-1/2 desktop:pr-5 card-res\"\n              >\n                <div\n                  class=\"w-full px-2  rounded-lg\"\n                  style=\"\n                    background: transparent linear-gradient(244deg, #ffffff 0%, #f9f3d1 100%) 0% 0% no-repeat padding-box;\n                    color: #3c3c3b;\n                    box-shadow: 0px 0px 10px #00000029;\n                     height: 172px;\n                  \"\n                >\n                  <h3\n                    class=\"desktop:py-6 py-7 text-center text-black tablet:text-6xl\"\n                    style=\"font-size:5rem;    padding-top: 2.5rem;\n    padding-bottom: 3.5rem;\"\n                  >\n                    {{ completedSurveysCount }}\n                  </h3>\n                  <div class=\"flex flex-row justify-between text-xs tablet:text-base\">\n                    <p class=\"mr-2\">\n                      {{ $t(\"surveys.completed\") }}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"w-2/3 flex-1\">\n            <p class=\"mb-3 text-xl\">{{ $t(\"redeem.your\") }} {{ $t(\"surveys.PointsOverview\") }}:</p>\n            <div class=\"flex flex-wrap w-full\">\n              <div\n                class=\"relative  px-2 py-1 rounded-lg  \"\n                style=\"\n                  background: transparent linear-gradient(245deg, #ffb80f 0%, #ff7000 100%) 0% 0% no-repeat padding-box;\n                  box-shadow: 0px 0px 10px #00000029;\n                  min-width: 250px;\n                  max-width: 350px;\n                  width: 350px;\n                \"\n              >\n                <div class=\"relative\">\n                  <img\n                    src=\"/assets/img/Apo-Info.svg\"\n                    class=\"ml-auto cursor-pointer\"\n                    alt=\"info\"\n                    @click=\"showTooltipAchievements\"\n                  />\n                  <div\n                    id=\"tooltip-default\"\n                    role=\"tooltip\"\n                    class=\"absolute right-0 z-10 inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm top-10 tooltip dark:bg-gray-700\"\n                    :class=\"showAchTooltip ? 'opacity-1' : 'opacity-0'\"\n                    :style=\"showAchTooltip ? 'z-index: 999' : 'z-index: -1'\"\n                  >\n                    {{ $t(\"general.apoCoinsTooltip\") }}\n                    <div class=\"tooltip-arrow\" data-popper-arrow />\n                  </div>\n                </div>\n                <img src=\"/assets/img/coins.svg\" class=\"absolute left-5\" alt=\"\" />\n                <h3 class=\"py-8 text-center tablet:text-6xl\" style=\"font-size: 5rem;\">\n                  {{ user.expertPoints }}\n                </h3>\n                <div class=\"flex flex-row justify-between text-xs tablet:text-base\">\n                  <p class=\"mr-2\">\n                    {{ $t(\"general.apoCoins\") }}\n                  </p>\n                  <router-link class=\"underline\" to=\"/redeem\">\n                    {{ $t(\"surveys.buttons.redeem\") }}\n                  </router-link>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div\n      id=\"text-section\"\n      class=\"flex flex-col justify-center py-8 mx-auto space-x-12 container-2 tablet:flex-col max-w-7xl\"\n    >\n      <h3 v-if=\"surveysTitleText\" class=\"mb-5 text-center\">\n        {{ surveysTitleText }}\n      </h3>\n      <apo-wait for=\"surveys\">\n        <template #waiting>\n          <apo-loading-overlay class=\"my-15\" :message=\"$t('loaders.surveys')\" />\n        </template>\n        <div v-if=\"surveys.length > 0\" class=\"block tablet:hidden\">\n          <carousel :per-page=\"1.5\" :pagination-enabled=\"false\" class=\"px-5 tablet:hidden\">\n            <slide\n              v-for=\"survey in sortedSurveys\"\n              v-if=\"userHasCompletedTraining(survey)\"\n              :key=\"survey.id\"\n            >\n              <div class=\"w-full px-1 py-2 mb-2 rounded-lg tablet:mr-4 tablet:w-1/4\">\n                <router-link\n                  :to=\"'/surveys/' + survey.id\"\n                  class=\"flex flex-col justify-end px-2 py-2 mb-2 text-white rounded-lg tablet:px-5\"\n                  :style=\"\n                    isSurveyDone(survey)\n                      ? 'min-height:140px; box-shadow: 0px 0px 10px #00000029; color: #cccccc'\n                      : 'min-height:140px; background: transparent linear-gradient(245deg, #FFB80F 0%, #FF7000 100%) 0% 0% no-repeat padding-box;'\n                  \"\n                >\n                  <p class=\"text-center\">\n                    {{ survey.title }}\n                  </p>\n                  <div class=\"flex flex-row items-center justify-between pt-5\">\n                    <p class=\"text-xs\">\n                      5 Min.\n                    </p>\n                    <div class=\"w-4 h-4 bg-white rounded-full\" />\n                  </div>\n                </router-link>\n              </div>\n            </slide>\n          </carousel>\n        </div>\n        <div v-if=\"surveys.length > 0\">\n          <div\n            class=\"flex-wrap hidden px-5 tablet:grid tablet:px-0 \"\n            style=\"\n              overflow: hidden;\n              grid-template-columns: repeat(4, 1fr);\n              grid-auto-rows: 1fr;\n              grid-column-gap: 5px;\n              grid-row-gap: 5px;\n            \"\n          >\n            <div\n              v-for=\"survey in sortedSurveys\"\n              v-if=\"userHasCompletedTraining(survey)\"\n              :key=\"survey.id\"\n              class=\"w-full h-full px-1 py-2 mb-2 rounded-lg\"\n            >\n              <router-link\n                :to=\"'/surveys/' + survey.id\"\n                class=\"flex flex-col justify-end h-full px-2 py-2 text-white rounded-lg tablet:px-5\"\n                :style=\"\n                  isSurveyDone(survey)\n                    ? 'min-height:140px; box-shadow: 0px 0px 10px #00000029; color: #cccccc'\n                    : 'min-height:140px; background: transparent linear-gradient(245deg, #FFB80F 0%, #FF7000 100%) 0% 0% no-repeat padding-box;'\n                \"\n              >\n                <p class=\"text-center\">\n                  {{ survey.title }}\n                </p>\n                <div class=\"flex flex-row items-center justify-between pt-5\">\n                  <p class=\"text-xs\">\n                    5 Min.\n                  </p>\n                  <div class=\"w-4 h-4 bg-white rounded-full\" />\n                </div>\n              </router-link>\n            </div>\n          </div>\n          <div v-if=\"showAllSurveysLink\" class=\"flex flex-row justify-center mt-8\">\n            <router-link\n              to=\"/surveys\"\n              style=\"background: #FF7000 0% 0% no-repeat padding-box;\"\n              class=\"w-full py-3 mx-5 mt-5 text-sm text-center text-white tablet:mx-0 tablet:w-56 rounded-xl \"\n            >\n              {{ $t(\"welcome.surveys_button\") }}\n            </router-link>\n          </div>\n        </div>\n\n        <div\n          v-else\n          class=\"flex justify-center w-full\"\n          v-text=\"$t('surveys.messages.noSurveysAvailable')\"\n        />\n      </apo-wait>\n    </div>\n  </apo-wait>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from \"vuex\";\nimport {\n  SURVEYS_FETCH_ALL,\n  LATESTS_SURVEYS,\n  TAXONOMIES_FETCH_TRAINING_CATEGORIES,\n  TRAININGS_FETCH_ALL_SERIES\n} from \"@/store/types/action-types\";\n\nexport default {\n  name: \"AvailableSurveys\",\n  props: {\n    showHeaderSection: {\n      type: Boolean,\n      default: false\n    },\n    showAllSurveysLink: {\n      type: Boolean,\n      default: false\n    },\n    surveysTitleText: {\n      type: String,\n      required: false\n    }\n  },\n\n  data() {\n    return {\n      showAchTooltip: false,\n      trainings: []\n    };\n  },\n  computed: {\n    ...mapGetters([\"surveys\"]),\n    ...mapGetters([\"user\"]),\n    ...mapGetters([\"trainingCategory\", \"user\"]),\n    pageData() {\n      return this.$store.state.pages.pageContent.filter(\n        page => page.slug === this.$route.path.replace(/^\\/|\\/$/g, \"\")\n      ).length > 0\n        ? this.$store.state.pages.pageContent.filter(\n            page => page.slug === this.$route.path.replace(/^\\/|\\/$/g, \"\")\n          )[0]\n        : null;\n    },\n\n    completedSurveysCount() {\n      return this.surveys.reduce((prev, item) => {\n        if (this.isSurveyDone(item)) {\n          return prev + 1;\n        }\n        return prev;\n      }, 0);\n    },\n\n    sortedSurveys() {\n      const result = this.surveys.sort((a, b) => {\n        if ((this.isSurveyDone(a) ? 1 : 0) >= (this.isSurveyDone(b) ? 1 : 0)) {\n          return 1;\n        }\n        if ((this.isSurveyDone(a) ? 1 : 0) < (this.isSurveyDone(b) ? 1 : 0)) {\n          return -1;\n        }\n        if ((this.isSurveyDone(a) ? 1 : 0) === (this.isSurveyDone(b) ? 1 : 0)) {\n          return 0;\n        }\n        return 0;\n      });\n      return result;\n    },\n\n    content() {\n      if (this.pageData) {\n        const {\n          /* eslint-disable */\n          password,\n          minimum_height,\n          slides,\n          public_resource,\n          content_position,\n          ...filtered\n        } = this.pageData.acf;\n        /* eslint-enable */\n        return filtered;\n      }\n\n      return null;\n    },\n\n    contentPosition() {\n      return this.pageData ? this.pageData.acf.content_position : null;\n    },\n    countUncompletedTraining() {\n      let count = 0;\n      this.surveys.forEach(survey => {\n        if (survey.isActivatable) {\n          if (this.user.trainingResults[survey.training_id] === undefined) {\n            count++;\n          } else if (\n            !this.user.trainingResults[survey.training_id].completed_lessons.is_complete === \"1\"\n          ) {\n            count++;\n          }\n        }\n      });\n      return count;\n    }\n  },\n\n  methods: {\n    ...mapActions([\n      SURVEYS_FETCH_ALL,\n      LATESTS_SURVEYS,\n      TAXONOMIES_FETCH_TRAINING_CATEGORIES,\n      TRAININGS_FETCH_ALL_SERIES\n    ]),\n\n    isSurveyDone(survey) {\n      if (Object.keys(this.user.surveyResults).includes(survey.id)) {\n        return true;\n      }\n      return false;\n    },\n    showTooltipAchievements() {\n      this.showAchTooltip = !this.showAchTooltip;\n    },\n    showTooltipApopoints() {\n      this.showApopTooltip = !this.showApopTooltip;\n    },\n    userHasCompletedTraining(survey) {\n      if (survey.isActivatable) {\n        console.log(\"activable\");\n        if (this.user.trainingResults[survey.training_id] === undefined) {\n          console.log(\"udni_activable\");\n          return false;\n        }\n        console.log(\"udni_activable2\");\n        return this.user.trainingResults[survey.training_id].is_complete === \"1\";\n      }\n      console.log(\"udni_activable_true\");\n      return true;\n    }\n  },\n\n  created() {\n    this[SURVEYS_FETCH_ALL]().catch(error => {\n      console.log(\"error retrieving the surveys\", error);\n    });\n    this[TRAININGS_FETCH_ALL_SERIES]().then(data => {\n      this.trainings = data;\n    });\n  }\n};\n</script>\n\n<style scoped>\n#welcome-section-2 {\n  background: transparent linear-gradient(249deg, #ffb80f 0%, #ff7000 100%) 0% 0% no-repeat\n    padding-box;\n}\n\n.max-w-7xl {\n  max-width: 85rem !important;\n}\n\n@media (max-width: 480px) {\n  .card-res h3 {\n    padding-bottom: 40px !important;\n  }\n  .card-res div {\n    margin-bottom: 50px;\n    height: 157px !important;\n    width: 110%;\n  }\n}\n@media (min-width: 767px) {\n  .responsive-image {\n    top: 0%;\n    right: -15%;\n    height: 100%;\n    transform: scale(1);\n  }\n}\n</style>\n"]}]}