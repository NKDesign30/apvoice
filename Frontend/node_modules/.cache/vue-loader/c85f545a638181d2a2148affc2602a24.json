{"remainingRequest":"/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/views/KnowledgeBase.vue?vue&type=style&index=0&id=4255ed25&lang=scss&scoped=true&","dependencies":[{"path":"/app/src/views/KnowledgeBase.vue","mtime":1683275992580},{"path":"/app/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/app/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/app/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5kb3dubG9hZHMtdGVhc2VyLWNvbnRhaW5lciB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHJpZ2h0OiAwOwogIHRvcDogMDsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7CiAgcGFkZGluZzogMjRweCA0OHB4OwogIGJhY2tncm91bmQtY29sb3I6IHRoZW1lKCdjb2xvcnMucHVycGxlLjUwMCcpOwogIGNvbG9yOiB3aGl0ZTsKICBmb250LXNpemU6IDI0cHg7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwoKICBAbWVkaWEgKG1pbi13aWR0aDogdGhlbWUoJ3NjcmVlbnMuZGVza3RvcCcpKSB7CiAgICBsZWZ0OiBjYWxjKDUwJSArIDI0MHB4KTsKICB9Cn0KCg=="},{"version":3,"sources":["KnowledgeBase.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8XA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"KnowledgeBase.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <apo-wait\n      for=\"knowledgeBasePosts\"\n    >\n      <template #waiting>\n        <apo-loading-overlay\n          class=\"my-15\"\n          :message=\"$t('loaders.knowledgeBase')\"\n        />\n      </template>\n      <div\n        v-if=\"isOverview\"\n        class=\"relative\"\n      >\n        <div class=\"container\">\n          <div class=\"downloads-teaser-container\">\n            <div\n              class=\"flex flex-col items-center justify-center cursor-pointer\"\n              @click=\"gotoDownloads()\"\n            >\n              <apo-icon\n                class=\"w-8 h-8 mb-2\"\n                src=\"database\"\n              />\n              <div v-text=\"$t('knowledgeBase.prmDatabase')\" />\n              <div class=\"hidden tablet:block\">\n                <router-link\n                  class=\"button--secondary shadow-hard-dark text-purple-500 mt-6\"\n                  tag=\"apo-button\"\n                  :to=\"{ name: 'downloads' }\"\n                  v-text=\"$t('knowledgeBase.toDatabase')\"\n                />\n              </div>\n            </div>\n          </div>\n          <div v-if=\"content && contentPosition === 'before'\">\n            <component\n              :is=\"`apo-cms-${renderer}-renderer`\"\n              v-for=\"(components, renderer) in content\"\n              :key=\"`${renderer}-renderer`\"\n              :components=\"components || []\"\n            />\n          </div>\n          <div class=\"flex justify-between flex-wrap py-16 tablet:py-32\">\n            <div\n              v-for=\"post in knowledgeBase\"\n              :key=\"post.id\"\n              :class=\"{ 'w-full desktop:w-1/2 desktop:pr-3': post.type === 'large_half', 'w-full': post.type === 'large_full' || post.type === 'small_full' }\"\n            >\n              <div\n                v-if=\"post.type === 'large_half'\"\n                class=\"my-4\"\n              >\n                <div class=\"text-purple-500 font-bold\">\n                  {{ post.subline }}\n                </div>\n                <h4>\n                  {{ post.title }}\n                </h4>\n                <div class=\"flex flex-col tablet:flex-row justify-start items-start my-2\">\n                  <img\n                    v-if=\"post.image\"\n                    class=\"w-full tablet:w-1/2 cursor-pointer\"\n                    :src=\"post.image\"\n                    @click=\"postDetails(post.id)\"\n                  >\n                  <div class=\"w-full tablet:w-1/2 mb-2 tablet:mb-0 tablet:ml-2\">\n                    <div class=\"mt-2\">\n                      {{ post.teaser }}\n                      <span\n                        class=\"text-purple-500 cursor-pointer\"\n                        @click=\"postDetails(post.id)\"\n                        v-text=\"$t('general.readMore')\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div\n                v-if=\"post.type === 'large_full'\"\n                class=\"flex flex-col tablet:flex-row justify-start items-start my-4\"\n              >\n                <img\n                  v-if=\"post.image\"\n                  class=\"w-full tablet:w-1/2 order-2 tablet:order-1 cursor-pointer\"\n                  :src=\"post.image\"\n                  @click=\"postDetails(post.id)\"\n                >\n                <div class=\"w-full tablet:w-1/2 mb-2 tablet:mb-0 tablet:ml-2 order-1 tablet:order-2\">\n                  <div class=\"text-purple-500 font-bold\">\n                    {{ post.subline }}\n                  </div>\n                  <h4>\n                    {{ post.title }}\n                  </h4>\n                  <div class=\"mt-2 hidden tablet:block\">\n                    {{ post.teaser }}\n                    <span\n                      class=\"text-purple-500 cursor-pointer\"\n                      @click=\"postDetails(post.id)\"\n                      v-text=\"$t('general.readMore')\"\n                    />\n                  </div>\n                </div>\n                <div class=\"mt-2 order-3 tablet:hidden\">\n                  {{ post.teaser }}\n                  <span\n                    class=\"text-purple-500 cursor-pointer\"\n                    @click=\"postDetails(post.id)\"\n                    v-text=\"$t('general.readMore')\"\n                  />\n                </div>\n              </div>\n              <div\n                v-if=\"post.type === 'small_full'\"\n                class=\"flex flex-col tablet:flex-row justify-start items-start my-4\"\n              >\n                <img\n                  v-if=\"post.image\"\n                  class=\"w-full tablet:w-40 order-2 tablet:order-1\"\n                  :src=\"post.image\"\n                  @click=\"postDetails(post.id)\"\n                >\n                <div class=\"w-full tablet:w-auto mb-2 tablet:mb-0 tablet:ml-2 order-1 tablet:order-2\">\n                  <div class=\"text-purple-500 font-bold\">\n                    {{ post.subline }}\n                  </div>\n                  <h4>\n                    {{ post.title }}\n                  </h4>\n                  <div class=\"mt-2 hidden tablet:block\">\n                    {{ post.teaser }}\n                    <span\n                      class=\"text-purple-500 cursor-pointer\"\n                      @click=\"postDetails(post.id)\"\n                      v-text=\"$t('general.readMore')\"\n                    />\n                  </div>\n                </div>\n                <div class=\"mt-2 order-3 tablet:hidden\">\n                  {{ post.teaser }}\n                  <span\n                    class=\"text-purple-500 cursor-pointer\"\n                    @click=\"postDetails(post.id)\"\n                    v-text=\"$t('general.readMore')\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"overview__survey-teaser py-24 text-center\">\n            <div class=\"container\">\n              <h2\n                class=\"mb-6 text-3xl tablet:text-6xl\"\n                v-text=\"$t('knowledgeBase.surveyTeaser.headline')\"\n              />\n              <p\n                class=\"mb-8 text-2xl\"\n                v-text=\"$t('knowledgeBase.surveyTeaser.message')\"\n              />\n              <router-link\n                :to=\"{ name: 'surveys' }\"\n                tag=\"apo-button\"\n                class=\"bg-yellow-500 text-white hover:bg-yellow-600 shadow-hard-dark\"\n                v-text=\"$t('general.participate')\"\n              />\n            </div>\n          </div>\n          <div v-if=\"content && contentPosition === 'after'\">\n            <component\n              :is=\"`apo-cms-${renderer}-renderer`\"\n              v-for=\"(components, renderer) in content\"\n              :key=\"`${renderer}-renderer`\"\n              :components=\"components || []\"\n            />\n          </div>\n        </div>\n      </div>\n      <div v-else>\n        <div v-if=\"knowledgeBaseDetail\">\n          <apo-stage\n            v-if=\"stage\"\n            :stage-data=\"stage\"\n          />\n          <div\n            v-if=\"knowledgeBaseDetail.date\"\n            class=\"container\"\n          >\n            <div\n              class=\"text-right text-purple-500 mt-2\"\n              v-text=\"getFormatDate(knowledgeBaseDetail.date)\"\n            />\n          </div>\n          <div class=\"py-12\">\n            <div class=\"container\">\n              <div class=\"text-purple-500 font-bold text-center mb-4\">\n                {{ knowledgeBaseDetail.subline }}\n              </div>\n              <h3 class=\"text-center\">\n                {{ knowledgeBaseDetail.title }}\n              </h3>\n              <apo-cms-content-renderer\n                v-if=\"knowledgeBaseDetail.content\"\n                :components=\"knowledgeBaseDetail.content\"\n                class=\"mt-20\"\n              />\n              <div\n                v-if=\"relatedPosts.length\"\n                class=\"py-8 tablet:py-12\"\n              >\n                <h3\n                  class=\"text-center\"\n                  v-text=\"$t('knowledgeBase.relatedPostsHeadline')\"\n                />\n                <div\n                  class=\"flex justify-between flex-wrap\"\n                >\n                  <div\n                    v-for=\"post in relatedPosts\"\n                    :key=\"post.id\"\n                    class=\"desktop:w-1/2 desktop:pr-3\"\n                  >\n                    <div\n                      v-if=\"post\"\n                      class=\"my-4\"\n                    >\n                      <div class=\"text-purple-500 font-bold\">\n                        {{ post.subline }}\n                      </div>\n                      <h4>\n                        {{ post.title }}\n                      </h4>\n                      <div class=\"flex flex-col tablet:flex-row justify-start items-start my-2\">\n                        <img\n                          v-if=\"post.image\"\n                          class=\"w-full tablet:w-1/2\"\n                          :src=\"post.image\"\n                          @click=\"postDetails(post.id)\"\n                        >\n                        <div class=\"w-full tablet:w-1/2 mb-2 tablet:mb-0 tablet:ml-2\">\n                          <div class=\"mt-2\">\n                            {{ post.teaser }}\n                            <span\n                              class=\"text-purple-500 cursor-pointer\"\n                              @click=\"postDetails(post.id)\"\n                              v-text=\"$t('general.readMore')\"\n                            />\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <apo-not-found-page v-else />\n      </div>\n    </apo-wait>\n  </div>\n</template>\n\n<script>\n\nimport { mapGetters, mapActions } from 'vuex';\nimport get from 'lodash/get';\nimport * as moment from 'moment';\nimport { KNOWLEDGE_BASE_FETCH_ALL } from '@/store/types/action-types';\nimport themeSettings from '@/mixins/theme-settings';\nimport LoadingOverlay from '@/components/ui/LoadingOverlay.vue';\nimport NotFoundPage from '@/components/cms/NotFoundPage.vue';\nimport Stage from '@/components/template/Stage.vue';\nimport CmsContentRenderer from '@/components/cms/CmsContentRenderer.vue';\n\nexport default {\n  components: {\n    'apo-loading-overlay': LoadingOverlay,\n    'apo-not-found-page': NotFoundPage,\n    'apo-stage': Stage,\n    'apo-cms-content-renderer': CmsContentRenderer,\n  },\n\n  mixins: [\n    themeSettings('knowledge-base'),\n  ],\n\n  data() {\n    return {\n      isOverview: true,\n    };\n  },\n\n  computed: {\n    ...mapGetters(['isAuthenticated', 'language', 'knowledgeBase']),\n\n    pageData() {\n      return this.$store.state.pages.pageContent.filter(page => page.slug === this.$route.path.replace(/^\\/|\\/$/g, '')).length > 0\n        ? this.$store.state.pages.pageContent.filter(page => page.slug === this.$route.path.replace(/^\\/|\\/$/g, ''))[0]\n        : null;\n    },\n\n    content() {\n      if (this.pageData) {\n        const {\n        /* eslint-disable */\n          password, minimum_height, slides, public_resource, content_position, ...filtered\n        } = this.pageData.acf;\n        /* eslint-enable */\n        return filtered;\n      }\n\n      return null;\n    },\n\n    contentPosition() {\n      return this.pageData ? this.pageData.acf.content_position : null;\n    },\n\n    knowledgeBaseDetail() {\n      if (this.$route.params.id && this.knowledgeBase.length) {\n        return this.knowledgeBase\n          .find(post => Number(post.id) === Number(this.$route.params.id));\n      }\n      return null;\n    },\n\n    stage() {\n      return { minimum_height: this.knowledgeBaseDetail.stage.minimum_height, slides: this.knowledgeBaseDetail.stage.slides };\n    },\n\n    relatedPosts() {\n      return this.knowledgeBase\n        .filter(post => Number(post.id) === Number(get(this.knowledgeBaseDetail, 'relatedPosts.post_1.ID')) || Number(post.id) === Number(get(this.knowledgeBaseDetail, 'relatedPosts.post_2.ID')));\n    },\n  },\n\n  watch: {\n    $route: {\n      immediate: true,\n      handler(route) {\n        if (route.params.id) {\n          this.isOverview = false;\n        } else {\n          this.isOverview = true;\n        }\n      },\n    },\n  },\n\n  methods: {\n    ...mapActions([\n      KNOWLEDGE_BASE_FETCH_ALL,\n    ]),\n\n    postDetails(id) {\n      this.$router.push({ name: 'knowledgeBase', params: { id } });\n    },\n\n    gotoDownloads() {\n      this.$router.push({ name: 'downloads' });\n    },\n\n    getFormatDate(date) {\n      moment.locale(this.language);\n      return moment(date).format('DD. MMMM YYYY');\n    },\n  },\n\n  created() {\n    this[KNOWLEDGE_BASE_FETCH_ALL]()\n      .catch(error => {\n        console.log('error retrieving the posts', error);\n      });\n  },\n};\n\n</script>\n\n<style lang=\"scss\" scoped>\n\n.downloads-teaser-container {\n  position: absolute;\n  right: 0;\n  top: 0;\n  transform: translateY(-50%);\n  padding: 24px 48px;\n  background-color: theme('colors.purple.500');\n  color: white;\n  font-size: 24px;\n  font-weight: bold;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: center;\n\n  @media (min-width: theme('screens.desktop')) {\n    left: calc(50% + 240px);\n  }\n}\n\n</style>\n"]}]}