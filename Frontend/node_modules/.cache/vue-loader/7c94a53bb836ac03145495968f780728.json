{"remainingRequest":"/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/components/content/page-indicator/PageIndicatorWrapper.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/src/components/content/page-indicator/PageIndicatorWrapper.vue","mtime":1683275992554},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgcHJvdmlkZSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhZ2VJbmRpY2F0b3JzU3RhdGU6IHRoaXMuc2hhcmVkU3RhdGUsCiAgICB9OwogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNoYXJlZFN0YXRlOiB7CiAgICAgICAgYWN0aXZlUGFnZUluZGljYXRvcjogbnVsbCwKICAgICAgICBwYWdlSW5kaWNhdG9yczogW10sCiAgICAgIH0sCiAgICB9OwogIH0sCgogIG1ldGhvZHM6IHsKICAgIGdldE5leHRQYWdlSW5kaWNhdG9yKHBhZ2VJbmRpY2F0b3JJZCkgewogICAgICBjb25zdCBwYWdlSW5kaWNhdG9ySW5kZXggPSB0aGlzLnNoYXJlZFN0YXRlLnBhZ2VJbmRpY2F0b3JzCiAgICAgICAgLmZpbmRJbmRleChwYWdlSW5kaWNhdG9yID0+IHBhZ2VJbmRpY2F0b3IuaWQgPT09IHBhZ2VJbmRpY2F0b3JJZCk7CgogICAgICBpZiAocGFnZUluZGljYXRvckluZGV4ID09PSAtMSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5zaGFyZWRTdGF0ZS5wYWdlSW5kaWNhdG9yc1twYWdlSW5kaWNhdG9ySW5kZXggKyAxXSB8fCBudWxsOwogICAgfSwKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy4kb24oJ2NvbnRpbnVlJywgcGFnZUluZGljYXRvcklkID0+IHsKICAgICAgY29uc3QgbmV4dFBhZ2VJbmRpY2F0b3IgPSB0aGlzLmdldE5leHRQYWdlSW5kaWNhdG9yKHBhZ2VJbmRpY2F0b3JJZCk7CgogICAgICBpZiAobmV4dFBhZ2VJbmRpY2F0b3IgIT09IG51bGwpIHsKICAgICAgICB0aGlzLnNoYXJlZFN0YXRlLmFjdGl2ZVBhZ2VJbmRpY2F0b3IgPSBuZXh0UGFnZUluZGljYXRvci5pZDsKICAgICAgfQogICAgfSk7CiAgfSwKfTsK"},{"version":3,"sources":["PageIndicatorWrapper.vue"],"names":[],"mappings":";;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"PageIndicatorWrapper.vue","sourceRoot":"src/components/content/page-indicator","sourcesContent":["<template>\n  <div class=\"page-indicator-wrapper\">\n    <slot />\n  </div>\n</template>\n\n<script>\n\nexport default {\n  provide() {\n    return {\n      pageIndicatorsState: this.sharedState,\n    };\n  },\n  data() {\n    return {\n      sharedState: {\n        activePageIndicator: null,\n        pageIndicators: [],\n      },\n    };\n  },\n\n  methods: {\n    getNextPageIndicator(pageIndicatorId) {\n      const pageIndicatorIndex = this.sharedState.pageIndicators\n        .findIndex(pageIndicator => pageIndicator.id === pageIndicatorId);\n\n      if (pageIndicatorIndex === -1) {\n        return null;\n      }\n\n      return this.sharedState.pageIndicators[pageIndicatorIndex + 1] || null;\n    },\n  },\n\n  created() {\n    this.$on('continue', pageIndicatorId => {\n      const nextPageIndicator = this.getNextPageIndicator(pageIndicatorId);\n\n      if (nextPageIndicator !== null) {\n        this.sharedState.activePageIndicator = nextPageIndicator.id;\n      }\n    });\n  },\n};\n</script>\n"]}]}