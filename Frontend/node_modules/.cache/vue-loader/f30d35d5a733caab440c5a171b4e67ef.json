{"remainingRequest":"/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/src/App.vue","mtime":1683275992542},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgbGFzdCBmcm9tICdsb2Rhc2gvbGFzdCc7CmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBIZWFkZXIgZnJvbSAnQC9jb21wb25lbnRzL3RlbXBsYXRlL0hlYWRlci52dWUnOwppbXBvcnQgU3RhZ2UgZnJvbSAnQC9jb21wb25lbnRzL3RlbXBsYXRlL1N0YWdlLnZ1ZSc7CmltcG9ydCBGb290ZXIgZnJvbSAnQC9jb21wb25lbnRzL3RlbXBsYXRlL0Zvb3Rlci52dWUnOwppbXBvcnQgQ29va2llc1NldHRpbmdzIGZyb20gJ0AvY29tcG9uZW50cy90ZW1wbGF0ZS9Db29raWVzU2V0dGluZ3MudnVlJzsKaW1wb3J0IFBoYXJtYWN5Q29uZmlybWF0aW9uTW9kYWwgZnJvbSAnQC9jb21wb25lbnRzL3BoYXJtYWNpZXMvUGhhcm1hY3lDb25maXJtYXRpb25Nb2RhbC52dWUnOwppbXBvcnQgUGFnZVByb2dyZXNzIGZyb20gJ0AvY29tcG9uZW50cy90ZW1wbGF0ZS9QYWdlUHJvZ3Jlc3MudnVlJzsKaW1wb3J0IFBhZ2VTZXJ2aWNlIGZyb20gJ0Avc2VydmljZXMvYXBpL1BhZ2VTZXJ2aWNlJzsKaW1wb3J0IHsKICBQQUdFU19GRVRDSF9NRU5VUywKICBTRVRUSU5HU19GRVRDSF9TRVRUSU5HUywKICBTRVRUSU5HU19TRVRfQ1VSUkVOVF9WSUVXUE9SVCwKfSBmcm9tICdAL3N0b3JlL3R5cGVzL2FjdGlvbi10eXBlcyc7Cgpjb25zdCBzY3JlZW5zID0gcmVxdWlyZSgnLi90YWlsd2luZC9TY3JlZW5zJyk7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgJ2Fwby1mb290ZXInOiBGb290ZXIsCiAgICAnYXBvLXN0YWdlJzogU3RhZ2UsCiAgICAnYXBvLWhlYWRlcic6IEhlYWRlciwKICAgICdhcG8tcGFnZS1wcm9ncmVzcyc6IFBhZ2VQcm9ncmVzcywKICAgICdhcG8tY29va2llcy1zZXR0aW5ncyc6IENvb2tpZXNTZXR0aW5ncywKICAgICdhcG8tcGhhcm1hY3ktY29uZmlybWF0aW9uLW1vZGFsJzogUGhhcm1hY3lDb25maXJtYXRpb25Nb2RhbCwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdGFnZURhdGE6ICcnLAogICAgfTsKICB9LAoKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbJ2lzQXV0aGVudGljYXRlZCcsICd0aGVtZScsICdzZXR0aW5nc0xvYWRlZCcsICdsYW5ndWFnZScsICdzaG93VXBkYXRlUGhhcm1hY3lNb2RhbCddKSwKICAgIC4uLm1hcFN0YXRlKHsKICAgICAgc2V0dGluZ3M6IHN0YXRlID0+IHN0YXRlLnNldHRpbmdzLnNldHRpbmdzLAogICAgfSksCgogICAgdGhlbWVDbGFzcygpIHsKICAgICAgcmV0dXJuIGB0aGVtZS0ke3RoaXMudGhlbWV9YDsKICAgIH0sCgogICAgc29ydGVkU2NyZWVucygpIHsKICAgICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHNjcmVlbnMpCiAgICAgICAgLnNvcnQoKFssIG1pbldpZHRoQV0sIFssIG1pbldpZHRoQl0pID0+IHsKICAgICAgICAgIGNvbnN0IGEgPSBwYXJzZUludChtaW5XaWR0aEEsIDEwKTsKICAgICAgICAgIGNvbnN0IGIgPSBwYXJzZUludChtaW5XaWR0aEIsIDEwKTsKCiAgICAgICAgICBpZiAoYSA+IGIpIHsKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGEgPCBiKSB7CiAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9KTsKICAgIH0sCiAgfSwKCiAgd2F0Y2g6IHsKICAgIGlzQXV0aGVudGljYXRlZDogewogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGhhbmRsZXIoaXNBdXRoZW50aWNhdGVkKSB7CiAgICAgICAgaWYgKGlzQXV0aGVudGljYXRlZCkgewogICAgICAgICAgd2luZG93LmV2ZW50QnVzLiRlbWl0KCdhdXRoZW50aWNhdGVkJyk7CiAgICAgICAgfQogICAgICB9LAogICAgfSwKICAgIHNldHRpbmdzTG9hZGVkOiB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgaGFuZGxlcihzZXR0aW5nc0xvYWRlZCkgewogICAgICAgIGlmIChzZXR0aW5nc0xvYWRlZCkgewogICAgICAgICAgd2luZG93LmV2ZW50QnVzLiRlbWl0KCdzZXR0aW5nc0xvYWRlZCcpOwogICAgICAgIH0KICAgICAgfSwKICAgIH0sCgogICAgbGFuZ3VhZ2U6IHsKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICBoYW5kbGVyKGxhbmd1YWdlKSB7CiAgICAgICAgbGV0IGRvY0xhbmcgPSBsYW5ndWFnZTsKICAgICAgICBpZiAobGFuZ3VhZ2UgPT09ICdhdCcpIHsgZG9jTGFuZyA9ICdkZSc7IH0KICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubGFuZyA9IGRvY0xhbmc7CiAgICAgIH0sCiAgICB9LAoKICAgICRyb3V0ZTogewogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGhhbmRsZXIocm91dGUpIHsKICAgICAgICBpZiAodGhpcy5pc0F1dGhlbnRpY2F0ZWQpIHsKICAgICAgICAgIHRoaXMuc3RhZ2VEYXRhID0gJyc7CiAgICAgICAgICB0aGlzLmxvYWRTdGFnZShyb3V0ZSk7CiAgICAgICAgfQogICAgICB9LAogICAgfSwKICB9LAoKICBtZXRob2RzOiB7CiAgICBpbml0aWFsaXplU3RhdGUoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKFNFVFRJTkdTX0ZFVENIX1NFVFRJTkdTKTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goUEFHRVNfRkVUQ0hfTUVOVVMpOwogICAgICBpZiAodGhpcy5pc0F1dGhlbnRpY2F0ZWQpIHsKICAgICAgICB0aGlzLiRQcm9ncmVzcy5zdGFydCgpOwogICAgICAgIHRoaXMuJFByb2dyZXNzLnNldCgzMCk7CiAgICAgICAgUGFnZVNlcnZpY2UuZ2V0UGFnZXMoKQogICAgICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkUGFnZUNvbnRlbnQnLCBkYXRhKTsKICAgICAgICAgICAgY29uc3QgdG1wRGF0YSA9IGRhdGEuZmlsdGVyKHBhZ2UgPT4gcGFnZS5hY2Yuc2xpZGVzKTsKICAgICAgICAgICAgdG1wRGF0YS5mb3JFYWNoKHBhZ2UgPT4gewogICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkU3RhZ2UnLCB7IG5hbWU6IHBhZ2Uuc2x1Zywgc3RhZ2U6IHsgbWluaW11bV9oZWlnaHQ6IHBhZ2UuYWNmLm1pbmltdW1faGVpZ2h0LCBzbGlkZXM6IHBhZ2UuYWNmLnNsaWRlcyB9IH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy4kUHJvZ3Jlc3MuZmluaXNoKCk7CiAgICAgICAgICAgIHRoaXMubG9hZFN0YWdlKHRoaXMuJHJvdXRlKTsKICAgICAgICAgIH0pOwogICAgICB9CiAgICB9LAoKICAgIGxvYWRTdGFnZShyb3V0ZSkgewogICAgICBjb25zdCBzdG9yZWREYXRhID0gdGhpcy4kc3RvcmUuc3RhdGUucGFnZXMuc3RhZ2VzLmZpbHRlcihzdGFnZSA9PiBzdGFnZS5uYW1lID09PSByb3V0ZS5wYXRoLnJlcGxhY2UoL1wvL2csICcnKSkubGVuZ3RoID09PSAxID8gdGhpcy4kc3RvcmUuc3RhdGUucGFnZXMuc3RhZ2VzLmZpbHRlcihzdGFnZSA9PiBzdGFnZS5uYW1lID09PSByb3V0ZS5wYXRoLnJlcGxhY2UoL1wvL2csICcnKSlbMF0uc3RhZ2UgOiAnJzsKICAgICAgaWYgKHN0b3JlZERhdGEpIHsKICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICB0aGlzLnN0YWdlRGF0YSA9IHN0b3JlZERhdGE7CiAgICAgICAgfSwgMTAwKTsKICAgICAgfQogICAgfSwKCiAgICBpbml0aWFsaXplQ29kZVNuaXBwZXRzKCkgewogICAgICBjb25zdCB1bndhdGNoID0gdGhpcy4kd2F0Y2goJ3NldHRpbmdzJywgc2V0dGluZ3MgPT4gewogICAgICAgIHVud2F0Y2goKTsKCiAgICAgICAgdGhpcy5ldmFsdWF0ZUNvZGVTbmlwcGV0cyhzZXR0aW5ncy5oZWFkQ29kZVNuaXBwZXRzLCAnaGVhZCcpOwogICAgICAgIHRoaXMuZXZhbHVhdGVDb2RlU25pcHBldHMoc2V0dGluZ3MuYm9keUNvZGVTbmlwcGV0cywgJ2JvZHknKTsKICAgICAgfSk7CiAgICB9LAoKICAgIGV2YWx1YXRlQ29kZVNuaXBwZXRzKHNuaXBwZXRzLCB3cmFwcGluZ0VsZW1lbnQpIHsKICAgICAgdGhpcy5jbGVhblNuaXBwZXRzKHNuaXBwZXRzKS5mb3JFYWNoKGNvZGVTbmlwcGV0ID0+IHsKICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gdGhpcy5leHRyYWN0QXR0cmlidXRlcyhjb2RlU25pcHBldCk7CiAgICAgICAgY29uc3Qgc2NyaXB0VGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7CiAgICAgICAgbGV0IGZuID0gbnVsbDsKCiAgICAgICAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChrZXkgPT4gewogICAgICAgICAgaWYgKGtleSA9PT0gJ29ubG9hZCcpIHsKICAgICAgICAgICAgZm4gPSBhdHRyaWJ1dGVzW2tleV07CiAgICAgICAgICB9CiAgICAgICAgICBzY3JpcHRUYWcuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKCFzY3JpcHRUYWcuaGFzQXR0cmlidXRlKCd0eXBlJykpIHsKICAgICAgICAgIHNjcmlwdFRhZy50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7CiAgICAgICAgfQoKICAgICAgICBjb25zdCBzdHJpcHBlZENvZGVTbmlwcGV0ID0gY29kZVNuaXBwZXQucmVwbGFjZSgvPHNjcmlwdFtePl0qPi9pbSwgJycpOwoKICAgICAgICBzY3JpcHRUYWcudGV4dCA9IHN0cmlwcGVkQ29kZVNuaXBwZXQ7CgogICAgICAgIHRoaXMubG9hZEFzeW5jKHNjcmlwdFRhZywgd3JhcHBpbmdFbGVtZW50KQogICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICBpZiAoZm4pIHsKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1ldmFsCiAgICAgICAgICAgICAgICBldmFsKGZuKTsKICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCgogICAgbG9hZEFzeW5jKHNjcmlwdCwgd3JhcHBpbmdFbGVtZW50KSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSh3cmFwcGluZ0VsZW1lbnQpWzBdLmFwcGVuZENoaWxkKHNjcmlwdCk7CgogICAgICAgIHNjcmlwdC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4gewogICAgICAgICAgLy8gdGhpcyB0aW1lb3V0IGlzIHJlcXVpcmVkIHRvIGV4ZWN1dGUgY29ycmVjdGx5IGFsbCBvbmxvYWQgZnVuY3Rpb25zCiAgICAgICAgICAvLyB0aGlzIGlzbid0IGEgZ3JlYXQgc29sdXRpb24gYnV0IGl0cyBub3Qgc28gY29tbW9uIHRvIGFkZCBvbmxvYWQgYXR0cmlidXRlcwogICAgICAgICAgLy8gYW5kIGEgZ29vZCB3b3JrYXJvdW5kCiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTsKICAgICAgICAgIH0sIDM1MCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKCiAgICBjbGVhblNuaXBwZXRzKHNuaXBwZXRzKSB7CiAgICAgIHJldHVybiBzbmlwcGV0cwogICAgICAgIC5zcGxpdCgvPFwvc2NyaXB0Pi9pbSkKICAgICAgICAubWFwKHNuaXBwZXQgPT4gc25pcHBldC5yZXBsYWNlKC88IS0tKC4qPyktLT4vaW0sICcnKSkKICAgICAgICAubWFwKHNuaXBwZXQgPT4gc25pcHBldC50cmltKCkpCiAgICAgICAgLmZpbHRlcihzbmlwcGV0ID0+IHNuaXBwZXQubGVuZ3RoID4gMCk7CiAgICB9LAoKICAgIGV4dHJhY3RBdHRyaWJ1dGVzKHNuaXBwZXQpIHsKICAgICAgY29uc3QgYXR0cmlidXRlc1dpdGhWYWx1ZXMgPSBzbmlwcGV0Lm1hdGNoKC8oXFMqKT0iKC4qPykiL2cpOwogICAgICBpZiAoYXR0cmlidXRlc1dpdGhWYWx1ZXMpIHsKICAgICAgICBjb25zdCB2YWx1ZXMgPSBhdHRyaWJ1dGVzV2l0aFZhbHVlcy5tYXAoYSA9PiBhLm1hdGNoKC8iKC4qPykiL2cpWzBdLnJlcGxhY2UoLyIvZywgJycpKTsKICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gYXR0cmlidXRlc1dpdGhWYWx1ZXMubWFwKGEgPT4gYS5tYXRjaCgvW149XSovaSlbMF0pOwogICAgICAgIHJldHVybiBhdHRyaWJ1dGVzLnJlZHVjZSgoYXR0cmlidXRlLCBrZXksIGkpID0+ICh7IC4uLmF0dHJpYnV0ZSwgW2tleV06IHZhbHVlc1tpXSB9KSwge30pOwogICAgICB9CgogICAgICByZXR1cm4ge307CiAgICB9LAoKICAgIHJlZ2lzdGVyVmlld3BvcnRPYnNlcnZlcigpIHsKICAgICAgdGhpcy5zb3J0ZWRTY3JlZW5zLmZvckVhY2goKFt2aWV3cG9ydCwgbWluV2lkdGhdKSA9PiB7CiAgICAgICAgY29uc3QgbWVkaWFRdWVyeSA9IHdpbmRvdy5tYXRjaE1lZGlhKGAobWluLXdpZHRoOiAke21pbldpZHRofSlgKTsKCiAgICAgICAgY29uc3QgbGlzdGVuZXIgPSBldmVudCA9PiB7CiAgICAgICAgICBpZiAoZXZlbnQubWF0Y2hlcykgewogICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZGlzcGF0Y2goU0VUVElOR1NfU0VUX0NVUlJFTlRfVklFV1BPUlQsIHZpZXdwb3J0KTsKICAgICAgICAgIH0KCiAgICAgICAgICBjb25zdCBtYXRjaGluZ1ZpZXdwb3J0cyA9IHRoaXMuc29ydGVkU2NyZWVucwogICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlbgogICAgICAgICAgICAuZmlsdGVyKChbLCBtYXRjaGluZ01pbldpZHRoXSkgPT4gcGFyc2VJbnQobWluV2lkdGgsIDEwKSA+IHBhcnNlSW50KG1hdGNoaW5nTWluV2lkdGgsIDEwKSkKICAgICAgICAgICAgLm1hcCgoW21hdGNoaW5nVmlld3BvcnRdKSA9PiBtYXRjaGluZ1ZpZXdwb3J0KTsKCiAgICAgICAgICBjb25zdCBjdXJyZW50Vmlld3BvcnQgPSBtYXRjaGluZ1ZpZXdwb3J0cy5sZW5ndGggPiAwCiAgICAgICAgICAgID8gbGFzdChtYXRjaGluZ1ZpZXdwb3J0cykKICAgICAgICAgICAgOiAnbW9iaWxlJzsKCiAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZGlzcGF0Y2goU0VUVElOR1NfU0VUX0NVUlJFTlRfVklFV1BPUlQsIGN1cnJlbnRWaWV3cG9ydCk7CiAgICAgICAgfTsKCiAgICAgICAgbWVkaWFRdWVyeS5hZGRMaXN0ZW5lcihsaXN0ZW5lcik7CgogICAgICAgIHRoaXMuJG9uY2UoJ2hvb2s6ZGVzdHJveWVkJywgKCkgPT4gewogICAgICAgICAgbWVkaWFRdWVyeS5yZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcik7CiAgICAgICAgfSk7CgogICAgICAgIGlmIChtZWRpYVF1ZXJ5Lm1hdGNoZXMpIHsKICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKFNFVFRJTkdTX1NFVF9DVVJSRU5UX1ZJRVdQT1JULCB2aWV3cG9ydCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuaW5pdGlhbGl6ZVN0YXRlKCk7CiAgICB0aGlzLmluaXRpYWxpemVDb2RlU25pcHBldHMoKTsKICB9LAoKICBtb3VudGVkKCkgewogICAgdGhpcy5yZWdpc3RlclZpZXdwb3J0T2JzZXJ2ZXIoKTsKICB9LAp9OwoK"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div\n    id=\"app\"\n    class=\"flex flex-col font-display text-gray-900\"\n    :class=\"themeClass\"\n  >\n    <apo-header />\n    <apo-page-progress class=\"page-progress\" />\n\n    <vue-page-transition name=\"fade-in-up\">\n      <apo-pharmacy-confirmation-modal v-if=\"isAuthenticated && showUpdatePharmacyModal\" />\n    </vue-page-transition>\n    <vue-page-transition name=\"fade-in-up\">\n      <apo-stage\n        v-if=\"stageData && isAuthenticated\"\n        :stage-data=\"stageData\"\n      />\n    </vue-page-transition>\n\n    <main class=\"flex-auto\">\n      <vue-page-transition name=\"fade-in-up\">\n        <router-view />\n      </vue-page-transition>\n      <apo-cookies-settings v-if=\"language !== 'en'\" />\n    </main>\n\n    <apo-footer />\n  </div>\n</template>\n\n<script>\n\nimport last from 'lodash/last';\nimport { mapGetters, mapState } from 'vuex';\nimport Header from '@/components/template/Header.vue';\nimport Stage from '@/components/template/Stage.vue';\nimport Footer from '@/components/template/Footer.vue';\nimport CookiesSettings from '@/components/template/CookiesSettings.vue';\nimport PharmacyConfirmationModal from '@/components/pharmacies/PharmacyConfirmationModal.vue';\nimport PageProgress from '@/components/template/PageProgress.vue';\nimport PageService from '@/services/api/PageService';\nimport {\n  PAGES_FETCH_MENUS,\n  SETTINGS_FETCH_SETTINGS,\n  SETTINGS_SET_CURRENT_VIEWPORT,\n} from '@/store/types/action-types';\n\nconst screens = require('./tailwind/Screens');\n\nexport default {\n  components: {\n    'apo-footer': Footer,\n    'apo-stage': Stage,\n    'apo-header': Header,\n    'apo-page-progress': PageProgress,\n    'apo-cookies-settings': CookiesSettings,\n    'apo-pharmacy-confirmation-modal': PharmacyConfirmationModal,\n  },\n  data() {\n    return {\n      stageData: '',\n    };\n  },\n\n  computed: {\n    ...mapGetters(['isAuthenticated', 'theme', 'settingsLoaded', 'language', 'showUpdatePharmacyModal']),\n    ...mapState({\n      settings: state => state.settings.settings,\n    }),\n\n    themeClass() {\n      return `theme-${this.theme}`;\n    },\n\n    sortedScreens() {\n      return Object.entries(screens)\n        .sort(([, minWidthA], [, minWidthB]) => {\n          const a = parseInt(minWidthA, 10);\n          const b = parseInt(minWidthB, 10);\n\n          if (a > b) {\n            return 1;\n          }\n\n          if (a < b) {\n            return -1;\n          }\n\n          return 0;\n        });\n    },\n  },\n\n  watch: {\n    isAuthenticated: {\n      immediate: true,\n      handler(isAuthenticated) {\n        if (isAuthenticated) {\n          window.eventBus.$emit('authenticated');\n        }\n      },\n    },\n    settingsLoaded: {\n      immediate: true,\n      handler(settingsLoaded) {\n        if (settingsLoaded) {\n          window.eventBus.$emit('settingsLoaded');\n        }\n      },\n    },\n\n    language: {\n      immediate: true,\n      handler(language) {\n        let docLang = language;\n        if (language === 'at') { docLang = 'de'; }\n        document.documentElement.lang = docLang;\n      },\n    },\n\n    $route: {\n      immediate: true,\n      handler(route) {\n        if (this.isAuthenticated) {\n          this.stageData = '';\n          this.loadStage(route);\n        }\n      },\n    },\n  },\n\n  methods: {\n    initializeState() {\n      this.$store.dispatch(SETTINGS_FETCH_SETTINGS);\n      this.$store.dispatch(PAGES_FETCH_MENUS);\n      if (this.isAuthenticated) {\n        this.$Progress.start();\n        this.$Progress.set(30);\n        PageService.getPages()\n          .then(data => {\n            this.$store.commit('addPageContent', data);\n            const tmpData = data.filter(page => page.acf.slides);\n            tmpData.forEach(page => {\n              this.$store.commit('addStage', { name: page.slug, stage: { minimum_height: page.acf.minimum_height, slides: page.acf.slides } });\n            });\n            this.$Progress.finish();\n            this.loadStage(this.$route);\n          });\n      }\n    },\n\n    loadStage(route) {\n      const storedData = this.$store.state.pages.stages.filter(stage => stage.name === route.path.replace(/\\//g, '')).length === 1 ? this.$store.state.pages.stages.filter(stage => stage.name === route.path.replace(/\\//g, ''))[0].stage : '';\n      if (storedData) {\n        window.setTimeout(() => {\n          this.stageData = storedData;\n        }, 100);\n      }\n    },\n\n    initializeCodeSnippets() {\n      const unwatch = this.$watch('settings', settings => {\n        unwatch();\n\n        this.evaluateCodeSnippets(settings.headCodeSnippets, 'head');\n        this.evaluateCodeSnippets(settings.bodyCodeSnippets, 'body');\n      });\n    },\n\n    evaluateCodeSnippets(snippets, wrappingElement) {\n      this.cleanSnippets(snippets).forEach(codeSnippet => {\n        const attributes = this.extractAttributes(codeSnippet);\n        const scriptTag = document.createElement('script');\n        let fn = null;\n\n        Object.keys(attributes).forEach(key => {\n          if (key === 'onload') {\n            fn = attributes[key];\n          }\n          scriptTag.setAttribute(key, attributes[key]);\n        });\n\n        if (!scriptTag.hasAttribute('type')) {\n          scriptTag.type = 'text/javascript';\n        }\n\n        const strippedCodeSnippet = codeSnippet.replace(/<script[^>]*>/im, '');\n\n        scriptTag.text = strippedCodeSnippet;\n\n        this.loadAsync(scriptTag, wrappingElement)\n          .then(() => {\n            if (fn) {\n              try {\n              // eslint-disable-next-line no-eval\n                eval(fn);\n              } catch (e) {\n                console.log(e);\n              }\n            }\n          });\n      });\n    },\n\n    loadAsync(script, wrappingElement) {\n      return new Promise(resolve => {\n        document.getElementsByTagName(wrappingElement)[0].appendChild(script);\n\n        script.addEventListener('load', () => {\n          // this timeout is required to execute correctly all onload functions\n          // this isn't a great solution but its not so common to add onload attributes\n          // and a good workaround\n          setTimeout(() => {\n            resolve(true);\n          }, 350);\n        });\n      });\n    },\n\n    cleanSnippets(snippets) {\n      return snippets\n        .split(/<\\/script>/im)\n        .map(snippet => snippet.replace(/<!--(.*?)-->/im, ''))\n        .map(snippet => snippet.trim())\n        .filter(snippet => snippet.length > 0);\n    },\n\n    extractAttributes(snippet) {\n      const attributesWithValues = snippet.match(/(\\S*)=\"(.*?)\"/g);\n      if (attributesWithValues) {\n        const values = attributesWithValues.map(a => a.match(/\"(.*?)\"/g)[0].replace(/\"/g, ''));\n        const attributes = attributesWithValues.map(a => a.match(/[^=]*/i)[0]);\n        return attributes.reduce((attribute, key, i) => ({ ...attribute, [key]: values[i] }), {});\n      }\n\n      return {};\n    },\n\n    registerViewportObserver() {\n      this.sortedScreens.forEach(([viewport, minWidth]) => {\n        const mediaQuery = window.matchMedia(`(min-width: ${minWidth})`);\n\n        const listener = event => {\n          if (event.matches) {\n            return this.$store.dispatch(SETTINGS_SET_CURRENT_VIEWPORT, viewport);\n          }\n\n          const matchingViewports = this.sortedScreens\n            // eslint-disable-next-line max-len\n            .filter(([, matchingMinWidth]) => parseInt(minWidth, 10) > parseInt(matchingMinWidth, 10))\n            .map(([matchingViewport]) => matchingViewport);\n\n          const currentViewport = matchingViewports.length > 0\n            ? last(matchingViewports)\n            : 'mobile';\n\n          return this.$store.dispatch(SETTINGS_SET_CURRENT_VIEWPORT, currentViewport);\n        };\n\n        mediaQuery.addListener(listener);\n\n        this.$once('hook:destroyed', () => {\n          mediaQuery.removeListener(listener);\n        });\n\n        if (mediaQuery.matches) {\n          this.$store.dispatch(SETTINGS_SET_CURRENT_VIEWPORT, viewport);\n        }\n      });\n    },\n  },\n\n  created() {\n    this.initializeState();\n    this.initializeCodeSnippets();\n  },\n\n  mounted() {\n    this.registerViewportObserver();\n  },\n};\n\n</script>\n\n<style lang=\"scss\">\n*::selection{\n  @apply bg-purple-500;\n  @apply text-white;\n}\n\nhtml,\nbody,\n#app {\n  min-height: 100vh;\n}\n\nbody {\n  @apply bg-white;\n}\n\n.page-progress {\n  margin-top: calc(theme('spacing.px') * -2);\n}\n\n.text-media-paragraph__copy {\n  a {\n    text-decoration: underline;\n  }\n}\n\n@media (min-width: theme('screens.desktop')) {\n  .spacer-module {\n    padding: 3.125rem 0 !important;\n\n    .text-media-paragraph__copy {\n      margin-top: 0 !important;\n    }\n  }\n}\n</style>\n"]}]}