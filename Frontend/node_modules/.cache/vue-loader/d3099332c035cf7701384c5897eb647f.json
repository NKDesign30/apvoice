{"remainingRequest":"/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/views/ConfirmEmail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/src/views/ConfirmEmail.vue","mtime":1683275992579},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgVXNlclNlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlcy9hcGkvVXNlclNlcnZpY2UnOwppbXBvcnQgeyBjYW5vbmljYWxUYWcgfSBmcm9tICdAL3NlcnZpY2VzL3V0aWxzJzsKaW1wb3J0IHsgQVVUSF9MT0dPVVRfV0lUSE9VVF9SRURJUkVDVCB9IGZyb20gJ0Avc3RvcmUvdHlwZXMvYWN0aW9uLXR5cGVzJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNCdXN5OiB0cnVlLAogICAgICBlcnJvcnM6IFtdLAogICAgICBzdWNjZXNzOiBmYWxzZSwKICAgIH07CiAgfSwKCiAgaGVhZCgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiB7CiAgICAgICAgaW5uZXI6IHRoaXMuJHQoJ3BhZ2VzLnVzZXJDb25maXJtTWFpbC5tZXRhLnRpdGxlJyksCiAgICAgIH0sCiAgICAgIGxpbms6IFsKICAgICAgICBjYW5vbmljYWxUYWcodGhpcy4kcm91dGUpLAogICAgICBdLAogICAgfTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBvbkxvZ2luQ2xpY2soKSB7CiAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCcvJyk7CiAgICB9LAogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLiRyb3V0ZS5wYXJhbXMua2V5KTsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKEFVVEhfTE9HT1VUX1dJVEhPVVRfUkVESVJFQ1QpOwoKICAgIFVzZXJTZXJ2aWNlLmNvbmZpcm1FbWFpbCh0aGlzLiRyb3V0ZS5wYXJhbXMua2V5KQogICAgICAudGhlbihkYXRhID0+IHsKICAgICAgICBjb25zb2xlLmxvZygnZGF0YSB0aGVuJyk7CiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgaWYgKCFkYXRhLm1lc3NhZ2VzKSB7CiAgICAgICAgICB0aGlzLnN1Y2Nlc3MgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmVycm9ycyA9IGRhdGEuZXJyb3JzOwogICAgICAgIH0KICAgICAgfSkKICAgICAgLmNhdGNoKGVycm9ycyA9PiB7CiAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJyk7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3JzKTsKICAgICAgICB0aGlzLmVycm9ycyA9IGVycm9yczsKICAgICAgfSkKICAgICAgLmZpbmFsbHkoKCkgPT4gewogICAgICAgIHRoaXMuaXNCdXN5ID0gZmFsc2U7CiAgICAgIH0pOwogIH0sCn07Cgo="},{"version":3,"sources":["ConfirmEmail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ConfirmEmail.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div\n    v-show=\"!isBusy\"\n    class=\"user-activation\"\n  >\n    <div class=\"container my-24\">\n      <h1\n        v-if=\"success\"\n        class=\"text-center headine-1\"\n        v-text=\"$t('pages.userConfirmMail.headlines.success')\"\n      />\n      <h1\n        v-else\n        class=\"text-center headine-1\"\n        v-text=\"$t('pages.userConfirmMail.headlines.failed')\"\n      />\n      <div class=\"mt-12 flex justify-center\">\n        <div class=\"p-8 inline-block border-8 border-gray-900 rounded-full text-center\">\n          <apo-icon\n            v-if=\"success\"\n            class=\"w-32 text-gray-900\"\n            src=\"check\"\n          />\n          <apo-icon\n            v-else\n            class=\"w-32 text-gray-900\"\n            src=\"close\"\n          />\n        </div>\n      </div>\n\n      <div class=\"flex flex-col mt-12 text-center jusitfy-center\">\n        <p\n          v-if=\"success\"\n          class=\"mt-6 text-xl text-center leading-2xl\"\n          v-html=\"$t('pages.userConfirmMail.firstParagraph')\"\n        />\n        <p\n          v-if=\"success\"\n          class=\"mt-6 text-xl text-center leading-2xl\"\n          v-html=\"$t('pages.userConfirmMail.secondParagraph')\"\n        />\n        <p\n          v-if=\"success\"\n          class=\"mt-6 text-xl text-center leading-2xl\"\n          v-html=\"$t('pages.userConfirmMail.thirdParagraph')\"\n        />\n        <p\n          v-for=\"(error, i) in errors\"\n          v-else\n          :key=\"i\"\n          class=\"mt-6 text-xl text-center leading-2xl\"\n          v-html=\"error\"\n        />\n\n        <div class=\"mt-12 \">\n          <apo-button\n            class=\"text-white button button--primary shadow-hard-dark\"\n            type=\"button\"\n            @click.native=\"onLoginClick\"\n            v-text=\"$t('pages.userConfirmMail.button')\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport UserService from '@/services/api/UserService';\nimport { canonicalTag } from '@/services/utils';\nimport { AUTH_LOGOUT_WITHOUT_REDIRECT } from '@/store/types/action-types';\n\nexport default {\n  data() {\n    return {\n      isBusy: true,\n      errors: [],\n      success: false,\n    };\n  },\n\n  head() {\n    return {\n      title: {\n        inner: this.$t('pages.userConfirmMail.meta.title'),\n      },\n      link: [\n        canonicalTag(this.$route),\n      ],\n    };\n  },\n\n  methods: {\n    onLoginClick() {\n      this.$router.replace('/');\n    },\n  },\n\n  created() {\n    // console.log(this.$route.params.key);\n    this.$store.dispatch(AUTH_LOGOUT_WITHOUT_REDIRECT);\n\n    UserService.confirmEmail(this.$route.params.key)\n      .then(data => {\n        console.log('data then');\n        console.log(data);\n        if (!data.messages) {\n          this.success = true;\n        } else {\n          this.errors = data.errors;\n        }\n      })\n      .catch(errors => {\n        console.log('error');\n        console.log(errors);\n        this.errors = errors;\n      })\n      .finally(() => {\n        this.isBusy = false;\n      });\n  },\n};\n\n</script>\n"]}]}