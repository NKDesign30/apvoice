{"remainingRequest":"/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/components/form-renderer/MultipageForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/src/components/form-renderer/MultipageForm.vue","mtime":1683275992559},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgeyBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCc7CmltcG9ydCBmaW5kIGZyb20gJ2xvZGFzaC9maW5kJzsKaW1wb3J0IGZsYXR0ZW4gZnJvbSAnbG9kYXNoL2ZsYXR0ZW4nOwppbXBvcnQgbWFwIGZyb20gJ2xvZGFzaC9tYXAnOwppbXBvcnQgZ2V0IGZyb20gJ2xvZGFzaC9nZXQnOwppbXBvcnQgewogIFNBTEVTX1JFUF9GRVRDSF9CWV9FWFBFUlRfQ09ERSwKfSBmcm9tICdAL3N0b3JlL3R5cGVzL2FjdGlvbi10eXBlcyc7CmltcG9ydCBDaGVja2JveCBmcm9tICdAL2NvbXBvbmVudHMvZm9ybS1yZW5kZXJlci9DaGVja2JveC52dWUnOwppbXBvcnQgSGlkZGVuSW5wdXQgZnJvbSAnQC9jb21wb25lbnRzL2Zvcm0tcmVuZGVyZXIvSGlkZGVuSW5wdXQudnVlJzsKaW1wb3J0IEh0bWxCbG9jayBmcm9tICdAL2NvbXBvbmVudHMvZm9ybS1yZW5kZXJlci9IdG1sQmxvY2sudnVlJzsKaW1wb3J0IElucHV0TGFiZWwgZnJvbSAnQC9jb21wb25lbnRzL2Zvcm0tcmVuZGVyZXIvSW5wdXRMYWJlbC52dWUnOwppbXBvcnQgTXVsdGlTZWxlY3RJbnB1dCBmcm9tICdAL2NvbXBvbmVudHMvZm9ybS1yZW5kZXJlci9NdWx0aVNlbGVjdElucHV0LnZ1ZSc7CmltcG9ydCBQaGFybWFjeVN1bW1hcnkgZnJvbSAnQC9jb21wb25lbnRzL2Zvcm0tcmVuZGVyZXIvUGhhcm1hY3lTdW1tYXJ5LnZ1ZSc7CmltcG9ydCBSYWRpb0J1dHRvbnMgZnJvbSAnQC9jb21wb25lbnRzL2Zvcm0tcmVuZGVyZXIvUmFkaW9CdXR0b25zLnZ1ZSc7CmltcG9ydCBSZWdpc3RyYXRpb25JbmZvcm1hdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvZm9ybS1yZW5kZXJlci9SZWdpc3RyYXRpb25JbmZvcm1hdGlvbi52dWUnOwppbXBvcnQgU2VsZWN0SW5wdXQgZnJvbSAnQC9jb21wb25lbnRzL2Zvcm0tcmVuZGVyZXIvU2VsZWN0SW5wdXQudnVlJzsKaW1wb3J0IFRleHRhcmVhIGZyb20gJ0AvY29tcG9uZW50cy9mb3JtLXJlbmRlcmVyL1RleHRhcmVhLnZ1ZSc7CmltcG9ydCBUZXh0SW5wdXQgZnJvbSAnQC9jb21wb25lbnRzL2Zvcm0tcmVuZGVyZXIvVGV4dElucHV0LnZ1ZSc7CmltcG9ydCBDYXB0Y2hhIGZyb20gJ0AvY29tcG9uZW50cy9mb3JtLXJlbmRlcmVyL0NhcHRjaGEudnVlJzsKaW1wb3J0IEZvcm1TZXJ2aWNlIGZyb20gJ0Avc2VydmljZXMvYXBpL0Zvcm1TZXJ2aWNlJzsKaW1wb3J0IEZvcm1WYWxpZGF0aW9uIGZyb20gJ0Avc2VydmljZXMvZm9ybS9Gb3JtVmFsaWRhdGlvbic7CmltcG9ydCBQaGFybWFjaWVzRnV6enlTZWFyY2ggZnJvbSAnQC9jb21wb25lbnRzL2Zvcm0tcmVuZGVyZXIvUGhhcm1hY2llc0Z1enp5U2VhcmNoLnZ1ZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgJ2Fwby1jaGVja2JveCc6IENoZWNrYm94LAogICAgJ2Fwby1oaWRkZW4taW5wdXQnOiBIaWRkZW5JbnB1dCwKICAgICdhcG8taHRtbC1ibG9jayc6IEh0bWxCbG9jaywKICAgICdhcG8taW5wdXQtbGFiZWwnOiBJbnB1dExhYmVsLAogICAgJ2Fwby1tdWx0aS1zZWxlY3QtaW5wdXQnOiBNdWx0aVNlbGVjdElucHV0LAogICAgJ2Fwby1waGFybWFjeS1zdW1tYXJ5JzogUGhhcm1hY3lTdW1tYXJ5LAogICAgJ2Fwby1yYWRpby1idXR0b25zJzogUmFkaW9CdXR0b25zLAogICAgJ2Fwby1yZWdpc3RyYXRpb24taW5mb3JtYXRpb24nOiBSZWdpc3RyYXRpb25JbmZvcm1hdGlvbiwKICAgICdhcG8tc2VsZWN0LWlucHV0JzogU2VsZWN0SW5wdXQsCiAgICAnYXBvLXRleHRhcmVhJzogVGV4dGFyZWEsCiAgICAnYXBvLXRleHQtaW5wdXQnOiBUZXh0SW5wdXQsCiAgICAnYXBvLWNhcHRjaGEnOiBDYXB0Y2hhLAogICAgJ2Fwby1waGFybWFjaWVzLWZ1enp5LXNlYXJjaCc6IFBoYXJtYWNpZXNGdXp6eVNlYXJjaCwKICB9LAoKICBwcm9wczogewogICAgcGFnZXM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgfSwKCiAgICBzdWJtaXNzaW9uVXJsOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICB9LAogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjdXJyZW50UGFnZU51bWJlcjogJzEnLAogICAgICB2YWxpZGF0aW9uOiBuZXcgRm9ybVZhbGlkYXRpb24oKSwKICAgICAgaXNCdXN5OiBmYWxzZSwKICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIGN1cnJlbnRQYWdlKCkgewogICAgICByZXR1cm4gZmluZCgKICAgICAgICB0aGlzLnBhZ2VzLCBwYWdlID0+IHBhcnNlSW50KHBhZ2UucGFnZU51bWJlciwgMTApID09PSBwYXJzZUludCh0aGlzLmN1cnJlbnRQYWdlTnVtYmVyLCAxMCksCiAgICAgICk7CiAgICB9LAoKICAgIHRvdGFsUGFnZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLnBhZ2VzLmxlbmd0aDsKICAgIH0sCiAgfSwKCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucyhbU0FMRVNfUkVQX0ZFVENIX0JZX0VYUEVSVF9DT0RFXSksCgogICAgY2hlY2tQYXNzd29yZE1hc2soZXZlbnQpIHsKICAgICAgLy8gVGVzdCBmb3IgbGVuZ3RoCiAgICAgIGlmIChldmVudC5tYXRjaCgvXlthLXpBLVpcZFxXX11bXlxzXXs4LH0kLykpIHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFzc3dvcmRMZW5ndGhNYXNrJykuY2xhc3NMaXN0LnJlbW92ZSgnZmFpbHVyZScpOwogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYXNzd29yZExlbmd0aE1hc2snKS5jbGFzc0xpc3QuYWRkKCdzdWNjZXNzJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhc3N3b3JkTGVuZ3RoTWFzaycpLmNsYXNzTGlzdC5yZW1vdmUoJ3N1Y2Nlc3MnKTsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFzc3dvcmRMZW5ndGhNYXNrJykuY2xhc3NMaXN0LmFkZCgnZmFpbHVyZScpOwogICAgICB9CgogICAgICAvLyB0ZXN0IGZvciBudW1iZXIKICAgICAgaWYgKGV2ZW50Lm1hdGNoKC9eKD89LipcZCkvKSkgewogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYXNzd29yZE51bWJlck1hc2snKS5jbGFzc0xpc3QucmVtb3ZlKCdmYWlsdXJlJyk7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhc3N3b3JkTnVtYmVyTWFzaycpLmNsYXNzTGlzdC5hZGQoJ3N1Y2Nlc3MnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFzc3dvcmROdW1iZXJNYXNrJykuY2xhc3NMaXN0LnJlbW92ZSgnc3VjY2VzcycpOwogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYXNzd29yZE51bWJlck1hc2snKS5jbGFzc0xpc3QuYWRkKCdmYWlsdXJlJyk7CiAgICAgIH0KCiAgICAgIC8vIHRlc3QgZm9yIHVwcGVyY2FzZQogICAgICBpZiAoZXZlbnQubWF0Y2goL14oPz0uKltBLVpdKS8pKSB7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhc3N3b3JkVXBwZXJNYXNrJykuY2xhc3NMaXN0LnJlbW92ZSgnZmFpbHVyZScpOwogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYXNzd29yZFVwcGVyTWFzaycpLmNsYXNzTGlzdC5hZGQoJ3N1Y2Nlc3MnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFzc3dvcmRVcHBlck1hc2snKS5jbGFzc0xpc3QucmVtb3ZlKCdzdWNjZXNzJyk7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhc3N3b3JkVXBwZXJNYXNrJykuY2xhc3NMaXN0LmFkZCgnZmFpbHVyZScpOwogICAgICB9CgogICAgICAvLyB0ZXN0IGZvciBsb3dlcmNhc2UKICAgICAgaWYgKGV2ZW50Lm1hdGNoKC9eKD89LipbYS16XSkvKSkgewogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYXNzd29yZExvd2VyTWFzaycpLmNsYXNzTGlzdC5yZW1vdmUoJ2ZhaWx1cmUnKTsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFzc3dvcmRMb3dlck1hc2snKS5jbGFzc0xpc3QuYWRkKCdzdWNjZXNzJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhc3N3b3JkTG93ZXJNYXNrJykuY2xhc3NMaXN0LnJlbW92ZSgnc3VjY2VzcycpOwogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYXNzd29yZExvd2VyTWFzaycpLmNsYXNzTGlzdC5hZGQoJ2ZhaWx1cmUnKTsKICAgICAgfQogICAgfSwKCiAgICBnZXRQYWdlSWQoeyBwYWdlTnVtYmVyIH0pIHsKICAgICAgcmV0dXJuIGBwYWdlLSR7cGFnZU51bWJlcn1gOwogICAgfSwKCiAgICBnZXRGaWVsZElkKHsgaWQgfSkgewogICAgICByZXR1cm4gYGZvcm0tZmllbGQtJHtpZC5yZXBsYWNlKC9cLi9nLCAnLScpfWA7CiAgICB9LAoKICAgIGlzQ3VycmVudFBhZ2UoeyBwYWdlTnVtYmVyIH0pIHsKICAgICAgcmV0dXJuIHBhcnNlSW50KHBhZ2VOdW1iZXIsIDEwKSA9PT0gcGFyc2VJbnQodGhpcy5jdXJyZW50UGFnZU51bWJlciwgMTApOwogICAgfSwKCiAgICBnZXRGb3JtSW5wdXROYW1lKGZpZWxkKSB7CiAgICAgIHJldHVybiBGb3JtU2VydmljZS5nZXRGb3JtQ29tcG9uZW50KGZpZWxkKTsKICAgIH0sCgogICAgZ2V0RmllbGRDbGFzc2VzKGZpZWxkKSB7CiAgICAgIGxldCBjbGFzc2VzID0gJ3ctZnVsbCc7CgogICAgICAvLyAiSW50ZXJwcmV0IiB0aGUgZmllbGRzIGN1c3RvbSBjbGFzc2VzCiAgICAgIC8vIHNlZTogaHR0cHM6Ly93d3cuZ3Jhdml0eWZvcm1zLmNvbS9jc3MtcmVhZHktY2xhc3Nlcy8KICAgICAgaWYgKGZpZWxkLmNzc0NsYXNzLm1hdGNoKC9nZl8uK19oYWxmLykpIHsKICAgICAgICBjbGFzc2VzID0gJ3RhYmxldDp3LTEvMic7CiAgICAgIH0gZWxzZSBpZiAoZmllbGQuY3NzQ2xhc3MubWF0Y2goL2dmXy4rX3RoaXJkLykpIHsKICAgICAgICBjbGFzc2VzID0gJ3RhYmxldDp3LTEvMyc7CiAgICAgIH0KCiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItdGVtcGxhdGUKICAgICAgcmV0dXJuIGNsYXNzZXMgKyAnICcgKyBmaWVsZC5jc3NDbGFzczsKICAgIH0sCgogICAgZ2V0UGFnZUZpZWxkcyhwYWdlTnVtYmVyKSB7CiAgICAgIHJldHVybiBmbGF0dGVuKG1hcCh0aGlzLnBhZ2VzLmZpbHRlcihwYWdlID0+IHBhcnNlSW50KHBhZ2UucGFnZU51bWJlciwgMTApIDw9IHBhcnNlSW50KHBhZ2VOdW1iZXIsIDEwKSksICdmaWVsZHMnKSk7CiAgICB9LAoKICAgIG9uRmllbGRJbnB1dChldmVudCwgZmllbGQsIGlucHV0LCBpbmRleCkgewogICAgICBpZiAoaW5kZXggPT09IDAgJiYgZmllbGQucGFzc3dvcmREZXRhaWxzKSB0aGlzLmNoZWNrUGFzc3dvcmRNYXNrKGV2ZW50LCBmaWVsZCwgaW5wdXQpOwogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ24KICAgICAgaW5wdXQudmFsdWUgPSBldmVudDsKICAgICAgdGhpcy52YWxpZGF0aW9uLnJlc2V0KGlucHV0LmlkKTsKICAgIH0sCgogICAgb25QcmV2aW91c0J1dHRvbkNsaWNrKCkgewogICAgICB0aGlzLmN1cnJlbnRQYWdlTnVtYmVyID0gU3RyaW5nKHBhcnNlSW50KHRoaXMuY3VycmVudFBhZ2VOdW1iZXIsIDEwKSAtIDEpOwogICAgfSwKCiAgICBvbkVudGVyS2V5KGZpZWxkKSB7CiAgICAgIGlmICh0aGlzLmdldEZvcm1JbnB1dE5hbWUoZmllbGQpID09PSAnYXBvLXRleHQtaW5wdXQnKSB7CiAgICAgICAgdGhpcy5vbk5leHRCdXR0b25DbGljaygpOwogICAgICB9CiAgICB9LAoKICAgIG9uTmV4dEJ1dHRvbkNsaWNrKCkgewogICAgICB0aGlzLmlzQnVzeSA9IHRydWU7CgogICAgICBjb25zdCBjdXJyZW50UGFnZU51bWJlciA9IHBhcnNlSW50KHRoaXMuY3VycmVudFBhZ2VOdW1iZXIsIDEwKTsKICAgICAgY29uc3QgcGFnZVBheWxvYWQgPSB7CiAgICAgICAgc291cmNlX3BhZ2U6IGN1cnJlbnRQYWdlTnVtYmVyLAogICAgICAgIHRhcmdldF9wYWdlOiBjdXJyZW50UGFnZU51bWJlciA8IHRoaXMudG90YWxQYWdlcyA/IGN1cnJlbnRQYWdlTnVtYmVyICsgMSA6IDAsCiAgICAgIH07CgogICAgICB0aGlzLmdldFBhZ2VGaWVsZHMoY3VycmVudFBhZ2VOdW1iZXIpLmZvckVhY2goZmllbGQgPT4gewogICAgICAgIGZpZWxkLmlucHV0cy5mb3JFYWNoKGlucHV0ID0+IHsKICAgICAgICAgIGlmIChmaWVsZC50eXBlID09PSAnY2FwdGNoYScpIHsKICAgICAgICAgICAgcGFnZVBheWxvYWRbJ2ctcmVjYXB0Y2hhLXJlc3BvbnNlJ10gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZy1yZWNhcHRjaGEtcmVzcG9uc2UnKS52YWx1ZTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICgoZmllbGQuaXNEaXNwbGF5T25seSAmJiBmaWVsZC50eXBlICE9PSAncGFzc3dvcmQnKSB8fCAoZmllbGQudHlwZSA9PT0gJ2NoZWNrYm94JyAmJiBpbnB1dC52YWx1ZSA9PT0gJycpKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICBwYWdlUGF5bG9hZFtgaW5wdXRfJHtpbnB1dC5pZC5yZXBsYWNlKC9cLi9nLCAnXycpfWBdID0gaW5wdXQudmFsdWU7CiAgICAgICAgfSk7CiAgICAgIH0pOwoKICAgICAgdGhpcy5wcmVsb2FkU2FsZXNSZXBCeUV4cGVydENvZGVJZk5lY2Vzc2FyeShjdXJyZW50UGFnZU51bWJlcik7CgogICAgICBGb3JtU2VydmljZS5zdWJtaXQodGhpcy5zdWJtaXNzaW9uVXJsLCBwYWdlUGF5bG9hZCkKICAgICAgICAudGhlbigoewogICAgICAgICAgaXNWYWxpZCwKICAgICAgICAgIHBhZ2VOdW1iZXIsCiAgICAgICAgICBjb25maXJtYXRpb25UeXBlLAogICAgICAgICAgY29uZmlybWF0aW9uTWVzc2FnZSwKICAgICAgICAgIGNvbmZpcm1hdGlvblJlZGlyZWN0LAogICAgICAgIH0pID0+IHsKICAgICAgICAgIGlmIChpc1ZhbGlkKSB7CiAgICAgICAgICAgIGlmIChwYWdlTnVtYmVyID09PSAwKSB7CiAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnc3VibWl0dGVkJywgeyBjb25maXJtYXRpb25UeXBlLCBjb25maXJtYXRpb25NZXNzYWdlLCBjb25maXJtYXRpb25SZWRpcmVjdCB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlTnVtYmVyID0gcGFnZU51bWJlcjsKICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICBpZiAoZXJyb3IudmFsaWRhdGlvbk1lc3NhZ2VzKSB7CiAgICAgICAgICAgIHRoaXMudmFsaWRhdGlvbi5maWxsKGVycm9yKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd1bmV4cGVjdGVkIGVycm9yJywgZXJyb3IpOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmZpbmFsbHkoKCkgPT4gewogICAgICAgICAgdGhpcy5pc0J1c3kgPSBmYWxzZTsKICAgICAgICB9KTsKICAgIH0sCgogICAgcHJlbG9hZFNhbGVzUmVwQnlFeHBlcnRDb2RlSWZOZWNlc3NhcnkoY3VycmVudFBhZ2VOdW1iZXIpIHsKICAgICAgaWYgKGN1cnJlbnRQYWdlTnVtYmVyICE9PSAxKSByZXR1cm47CiAgICAgIGNvbnN0IGZpZWxkID0gdGhpcy5nZXRQYWdlRmllbGRzKGN1cnJlbnRQYWdlTnVtYmVyKQogICAgICAgIC5maW5kKGYgPT4gZi5jc3NDbGFzcy5tYXRjaCgvdmFsaWRhdGUtZXhwZXJ0LWNvZGUvKSk7CiAgICAgIGNvbnN0IGV4cGVydENvZGUgPSBnZXQoZmllbGQsICdpbnB1dHNbMF0udmFsdWUnLCAnJyk7CiAgICAgIHRoaXNbU0FMRVNfUkVQX0ZFVENIX0JZX0VYUEVSVF9DT0RFXShleHBlcnRDb2RlKTsKICAgIH0sCiAgfSwKfTsKCg=="},{"version":3,"sources":["MultipageForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MultipageForm.vue","sourceRoot":"src/components/form-renderer","sourcesContent":["<template>\n  <div class=\"multipage-form\">\n    <transition\n      name=\"fade\"\n      mode=\"out-in\"\n    >\n      <div\n        :key=\"getPageId(currentPage)\"\n        class=\"mt-20 flex flex-wrap flex-col tablet:flex-row tablet:items-end\"\n      >\n        <div\n          v-for=\"field in currentPage.fields\"\n          :key=\"field.id\"\n          class=\"px-4\"\n          :class=\"{\n            [getFieldClasses(field)]: true,\n            'hidden': field.type === 'hidden',\n          }\"\n        >\n          <template v-if=\"field.isVisible\">\n            <div class=\"mb-8 relative\">\n              <apo-input-label\n                v-if=\"field.labelPlacement !== 'hidden' && field.label\"\n                :for=\"getFieldId(field)\"\n                class=\"mb-4\"\n                v-html=\"field.label\"\n              />\n\n              <div\n                v-for=\"(input, index) in field.inputs\"\n                :key=\"input.id\"\n              >\n                <apo-input-label\n                  v-if=\"field.subLabelPlacement !== 'hidden' && (input.label || input.customLabel)\"\n                  :for=\"getFieldId(input)\"\n                  class=\"mb-4\"\n                  v-html=\"input.customLabel || input.label\"\n                />\n\n                <component\n                  :is=\"getFormInputName(field)\"\n                  :id=\"getFieldId(input)\"\n                  class=\"mb-4\"\n                  v-bind=\"input\"\n                  :field=\"field\"\n                  :value=\"input.value\"\n                  @input=\"onFieldInput($event, field, input, index)\"\n                  @keyup.enter=\"onEnterKey(field)\"\n                />\n                <div\n                  v-if=\"index === 0 && field.passwordDetails\"\n                >\n                  <div class=\"passwordMask mb-3\">\n                    <div\n                      class=\"passwordLengthMask flex text-gray-700\"\n                      v-text=\"$t('pages.registration.passwordMask.length')\"\n                    />\n                    <div\n                      class=\"passwordNumberMask flex text-gray-700\"\n                      v-text=\"$t('pages.registration.passwordMask.number')\"\n                    />\n                    <div\n                      class=\"passwordUpperMask flex text-gray-700\"\n                      v-text=\"$t('pages.registration.passwordMask.uppercase')\"\n                    />\n                    <div\n                      class=\"passwordLowerMask flex text-gray-700\"\n                      v-text=\"$t('pages.registration.passwordMask.lowercase')\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              <small\n                v-if=\"validation.has(field.id)\"\n                class=\"-mt-3 absolute pin-l pin-b text-red-500 text-xs font-bold\"\n                v-text=\"validation.get(field.id)\"\n              />\n            </div>\n          </template>\n        </div>\n\n        <div class=\"my-20 w-full flex flex-col-reverse tablet:flex-row justify-center\">\n          <apo-button\n            v-if=\"currentPage.previousButton\"\n            class=\"w-full tablet:w-auto mr-6 button button--naked button--small shadow-hard text-gray-900\"\n            @click.native=\"onPreviousButtonClick\"\n            v-text=\"currentPage.previousButton.text\"\n          />\n\n          <apo-button\n            v-if=\"currentPage.nextButton\"\n            class=\"w-full tablet:w-auto button button--primary button--small shadow-hard-dark text-white mb-6 tablet:mb-0\"\n            :class=\"{ 'is-busy cursor-wait': isBusy }\"\n            :disabled=\"isBusy\"\n            @click.native=\"onNextButtonClick\"\n          >\n            <apo-spinner\n              v-if=\"isBusy\"\n              class=\"mr-4\"\n              size=\"small\"\n            />\n\n            <span v-text=\"currentPage.nextButton.text\" />\n          </apo-button>\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\n\nimport { mapActions } from 'vuex';\nimport find from 'lodash/find';\nimport flatten from 'lodash/flatten';\nimport map from 'lodash/map';\nimport get from 'lodash/get';\nimport {\n  SALES_REP_FETCH_BY_EXPERT_CODE,\n} from '@/store/types/action-types';\nimport Checkbox from '@/components/form-renderer/Checkbox.vue';\nimport HiddenInput from '@/components/form-renderer/HiddenInput.vue';\nimport HtmlBlock from '@/components/form-renderer/HtmlBlock.vue';\nimport InputLabel from '@/components/form-renderer/InputLabel.vue';\nimport MultiSelectInput from '@/components/form-renderer/MultiSelectInput.vue';\nimport PharmacySummary from '@/components/form-renderer/PharmacySummary.vue';\nimport RadioButtons from '@/components/form-renderer/RadioButtons.vue';\nimport RegistrationInformation from '@/components/form-renderer/RegistrationInformation.vue';\nimport SelectInput from '@/components/form-renderer/SelectInput.vue';\nimport Textarea from '@/components/form-renderer/Textarea.vue';\nimport TextInput from '@/components/form-renderer/TextInput.vue';\nimport Captcha from '@/components/form-renderer/Captcha.vue';\nimport FormService from '@/services/api/FormService';\nimport FormValidation from '@/services/form/FormValidation';\nimport PharmaciesFuzzySearch from '@/components/form-renderer/PharmaciesFuzzySearch.vue';\n\nexport default {\n  components: {\n    'apo-checkbox': Checkbox,\n    'apo-hidden-input': HiddenInput,\n    'apo-html-block': HtmlBlock,\n    'apo-input-label': InputLabel,\n    'apo-multi-select-input': MultiSelectInput,\n    'apo-pharmacy-summary': PharmacySummary,\n    'apo-radio-buttons': RadioButtons,\n    'apo-registration-information': RegistrationInformation,\n    'apo-select-input': SelectInput,\n    'apo-textarea': Textarea,\n    'apo-text-input': TextInput,\n    'apo-captcha': Captcha,\n    'apo-pharmacies-fuzzy-search': PharmaciesFuzzySearch,\n  },\n\n  props: {\n    pages: {\n      type: Array,\n      required: true,\n    },\n\n    submissionUrl: {\n      type: String,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      currentPageNumber: '1',\n      validation: new FormValidation(),\n      isBusy: false,\n    };\n  },\n\n  computed: {\n    currentPage() {\n      return find(\n        this.pages, page => parseInt(page.pageNumber, 10) === parseInt(this.currentPageNumber, 10),\n      );\n    },\n\n    totalPages() {\n      return this.pages.length;\n    },\n  },\n\n  methods: {\n    ...mapActions([SALES_REP_FETCH_BY_EXPERT_CODE]),\n\n    checkPasswordMask(event) {\n      // Test for length\n      if (event.match(/^[a-zA-Z\\d\\W_][^\\s]{8,}$/)) {\n        document.querySelector('.passwordLengthMask').classList.remove('failure');\n        document.querySelector('.passwordLengthMask').classList.add('success');\n      } else {\n        document.querySelector('.passwordLengthMask').classList.remove('success');\n        document.querySelector('.passwordLengthMask').classList.add('failure');\n      }\n\n      // test for number\n      if (event.match(/^(?=.*\\d)/)) {\n        document.querySelector('.passwordNumberMask').classList.remove('failure');\n        document.querySelector('.passwordNumberMask').classList.add('success');\n      } else {\n        document.querySelector('.passwordNumberMask').classList.remove('success');\n        document.querySelector('.passwordNumberMask').classList.add('failure');\n      }\n\n      // test for uppercase\n      if (event.match(/^(?=.*[A-Z])/)) {\n        document.querySelector('.passwordUpperMask').classList.remove('failure');\n        document.querySelector('.passwordUpperMask').classList.add('success');\n      } else {\n        document.querySelector('.passwordUpperMask').classList.remove('success');\n        document.querySelector('.passwordUpperMask').classList.add('failure');\n      }\n\n      // test for lowercase\n      if (event.match(/^(?=.*[a-z])/)) {\n        document.querySelector('.passwordLowerMask').classList.remove('failure');\n        document.querySelector('.passwordLowerMask').classList.add('success');\n      } else {\n        document.querySelector('.passwordLowerMask').classList.remove('success');\n        document.querySelector('.passwordLowerMask').classList.add('failure');\n      }\n    },\n\n    getPageId({ pageNumber }) {\n      return `page-${pageNumber}`;\n    },\n\n    getFieldId({ id }) {\n      return `form-field-${id.replace(/\\./g, '-')}`;\n    },\n\n    isCurrentPage({ pageNumber }) {\n      return parseInt(pageNumber, 10) === parseInt(this.currentPageNumber, 10);\n    },\n\n    getFormInputName(field) {\n      return FormService.getFormComponent(field);\n    },\n\n    getFieldClasses(field) {\n      let classes = 'w-full';\n\n      // \"Interpret\" the fields custom classes\n      // see: https://www.gravityforms.com/css-ready-classes/\n      if (field.cssClass.match(/gf_.+_half/)) {\n        classes = 'tablet:w-1/2';\n      } else if (field.cssClass.match(/gf_.+_third/)) {\n        classes = 'tablet:w-1/3';\n      }\n\n      // eslint-disable-next-line prefer-template\n      return classes + ' ' + field.cssClass;\n    },\n\n    getPageFields(pageNumber) {\n      return flatten(map(this.pages.filter(page => parseInt(page.pageNumber, 10) <= parseInt(pageNumber, 10)), 'fields'));\n    },\n\n    onFieldInput(event, field, input, index) {\n      if (index === 0 && field.passwordDetails) this.checkPasswordMask(event, field, input);\n      // eslint-disable-next-line no-param-reassign\n      input.value = event;\n      this.validation.reset(input.id);\n    },\n\n    onPreviousButtonClick() {\n      this.currentPageNumber = String(parseInt(this.currentPageNumber, 10) - 1);\n    },\n\n    onEnterKey(field) {\n      if (this.getFormInputName(field) === 'apo-text-input') {\n        this.onNextButtonClick();\n      }\n    },\n\n    onNextButtonClick() {\n      this.isBusy = true;\n\n      const currentPageNumber = parseInt(this.currentPageNumber, 10);\n      const pagePayload = {\n        source_page: currentPageNumber,\n        target_page: currentPageNumber < this.totalPages ? currentPageNumber + 1 : 0,\n      };\n\n      this.getPageFields(currentPageNumber).forEach(field => {\n        field.inputs.forEach(input => {\n          if (field.type === 'captcha') {\n            pagePayload['g-recaptcha-response'] = document.querySelector('.g-recaptcha-response').value;\n            return;\n          }\n\n          if ((field.isDisplayOnly && field.type !== 'password') || (field.type === 'checkbox' && input.value === '')) {\n            return;\n          }\n\n          pagePayload[`input_${input.id.replace(/\\./g, '_')}`] = input.value;\n        });\n      });\n\n      this.preloadSalesRepByExpertCodeIfNecessary(currentPageNumber);\n\n      FormService.submit(this.submissionUrl, pagePayload)\n        .then(({\n          isValid,\n          pageNumber,\n          confirmationType,\n          confirmationMessage,\n          confirmationRedirect,\n        }) => {\n          if (isValid) {\n            if (pageNumber === 0) {\n              this.$emit('submitted', { confirmationType, confirmationMessage, confirmationRedirect });\n            } else {\n              this.currentPageNumber = pageNumber;\n              window.scrollTo(0, 0);\n            }\n          }\n        })\n        .catch(error => {\n          if (error.validationMessages) {\n            this.validation.fill(error);\n          } else {\n            console.log('unexpected error', error);\n          }\n        })\n        .finally(() => {\n          this.isBusy = false;\n        });\n    },\n\n    preloadSalesRepByExpertCodeIfNecessary(currentPageNumber) {\n      if (currentPageNumber !== 1) return;\n      const field = this.getPageFields(currentPageNumber)\n        .find(f => f.cssClass.match(/validate-expert-code/));\n      const expertCode = get(field, 'inputs[0].value', '');\n      this[SALES_REP_FETCH_BY_EXPERT_CODE](expertCode);\n    },\n  },\n};\n\n</script>\n\n<style lang=\"scss\" scoped>\n\n.passwordMask{\n\n  .success{\n    color: green;\n    display: flex;\n    align-items: center;\n\n    &:before{\n      content: \"\\2713\";\n      display: block;\n      width: 20px;\n    }\n  }\n\n  .failure{\n    color: red;\n    display: flex;\n    align-items: center;\n\n    &:before{\n      content: \"\\2717\";\n      display: block;\n      width: 20px;\n    }\n  }\n}\n\n.validate-pg_customer_id,\n.validate-expert-code {\n  width: 48%;\n\n  &.w-full {\n    width: 100%;\n  }\n}\n\n.or-helper {\n  width: 3%;\n  text-align: center;\n  padding: 0;\n}\n\n@media only screen and (max-width: 640px) {\n  .validate-pg_customer_id,\n  .validate-expert-code,\n  .or-helper {\n    width: 100%;\n  }\n}\n\n.fade {\n  &-enter-active,\n  &-leave-active {\n    transition: opacity 0.3s ease;\n  }\n\n  &-enter,\n  &-leave-to {\n    opacity: 0;\n  }\n}\n\n</style>\n"]}]}