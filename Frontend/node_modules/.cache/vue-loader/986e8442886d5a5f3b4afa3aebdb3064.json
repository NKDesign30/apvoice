{"remainingRequest":"/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/views/Registration.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/src/views/Registration.vue","mtime":1683275992581},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBTdGF0ZSwgbWFwTXV0YXRpb25zIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IFNBTEVTX1JFUF9SRVNFVF9TQUxFU19SRVBfTkFNRSB9IGZyb20gJ0Avc3RvcmUvdHlwZXMvbXV0YXRpb24tdHlwZXMnOwppbXBvcnQgRm9ybVJlbmRlcmVyIGZyb20gJ0AvY29tcG9uZW50cy9mb3JtLXJlbmRlcmVyL0Zvcm1SZW5kZXJlci52dWUnOwppbXBvcnQgTG9hZGluZ092ZXJsYXkgZnJvbSAnQC9jb21wb25lbnRzL3VpL0xvYWRpbmdPdmVybGF5LnZ1ZSc7CmltcG9ydCB7IGNhbm9uaWNhbFRhZywgZGVzY3JpcHRpb25UYWcgfSBmcm9tICdAL3NlcnZpY2VzL3V0aWxzJzsKaW1wb3J0IHsgRk9STVNfRkVUQ0hfRk9STSB9IGZyb20gJ0Avc3RvcmUvdHlwZXMvYWN0aW9uLXR5cGVzJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICAnYXBvLWZvcm0tcmVuZGVyZXInOiBGb3JtUmVuZGVyZXIsCiAgICAnYXBvLWxvYWRpbmctb3ZlcmxheSc6IExvYWRpbmdPdmVybGF5LAogIH0sCgogIGhlYWQoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogewogICAgICAgIGlubmVyOiB0aGlzLiR0KCdwYWdlcy5yZWdpc3RyYXRpb24ubWV0YS50aXRsZScpLAogICAgICB9LAogICAgICBtZXRhOiBbCiAgICAgICAgZGVzY3JpcHRpb25UYWcodGhpcy4kdCgncGFnZXMucmVnaXN0cmF0aW9uLm1ldGEuZGVzY3JpcHRpb24nKSksCiAgICAgIF0sCiAgICAgIGxpbms6IFsKICAgICAgICBjYW5vbmljYWxUYWcodGhpcy4kcm91dGUpLAogICAgICBdLAogICAgfTsKICB9LAoKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbJ2lzQXV0aGVudGljYXRlZCcsICdnZXRGb3JtJywgJ3NldHRpbmdzTG9hZGVkJ10pLAogICAgLi4ubWFwU3RhdGUoewogICAgICBmb3JtKHN0YXRlKSB7CiAgICAgICAgcmV0dXJuIHN0YXRlLmZvcm1zLmZvcm1zLmZpbmQoZm9ybSA9PiBmb3JtLmlkID09PSB0aGlzLmZvcm1JZCk7CiAgICAgIH0sCiAgICB9KSwKCiAgICBmb3JtSWQoKSB7CiAgICAgIGNvbnN0IGZvcm1Db25maWcgPSB0aGlzLmdldEZvcm0oJ2Fwb19yZWdpc3Rlcl9mb3JtJyk7CgogICAgICByZXR1cm4gZm9ybUNvbmZpZyAmJiBmb3JtQ29uZmlnLmlkID8gZm9ybUNvbmZpZy5pZCA6IG51bGw7CiAgICB9LAogIH0sCgogIHdhdGNoOiB7CiAgICBzZXR0aW5nc0xvYWRlZDogewogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGhhbmRsZXIoc2V0dGluZ3NMb2FkZWQpIHsKICAgICAgICBpZiAoc2V0dGluZ3NMb2FkZWQpIHsKICAgICAgICAgIHRoaXMuZmV0Y2hSZWdpc3RyYXRpb25Gb3JtKCk7CiAgICAgICAgfQogICAgICB9LAogICAgfSwKICB9LAoKICBtZXRob2RzOiB7CiAgICAuLi5tYXBNdXRhdGlvbnMoW1NBTEVTX1JFUF9SRVNFVF9TQUxFU19SRVBfTkFNRV0pLAoKICAgIHJlZGlyZWN0SWZBdXRoZW50aWNhdGVkKCkgewogICAgICBpZiAodGhpcy5pc0F1dGhlbnRpY2F0ZWQpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgnLycpOwogICAgICB9CiAgICB9LAoKICAgIGZldGNoUmVnaXN0cmF0aW9uRm9ybSgpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goRk9STVNfRkVUQ0hfRk9STSwgdGhpcy5mb3JtSWQpOwogICAgfSwKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5yZWRpcmVjdElmQXV0aGVudGljYXRlZCgpOwogIH0sCgogIGRlc3Ryb3llZCgpIHsKICAgIHRoaXNbU0FMRVNfUkVQX1JFU0VUX1NBTEVTX1JFUF9OQU1FXSgpOwogIH0sCn07Cgo="},{"version":3,"sources":["Registration.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Registration.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"registration\">\n    <apo-wait :for=\"`form.${formId}`\">\n      <template #waiting>\n        <apo-loading-overlay\n          class=\"my-15\"\n          :message=\"$t('loaders.form')\"\n        />\n      </template>\n\n      <apo-form-renderer\n        v-if=\"form\"\n        v-bind=\"form\"\n        class=\"container\"\n      />\n    </apo-wait>\n  </div>\n</template>\n\n<script>\n\nimport { mapGetters, mapState, mapMutations } from 'vuex';\nimport { SALES_REP_RESET_SALES_REP_NAME } from '@/store/types/mutation-types';\nimport FormRenderer from '@/components/form-renderer/FormRenderer.vue';\nimport LoadingOverlay from '@/components/ui/LoadingOverlay.vue';\nimport { canonicalTag, descriptionTag } from '@/services/utils';\nimport { FORMS_FETCH_FORM } from '@/store/types/action-types';\n\nexport default {\n  components: {\n    'apo-form-renderer': FormRenderer,\n    'apo-loading-overlay': LoadingOverlay,\n  },\n\n  head() {\n    return {\n      title: {\n        inner: this.$t('pages.registration.meta.title'),\n      },\n      meta: [\n        descriptionTag(this.$t('pages.registration.meta.description')),\n      ],\n      link: [\n        canonicalTag(this.$route),\n      ],\n    };\n  },\n\n  computed: {\n    ...mapGetters(['isAuthenticated', 'getForm', 'settingsLoaded']),\n    ...mapState({\n      form(state) {\n        return state.forms.forms.find(form => form.id === this.formId);\n      },\n    }),\n\n    formId() {\n      const formConfig = this.getForm('apo_register_form');\n\n      return formConfig && formConfig.id ? formConfig.id : null;\n    },\n  },\n\n  watch: {\n    settingsLoaded: {\n      immediate: true,\n      handler(settingsLoaded) {\n        if (settingsLoaded) {\n          this.fetchRegistrationForm();\n        }\n      },\n    },\n  },\n\n  methods: {\n    ...mapMutations([SALES_REP_RESET_SALES_REP_NAME]),\n\n    redirectIfAuthenticated() {\n      if (this.isAuthenticated) {\n        this.$router.replace('/');\n      }\n    },\n\n    fetchRegistrationForm() {\n      this.$store.dispatch(FORMS_FETCH_FORM, this.formId);\n    },\n  },\n\n  created() {\n    this.redirectIfAuthenticated();\n  },\n\n  destroyed() {\n    this[SALES_REP_RESET_SALES_REP_NAME]();\n  },\n};\n\n</script>\n"]}]}