{"remainingRequest":"/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/views/Downloads.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/src/views/Downloads.vue","mtime":1683275992580},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCc7CmltcG9ydCAqIGFzIG1vbWVudCBmcm9tICdtb21lbnQnOwppbXBvcnQgZ2V0IGZyb20gJ2xvZGFzaC9nZXQnOwppbXBvcnQgewogIERPV05MT0FEU19GRVRDSF9BTEwsCiAgVEFYT05PTUlFU19GRVRDSF9ET1dOTE9BRF9DQVRFR09SSUVTLAogIFRBWE9OT01JRVNfRkVUQ0hfRE9XTkxPQURfUFJPRFVDVFMsCiAgVEFYT05PTUlFU19GRVRDSF9ET1dOTE9BRF9NRURJQVRZUEVTLAp9IGZyb20gJ0Avc3RvcmUvdHlwZXMvYWN0aW9uLXR5cGVzJzsKaW1wb3J0IHRoZW1lU2V0dGluZ3MgZnJvbSAnQC9taXhpbnMvdGhlbWUtc2V0dGluZ3MnOwppbXBvcnQgVGV4dElucHV0IGZyb20gJ0AvY29tcG9uZW50cy9mb3JtLXJlbmRlcmVyL1RleHRJbnB1dC52dWUnOwppbXBvcnQgTG9hZGluZ092ZXJsYXkgZnJvbSAnQC9jb21wb25lbnRzL3VpL0xvYWRpbmdPdmVybGF5LnZ1ZSc7CmltcG9ydCBQYWdlU2VydmljZSBmcm9tICdAL3NlcnZpY2VzL2FwaS9QYWdlU2VydmljZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgJ2Fwby10ZXh0LWlucHV0JzogVGV4dElucHV0LAogICAgJ2Fwby1sb2FkaW5nLW92ZXJsYXknOiBMb2FkaW5nT3ZlcmxheSwKICB9LAoKICBtaXhpbnM6IFsKICAgIHRoZW1lU2V0dGluZ3MoJ2Rvd25sb2FkcycpLAogIF0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0F1dGhvcml6ZWQ6IGZhbHNlLAogICAgICBwYXNzd29yZDogJyFkaGpmZDY0NSE0MzRkZicsCiAgICAgIHVzZXJQYXNzd29yZDogJycsCiAgICAgIHNob3dEaXNjbGFpbWVyOiAhZG9jdW1lbnQuY29va2llLnNwbGl0KCc7JykuZmlsdGVyKGl0ZW0gPT4gaXRlbS5pbmNsdWRlcygnYXBvLWRpc2NsYWltZXI9YWNjZXB0ZWQnKSkubGVuZ3RoLAogICAgICBzaG93Q2F0ZWdvcnk6IG51bGwsCiAgICAgIGlzT3ZlcnZpZXc6IHRydWUsCiAgICAgIHNob3dEdXR5VGV4dDogZmFsc2UsCiAgICAgIHNob3dGaWx0ZXI6IGZhbHNlLAogICAgICBmaWx0ZXJBcnJheTogW10sCiAgICAgIGRvd25sb2FkQXJyYXk6IFtdLAogICAgICBwYWdlTGlzdDogW10sCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBudW1iZXJQZXJQYWdlOiA2LAogICAgICBudW1iZXJPZlBhZ2VzOiAxLAogICAgICBzZWFyY2hWYWx1ZTogJycsCiAgICAgIGVycm9yTWVzc2FnZTogJycsCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsnaXNBdXRoZW50aWNhdGVkJywgJ2xhbmd1YWdlJywgJ2Rvd25sb2FkcycsICdkb3dubG9hZENhdGVnb3JpZXMnLCAnZG93bmxvYWRQcm9kdWN0cycsICdkb3dubG9hZE1lZGlhdHlwZXMnXSksCgogICAgZG93bmxvYWRQcm9kdWN0KCkgewogICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkICYmIHRoaXMuZG93bmxvYWRQcm9kdWN0cy5sZW5ndGgpIHsKICAgICAgICByZXR1cm4gdGhpcy5kb3dubG9hZFByb2R1Y3RzCiAgICAgICAgICAuZmluZChkb3dubG9hZFByb2R1Y3QgPT4gTnVtYmVyKGRvd25sb2FkUHJvZHVjdC5pZCkgPT09IE51bWJlcih0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpKTsKICAgICAgfQogICAgICByZXR1cm4gbnVsbDsKICAgIH0sCgogICAgcHJvZHVjdERvd25sb2FkcygpIHsKICAgICAgcmV0dXJuIHRoaXMuZG93bmxvYWRzCiAgICAgICAgLmZpbHRlcihkb3dubG9hZCA9PiBkb3dubG9hZC5wcm9kdWN0WzBdID09PSBOdW1iZXIodGhpcy4kcm91dGUucGFyYW1zLmlkKSk7CiAgICB9LAoKICAgIGF2YWlsYWJsZUZpbHRlcnMoKSB7CiAgICAgIHJldHVybiB0aGlzLmRvd25sb2FkTWVkaWF0eXBlcwogICAgICAgIC5maWx0ZXIobWVkaWF0eXBlID0+IHRoaXMucHJvZHVjdERvd25sb2FkcwogICAgICAgICAgLmZsYXRNYXAoZG93bmxvYWQgPT4gZG93bmxvYWQubWVkaWF0eXBlWzBdKS5pbmRleE9mKG1lZGlhdHlwZS5pZCkgPj0gMCk7CiAgICB9LAoKICAgIGZpbHRlcmVkRG93bmxvYWRzKCkgewogICAgICByZXR1cm4gdGhpcy5wcm9kdWN0RG93bmxvYWRzCiAgICAgICAgLmZpbHRlcihkb3dubG9hZCA9PiAoZG93bmxvYWQudGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0aGlzLnNlYXJjaFZhbHVlLnRvTG93ZXJDYXNlKCkpICYmIGRvd25sb2FkLm1lZGlhdHlwZS5zb21lKGVsZW1lbnQgPT4gdGhpcy5maWx0ZXJBcnJheS5pbmRleE9mKGVsZW1lbnQpID49IDApKSk7CiAgICB9LAoKICAgIHBhZ2luYXRlZEZpbHRlckRvd25sb2FkcygpIHsKICAgICAgcmV0dXJuIHRoaXMucGFnZUxpc3Q7CiAgICB9LAogICAgaXNBbGxDYXRlZ29yaWVzRW1wdHkoKSB7CiAgICAgIHJldHVybiB0aGlzLmRvd25sb2FkQ2F0ZWdvcmllcy5ldmVyeShjYXRlZ29yeSA9PiB0aGlzLmRvd25sb2FkUHJvZHVjdHMuZmlsdGVyKHByb2R1Y3QgPT4gcHJvZHVjdC5jYXRlZ29yeSAmJiBwcm9kdWN0LmNhdGVnb3J5LmluY2x1ZGVzKGNhdGVnb3J5LmlkKSkubGVuZ3RoID09PSAwKTsKICAgIH0sCiAgICBsaXN0ZW5lcnMoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgLi4udGhpcy4kbGlzdGVuZXJzLAogICAgICAgIGlucHV0OiBldmVudCA9PiB7CiAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlSW50KGV2ZW50LnRhcmdldC52YWx1ZSwgMTApOwogICAgICAgICAgdGhpcy5oYW5kbGVGaWx0ZXIoZXZlbnQudGFyZ2V0LmNoZWNrZWQsIHZhbHVlKTsKICAgICAgICB9LAogICAgICB9OwogICAgfSwKICB9LAoKICB3YXRjaDogewogICAgJHJvdXRlOiB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgaGFuZGxlcihyb3V0ZSkgewogICAgICAgIGlmIChyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICAgIHRoaXMuY2hlY2tBbGxGaWx0ZXJzKCk7CiAgICAgICAgICB0aGlzLmxvYWRQYWdpbmF0ZWRMaXN0KCk7CiAgICAgICAgICB0aGlzLmlzT3ZlcnZpZXcgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5pc092ZXJ2aWV3ID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0sCiAgICB9LAogIH0sCgogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoWwogICAgICBET1dOTE9BRFNfRkVUQ0hfQUxMLAogICAgICBUQVhPTk9NSUVTX0ZFVENIX0RPV05MT0FEX0NBVEVHT1JJRVMsCiAgICAgIFRBWE9OT01JRVNfRkVUQ0hfRE9XTkxPQURfUFJPRFVDVFMsCiAgICAgIFRBWE9OT01JRVNfRkVUQ0hfRE9XTkxPQURfTUVESUFUWVBFUywKICAgIF0pLAoKICAgIHByb2R1Y3REZXRhaWxzKGlkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ2Rvd25sb2FkcycsIHBhcmFtczogeyBpZCB9IH0pOwogICAgfSwKCiAgICBnZXRNZWRpYXR5cGUoaWQpIHsKICAgICAgcmV0dXJuIHRoaXMuZG93bmxvYWRNZWRpYXR5cGVzLmZpbHRlcihtZWRpYXR5cGUgPT4gbWVkaWF0eXBlLmlkID09PSBpZClbMF07CiAgICB9LAoKICAgIGdldEZvcm1hdEZpbGVTaXplKGJ5dGVzKSB7CiAgICAgIGlmIChieXRlcyA9PT0gMCkgcmV0dXJuICcwIEJ5dGVzJzsKCiAgICAgIGNvbnN0IGsgPSAxMDI0OwogICAgICBjb25zdCBkbSA9IDA7CiAgICAgIGNvbnN0IHNpemVzID0gWydCeXRlcycsICdLQicsICdNQicsICdHQicsICdUQicsICdQQicsICdFQicsICdaQicsICdZQiddOwoKICAgICAgY29uc3QgaSA9IE1hdGguZmxvb3IoTWF0aC5sb2coYnl0ZXMpIC8gTWF0aC5sb2coaykpOwoKICAgICAgcmV0dXJuIGAke3BhcnNlRmxvYXQoKGJ5dGVzIC8gKGsgKiogaSkpLnRvRml4ZWQoZG0pKX0gJHtzaXplc1tpXX1gOwogICAgfSwKCiAgICBnZXRGb3JtYXREYXRlKGRhdGUpIHsKICAgICAgbW9tZW50LmxvY2FsZSh0aGlzLmxhbmd1YWdlKTsKICAgICAgcmV0dXJuIG1vbWVudChkYXRlKS5mb3JtYXQoJ0RELiBNTU1NIFlZWVknKTsKICAgIH0sCgogICAgaGFuZGxlRmlsdGVyKGNoZWNrZWQsIHZhbHVlKSB7CiAgICAgIGlmIChjaGVja2VkKSB7CiAgICAgICAgdGhpcy5maWx0ZXJBcnJheS5wdXNoKHZhbHVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZpbHRlckFycmF5ID0gdGhpcy5maWx0ZXJBcnJheS5maWx0ZXIoZWxlbWVudCA9PiBlbGVtZW50ICE9PSB2YWx1ZSk7CiAgICAgIH0KCiAgICAgIHRoaXMubG9hZFBhZ2luYXRlZExpc3QoKTsKICAgIH0sCgogICAgc2VhcmNoRG93bmxvYWRzKHZhbHVlKSB7CiAgICAgIHRoaXMuc2VhcmNoVmFsdWUgPSB2YWx1ZTsKICAgICAgdGhpcy5sb2FkUGFnaW5hdGVkTGlzdCgpOwogICAgfSwKCiAgICBjaGVja0FsbEZpbHRlcnMoZSA9IG51bGwpIHsKICAgICAgaWYgKGUpIHsKICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCkgewogICAgICAgICAgdGhpcy5hdmFpbGFibGVGaWx0ZXJzLmZvckVhY2goZWxlbWVudCA9PiB0aGlzLmhhbmRsZUZpbHRlcih0cnVlLCBlbGVtZW50LmlkKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuZmlsdGVyQXJyYXkgPSBbXTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hdmFpbGFibGVGaWx0ZXJzLmZvckVhY2goZWxlbWVudCA9PiB0aGlzLmhhbmRsZUZpbHRlcih0cnVlLCBlbGVtZW50LmlkKSk7CiAgICAgIH0KICAgICAgdGhpcy5sb2FkUGFnaW5hdGVkTGlzdCgpOwogICAgfSwKCiAgICBpc0NoZWNrZWQoaWQpIHsKICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyQXJyYXkuaW5jbHVkZXMoaWQpOwogICAgfSwKCiAgICBjaGVja0Rvd25sb2FkU2VsZWN0aW9uKGUpIHsKICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQpIHsKICAgICAgICBpZiAoIXRoaXMuZG93bmxvYWRBcnJheS5pbmNsdWRlcyhlLnRhcmdldC52YWx1ZSkpIHsKICAgICAgICAgIHRoaXMuZG93bmxvYWRBcnJheS5wdXNoKGUudGFyZ2V0LnZhbHVlKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kb3dubG9hZEFycmF5ID0gdGhpcy5kb3dubG9hZEFycmF5LmZpbHRlcihpdGVtID0+IGl0ZW0gIT09IGUudGFyZ2V0LnZhbHVlKTsKICAgICAgfQogICAgfSwKCiAgICBjaGVja0FsbERvd25sb2FkU2VsZWN0aW9uKGUpIHsKICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQpIHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZG93bmxvYWRTZWxlY3Rpb24nKS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgaWYgKCF0aGlzLmRvd25sb2FkQXJyYXkuaW5jbHVkZXMoaXRlbS52YWx1ZSkpIHsKICAgICAgICAgICAgdGhpcy5kb3dubG9hZEFycmF5LnB1c2goaXRlbS52YWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kb3dubG9hZEFycmF5ID0gW107CiAgICAgIH0KICAgIH0sCgogICAgbG9hZFBhZ2luYXRlZExpc3QoKSB7CiAgICAgIGlmICh0aGlzLmZpbHRlckFycmF5Lmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMubnVtYmVyT2ZQYWdlcyA9IE1hdGguY2VpbCh0aGlzLnByb2R1Y3REb3dubG9hZHMubGVuZ3RoIC8gdGhpcy5udW1iZXJQZXJQYWdlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm51bWJlck9mUGFnZXMgPSBNYXRoLmNlaWwodGhpcy5maWx0ZXJlZERvd25sb2Fkcy5sZW5ndGggLyB0aGlzLm51bWJlclBlclBhZ2UpOwogICAgICB9CiAgICAgIGNvbnN0IGJlZ2luID0gKCh0aGlzLmN1cnJlbnRQYWdlIC0gMSkgKiB0aGlzLm51bWJlclBlclBhZ2UpOwogICAgICBjb25zdCBlbmQgPSBiZWdpbiArIHRoaXMubnVtYmVyUGVyUGFnZTsKICAgICAgdGhpcy5wYWdlTGlzdCA9IHRoaXMuZmlsdGVyZWREb3dubG9hZHMuc2xpY2UoYmVnaW4sIGVuZCk7CiAgICAgIGlmICh0aGlzLm51bWJlck9mUGFnZXMgPT09IDEpIHsKICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTsKICAgICAgfQogICAgfSwKCiAgICBuYXZpZ2F0ZVRyb3VnaExpc3QoZGlyZWN0aW9uKSB7CiAgICAgIHN3aXRjaCAoZGlyZWN0aW9uKSB7CiAgICAgICAgY2FzZSAnbmV4dCc6CiAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlICs9IDE7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdwcmV2aW91cyc6CiAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlIC09IDE7CiAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IGRpcmVjdGlvbjsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIHRoaXMubG9hZFBhZ2luYXRlZExpc3QoKTsKICAgIH0sCgogICAgZG93bmxvYWRCdW5kbGUoKSB7CiAgICAgIGNvbnN0IHZhbHVlcyA9IGJ0b2EodGhpcy5kb3dubG9hZEFycmF5LmpvaW4oJywnKSk7CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGAvd3AtanNvbi9hcG92b2ljZS92MS9kb3dubG9hZEJ1bmRsZT92YWx1ZXM9JHt2YWx1ZXN9YCk7CiAgICB9LAoKICAgIGRvd25sb2FkRmlsZShkb3dubG9hZCkgewogICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICBsaW5rLmRvd25sb2FkID0gZG93bmxvYWQuZmlsZW5hbWU7CiAgICAgIGxpbmsudGFyZ2V0ID0gJ19ibGFuayc7CiAgICAgIGxpbmsuaHJlZiA9IGRvd25sb2FkLnVybDsKICAgICAgbGluay5jbGljaygpOwogICAgICB3aW5kb3cuYXhpb3MuZ2V0KGAvd3AtanNvbi9hcG92b2ljZS92MS9yZWdpc3RlckRvd25sb2FkLyR7ZG93bmxvYWQucG9zdF9pZH1gKQogICAgICAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmxvZyhlcnJvcikpOwogICAgfSwKCiAgICBoYW5kbGVEaXNjbGFpbWVyKGlzQWNjZXB0ZWQpIHsKICAgICAgaWYgKGlzQWNjZXB0ZWQpIHsKICAgICAgICBkb2N1bWVudC5jb29raWUgPSAnYXBvLWRpc2NsYWltZXI9YWNjZXB0ZWQnOwogICAgICAgIHRoaXMuc2hvd0Rpc2NsYWltZXIgPSBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkb2N1bWVudC5jb29raWUgPSAnYXBvLWRpc2NsYWltZXI9ZGVjbGluZWQnOwogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJyk7CiAgICAgIH0KICAgIH0sCgogICAgY2hlY2tQYXNzd29yZCgpIHsKICAgICAgdGhpcy5pc0F1dGhvcml6ZWQgPSB0aGlzLnVzZXJQYXNzd29yZCA9PT0gdGhpcy5wYXNzd29yZDsKCiAgICAgIGlmICghdGhpcy5pc0F1dGhvcml6ZWQpIHsKICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9IHRoaXMuJHQoJ2Rvd25sb2Fkcy53cm9uZ3Bhc3N3b3JkJyk7CiAgICAgIH0KICAgIH0sCgogICAgZG93bmxvYWRDb250YWluZXJIZWlnaHQoKSB7CiAgICAgIGNvbnN0IGRvd25sb2FkQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRvd25sb2Fkcy1jb250YWluZXInKTsKICAgICAgY29uc3QgZG93bmxvYWRDb250YWluZXJQYXJlbnQgPSBkb3dubG9hZENvbnRhaW5lci5wYXJlbnRFbGVtZW50OwogICAgICBjb25zdCBjb250YWluZXJFbGVtZW50ID0gZG93bmxvYWRDb250YWluZXJQYXJlbnQucGFyZW50RWxlbWVudDsKCiAgICAgIGRvd25sb2FkQ29udGFpbmVyUGFyZW50LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTogZmxleDsgZmxleDogMTsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsnKTsKICAgICAgY29udGFpbmVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6IGZsZXg7IGZsZXg6IDE7Jyk7CiAgICB9LAogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmlzQXV0aG9yaXplZCA9IHRoaXMuaXNBdXRoZW50aWNhdGVkOwogICAgaWYgKCF0aGlzLmlzQXV0aG9yaXplZCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnd2FpdC9zdGFydCcsICdkb3dubG9hZHNBdXRob3JpemF0aW9uJywgeyByb290OiB0cnVlIH0pOwogICAgICBQYWdlU2VydmljZS5nZXRQYWdlQnlTbHVnKCdkb3dubG9hZHMnKQogICAgICAgIC50aGVuKGRhdGEgPT4gewogICAgICAgICAgdGhpcy5wYXNzd29yZCA9IGdldChkYXRhLCAnYWNmLnBhc3N3b3JkLnBhc3N3b3JkJywgJyFkaGpmZDY0NSE0MzRkZicpOwogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3dhaXQvZW5kJywgJ2Rvd25sb2Fkc0F1dGhvcml6YXRpb24nLCB7IHJvb3Q6IHRydWUgfSk7CiAgICAgICAgfSk7CiAgICB9CiAgICB0aGlzW1RBWE9OT01JRVNfRkVUQ0hfRE9XTkxPQURfQ0FURUdPUklFU10oKQogICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciByZXRyaWV2aW5nIHRoZSBjYXRlZ29yaWVzJywgZXJyb3IpOwogICAgICB9KTsKICAgIHRoaXNbVEFYT05PTUlFU19GRVRDSF9ET1dOTE9BRF9QUk9EVUNUU10oKQogICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciByZXRyaWV2aW5nIHRoZSBwcm9kdWN0cycsIGVycm9yKTsKICAgICAgfSk7CiAgICB0aGlzW1RBWE9OT01JRVNfRkVUQ0hfRE9XTkxPQURfTUVESUFUWVBFU10oKQogICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciByZXRyaWV2aW5nIHRoZSBtZWRpYXR5cGVzJywgZXJyb3IpOwogICAgICB9KTsKICAgIHRoaXNbRE9XTkxPQURTX0ZFVENIX0FMTF0oKQogICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy5jaGVja0FsbEZpbHRlcnMoKTsKICAgICAgfSkKICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmxvZygnZXJyb3IgcmV0cmlldmluZyB0aGUgZG93bmxvYWRzJywgZXJyb3IpOwogICAgICB9KTsKICB9LAoKICBtb3VudGVkKCkgewogICAgY29uc3Qgb25SZXNpemVMaXN0ZW5lciA9ICgpID0+IHsKICAgICAgdGhpcy5zaG93RmlsdGVyID0gZmFsc2U7CiAgICB9OwoKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvblJlc2l6ZUxpc3RlbmVyKTsKCiAgICB0aGlzLiRvbmNlKCdob29rOmRlc3Ryb3llZCcsICgpID0+IHsKICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIG9uUmVzaXplTGlzdGVuZXIpOwogICAgfSk7CiAgICB0aGlzLmRvd25sb2FkQ29udGFpbmVySGVpZ2h0KCk7CiAgfSwKfTsKCg=="},{"version":3,"sources":["Downloads.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Downloads.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"downloads-container\">\n    <apo-wait\n      v-if=\"!isAuthorized\"\n      for=\"downloadsAuthorization\"\n    >\n      <template #waiting>\n        <apo-loading-overlay\n          class=\"my-15\"\n          :message=\"$t('loaders.downloads')\"\n        />\n      </template>\n      <div\n        class=\"downloads-intro\"\n      >\n        <apo-icon\n          class=\"w-16 h-16 mb-8\"\n          src=\"download\"\n        />\n        <h1\n          class=\"headline-2\"\n          v-text=\"$t('downloads.title')\"\n        />\n        <div class=\"mt-8 text-center\">\n          <apo-text-input\n            v-model=\"userPassword\"\n            input-class=\"password-text-input\"\n            :placeholder=\"$t('pages.login.form.password.placeholder')\"\n            :title=\"$t('pages.login.form.password.title')\"\n            type=\"password\"\n            @keyup.enter=\"checkPassword()\"\n          >\n            <template #before>\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                viewBox=\"0 0 26 32\"\n                fill=\"hsla(0, 0%, 100%, 0.75)\"\n                class=\"absolute w-4 h-4 ml-8\"\n              >\n                <!-- eslint-disable-next-line max-len -->\n                <path d=\"M25 13h-2v-3c0-5.51-4.49-10-10-10S3 4.49 3 10v3H1c-.55 0-1 .45-1 1v17c0 .55.45 1 1 1h24c.55 0 1-.45 1-1V14c0-.55-.45-1-1-1zM5 10c0-4.41 3.59-8 8-8s8 3.59 8 8v3H5v-3zm9 13.72V25c0 .55-.45 1-1 1s-1-.45-1-1v-1.28c-.6-.35-1-.98-1-1.72 0-1.1.9-2 2-2s2 .9 2 2c0 .74-.4 1.38-1 1.72z\" />\n              </svg>\n            </template>\n          </apo-text-input>\n          <div\n            class=\"w-full mt-2 text-sm text-center text-white\"\n          >\n            {{ errorMessage }}\n          </div>\n          <apo-button\n            class=\"mt-4 button--secondary shadow-hard-dark\"\n            @click=\"checkPassword()\"\n            v-text=\"'Einloggen'\"\n          />\n        </div>\n      </div>\n    </apo-wait>\n    <apo-wait\n      v-if=\"!showDisclaimer && isAuthorized\"\n      for=\"downloads\"\n    >\n      <template #waiting>\n        <apo-loading-overlay\n          class=\"my-15\"\n          :message=\"$t('loaders.downloads')\"\n        />\n      </template>\n      <!-- Start OVERVIEW -->\n      <div v-if=\"isOverview && downloadCategories && downloadProducts && downloadCategories.some(cat => downloadProducts.some(prod => prod.category && prod.category.includes(cat.id)))\">\n        <div\n          v-if=\"isOverview\"\n          class=\"downloads-intro\"\n        >\n          <apo-icon\n            class=\"w-16 h-16 mb-8\"\n            src=\"download\"\n          />\n          <h1\n            class=\"headline-2\"\n            v-text=\"$t('downloads.title')\"\n          />\n        </div>\n        <div\n          v-if=\"!showDisclaimer\"\n          class=\"py-12\"\n        >\n          <h2\n            class=\"mb-8 text-center headline-3\"\n            v-html=\"$t('downloads.welcome')\"\n          />\n          <div\n            v-for=\"(category, index) in downloadCategories\"\n            :key=\"category.id\"\n          >\n            <div\n              v-if=\"downloadProducts.filter(prod => prod.category && prod.category.includes(category.id)).length > 0\"\n              class=\"p-3 my-3 text-xl text-center bg-gray-300 cursor-pointer\"\n              @click=\"showCategory = showCategory === index ? null : index\n              \"\n            >\n              <div class=\"container relative\">\n                <div>{{ category.name }}</div>\n                <apo-icon\n                  class=\"w-8 h-8 dropdown-icon\"\n                  :class=\"{ 'open': index === showCategory}\"\n                  src=\"chevron\"\n                />\n              </div>\n            </div>\n            <apo-expand-collapse-transition>\n              <div\n                v-if=\"index === showCategory\"\n                class=\"container flex flex-wrap items-center justify-center\"\n              >\n                <div\n                  v-for=\"product in downloadProducts\"\n                  :key=\"product.id\"\n                >\n                  <div\n                    v-if=\"product.category && product.category.indexOf(category.id) !== -1\"\n                    class=\"m-3 cursor-pointer\"\n                    @click=\"productDetails(product.id)\"\n                  >\n                    <div\n                      class=\"mb-2 text-sm text-center\"\n                      v-html=\"product.name\"\n                    />\n                    <div class=\"product-thumbnail-container\">\n                      <img\n                        v-if=\"product.image\"\n                        class=\"product-thumbnail\"\n                        :src=\"product.image.url\"\n                        alt=\"logo\"\n                      >\n                      <div\n                        v-else\n                        class=\"no-image\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </apo-expand-collapse-transition>\n          </div>\n        </div>\n      </div>\n      <!-- End OVERVIEW -->\n      <!-- Start DETAILVIEW -->\n      <div v-if=\"!isOverview && downloadProduct && availableFilters && paginatedFilterDownloads\">\n        <div class=\"container\">\n          <router-link\n            class=\"flex items-center my-4 text-sm\"\n            :to=\"{ name: 'downloads' }\"\n          >\n            <apo-icon\n              class=\"w-2 h-2 mr-1 origin-center rotate-90\"\n              src=\"chevron\"\n            /> <span v-text=\"$t('downloads.backToOverview')\" />\n          </router-link>\n        </div>\n        <div class=\"w-screen py-12\">\n          <h1\n            class=\"mb-8 text-4xl font-bold text-center headline-4\"\n            v-html=\"downloadProduct.name\"\n          />\n          <div class=\"container\">\n            <img\n              v-if=\"downloadProduct.image\"\n              class=\"mx-auto mt-0 mb-20 product-image\"\n              :src=\"downloadProduct.image.url\"\n              alt=\"logo\"\n            >\n            <div class=\"flex flex-wrap justify-between filterWrapper desktop:flex-nowrap\">\n              <div\n                class=\"flex flex-wrap items-start justify-start mb-6 -ml-2 desktop:-ml-4\"\n              >\n                <div\n                  v-if=\"availableFilters.length > 0\"\n                  class=\"mb-2 ml-2 desktop:ml-4\"\n                >\n                  <input\n                    id=\"checkAll\"\n                    type=\"checkbox\"\n                    v-bind=\"$attrs\"\n                    :checked=\"filteredDownloads.length == productDownloads.length\"\n                    class=\"hidden\"\n                    @input=\"checkAllFilters\"\n                  >\n                  <label\n                    for=\"checkAll\"\n                    class=\"block p-3 border border-gray-700 rounded opacity-50 cursor-pointer\"\n                    v-html=\"$t('downloads.checkAll')\"\n                  />\n                </div>\n                <div\n                  v-for=\"mediatype in availableFilters\"\n                  :key=\"mediatype.id\"\n                  class=\"mb-2 ml-2 desktop:ml-4\"\n                >\n                  <input\n                    :id=\"mediatype.id\"\n                    type=\"checkbox\"\n                    :value=\"mediatype.id\"\n                    v-bind=\"$attrs\"\n                    :checked=\"isChecked(mediatype.id)\"\n                    class=\"hidden\"\n                    v-on=\"listeners\"\n                  >\n                  <label\n                    :for=\"mediatype.id\"\n                    class=\"block p-3 border border-gray-700 rounded opacity-50 cursor-pointer\"\n                    v-html=\"mediatype.name\"\n                  />\n                </div>\n              </div>\n              <div class=\"mb-6\">\n                <apo-text-input\n                  id=\"downloadSearch\"\n                  :ref=\"searchValue\"\n                  :value=\"searchValue\"\n                  class=\"w-full\"\n                  :placeholder=\"$t('downloads.search')\"\n                  @input=\"searchDownloads\"\n                >\n                  <span\n                    slot=\"after\"\n                    class=\"px-3\"\n                  >\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      height=\"24px\"\n                      viewBox=\"0 0 24 24\"\n                      width=\"24px\"\n                      fill=\"#000000\"\n                    ><path\n                      d=\"M0 0h24v24H0z\"\n                      fill=\"none\"\n                    /><path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\" /></svg>\n                  </span>\n                </apo-text-input>\n              </div>\n            </div>\n            <div class=\"flex items-center justify-between\">\n              <div>\n                <div\n                  class=\"inline-flex flex-col items-center hidden p-2 bg-gray-100 cursor-pointer\"\n                  @click=\"() => {\n                    showFilter = !showFilter;\n                    showDutyText = false;\n                  }\"\n                >\n                  <apo-icon\n                    class=\"w-4 h-4\"\n                    src=\"filter\"\n                  />\n                  <div class=\"mt-1 text-xs\">\n                    Filter\n                  </div>\n                </div>\n              </div>\n              <span\n                v-if=\"downloadProduct.dutyText\"\n                class=\"cursor-pointer duty-text\"\n                @click=\"() => {\n                  showDutyText = !showDutyText;\n                  showFilter = false;\n                }\"\n                v-html=\"$t('downloads.dutyText')\"\n              />\n            </div>\n            <div class=\"desktop:hidden\">\n              <apo-expand-collapse-transition>\n                <div\n                  v-if=\"showFilter\"\n                  class=\"flex flex-wrap items-start justify-start p-2 bg-gray-100\"\n                >\n                  <div\n                    v-for=\"mediatype in availableFilters\"\n                    :key=\"mediatype.id\"\n                    class=\"w-1/2 p-1 break-all tablet:w-1/3\"\n                  >\n                    <input\n                      :id=\"mediatype.id\"\n                      type=\"checkbox\"\n                      :value=\"mediatype.id\"\n                      v-bind=\"$attrs\"\n                      checked=\"true\"\n                      v-on=\"checkAll\"\n                    >\n                    <label\n                      :for=\"mediatype.id\"\n                      class=\"cursor-pointer\"\n                      v-html=\"mediatype.name\"\n                    />\n                  </div>\n                </div>\n              </apo-expand-collapse-transition>\n            </div>\n            <apo-collapsible-content\n              class=\"my-8 text-left\"\n              :show=\"showDutyText\"\n            >\n              <div\n                class=\"container p-6 mx-auto break-all\"\n                v-html=\"downloadProduct.dutyText\"\n              />\n            </apo-collapsible-content>\n          </div>\n          <div class=\"mt-12\">\n            <div\n              v-if=\"productDownloads.length > 0\"\n              class=\"container flex\"\n            >\n              <div class=\"ml-2\">\n                <input\n                  class=\"w-5 h-5\"\n                  type=\"checkbox\"\n                  @input=\"checkAllDownloadSelection\"\n                >\n              </div>\n              <a\n                href=\"#\"\n                class=\"ml-8 underline\"\n                @click=\"downloadBundle\"\n                v-html=\"$t('downloads.bundleDownload')\"\n              />\n            </div>\n            <div v-if=\"productDownloads.length > 0\">\n              <div\n                v-for=\"download in paginatedFilterDownloads\"\n                :key=\"download.id\"\n              >\n                <div\n                  v-if=\"download.file.url !== ''\"\n                  v-wow.fadeInUp\n                  class=\"py-6 my-4 bg-gray-100\"\n                >\n                  <div class=\"container flex flex-wrap items-center justify-between\">\n                    <div class=\"download-inner-container\">\n                      <div class=\"ml-2\">\n                        <input\n                          class=\"w-5 h-5 downloadSelection\"\n                          type=\"checkbox\"\n                          :value=\"download.id\"\n                          :checked=\"downloadArray.includes(download.id)\"\n                          @input=\"checkDownloadSelection\"\n                        >\n                      </div>\n                      <div class=\"mediatype-icon-container\">\n                        <img\n                          v-if=\"getMediatype(download.mediatype[0]).icon.url\"\n                          :src=\"getMediatype(download.mediatype[0]).icon.url\"\n                          alt=\"mediatype\"\n                          class=\"w-auto h-full max-w-full max-h-full\"\n                        >\n                        <div\n                          v-else\n                          class=\"h-full\"\n                        >\n                          <div\n                            v-if=\"download.file.url\"\n                            class=\"h-full\"\n                          >\n                            <div\n                              v-if=\"download.file.url.split('.').pop() === 'jpg' || download.file.url.split('.').pop() === 'png' || download.file.url.split('.').pop() === 'svg'\"\n                              class=\"flex items-center justify-center w-full h-full border border-gray-700 border-solid\"\n                            >\n                              <img\n                                :src=\"download.file.url\"\n                                alt=\"mediatype\"\n                                class=\"mediatype-image\"\n                              >\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"text-lg\">\n                        <h2\n                          class=\"font-bold headline-5\"\n                          v-html=\"download.title\"\n                        />\n                        <div>{{ getMediatype(download.mediatype[0]).name }}</div>\n                      </div>\n                    </div>\n                    <div class=\"download-inner-container\">\n                      <div class=\"text-sm text-right\">\n                        <div>\n                          {{ download.fileInfo ? download.fileInfo : download.file.subtype.toUpperCase() }},\n                          {{ getFormatFileSize(download.file.filesize) }}\n                        </div>\n                        <div>{{ getFormatDate(download.file.date) }}</div>\n                      </div>\n                      <apo-button\n                        class=\"button--primary file-button shadow-hard-dark download-button\"\n                        @click=\"downloadFile(download.file)\"\n                        v-text=\"'Download'\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div\n              v-else\n              class=\"container max-w-4xl mx-auto text-6xl leading-none tracking-wide text-center text-gray-800 font-display\"\n              v-text=\"$t('downloads.messages.noDownloadsAvailable')\"\n            />\n          </div>\n        </div>\n        <div class=\"container\">\n          <div\n            v-if=\"numberOfPages > 0\"\n            class=\"pagination\"\n          >\n            <apo-button\n              type=\"button\"\n              :disabled=\"currentPage === 1\"\n              @click=\"navigateTroughList('previous')\"\n              v-text=\"'<'\"\n            />\n            <apo-button\n              v-for=\"(button, index) in numberOfPages\"\n              :key=\"'page-' + (index + 1)\"\n              :class=\"{'active': currentPage === index + 1}\"\n              type=\"button\"\n              :disabled=\"currentPage === index + 1\"\n              @click=\"navigateTroughList(index + 1)\"\n              v-text=\"index + 1\"\n            />\n            <apo-button\n              type=\"button\"\n              :disabled=\"currentPage === numberOfPages\"\n              @click=\"navigateTroughList('next')\"\n              v-text=\"'>'\"\n            />\n          </div>\n          <router-link\n            class=\"flex items-center my-4 text-sm\"\n            :to=\"{ name: 'downloads' }\"\n          >\n            <apo-icon\n              class=\"w-2 h-2 mr-1 origin-center rotate-90\"\n              src=\"chevron\"\n            /> <span v-text=\"$t('downloads.backToOverview')\" />\n          </router-link>\n        </div>\n      </div>\n      <!-- End DETAILVIEW -->\n      <apo-scroller />\n    </apo-wait>\n    <div\n      v-if=\"showDisclaimer && isAuthorized\"\n      class=\"overlay\"\n    >\n      <div class=\"disclaimer\">\n        <h2\n          class=\"mb-8 text-center\"\n          v-html=\"$t('downloads.disclaimer.headline')\"\n        />\n        <div\n          v-html=\"$t('downloads.disclaimer.text')\"\n        />\n        <div class=\"flex flex-col flex-wrap items-center justify-center mt-6 tablet:flex-row tablet:mt-12\">\n          <apo-button\n            type=\"button\"\n            class=\"order-2 px-8 py-3 m-2 button--secondary shadow-hard-dark tablet:order-1\"\n            @click=\"handleDisclaimer(false)\"\n            v-text=\"$t('downloads.decline')\"\n          />\n          <apo-button\n            type=\"button\"\n            class=\"order-1 px-8 py-3 m-2 button--primary shadow-hard-dark tablet:order-2\"\n            @click=\"handleDisclaimer(true)\"\n            v-text=\"$t('downloads.accept')\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport { mapGetters, mapActions } from 'vuex';\nimport * as moment from 'moment';\nimport get from 'lodash/get';\nimport {\n  DOWNLOADS_FETCH_ALL,\n  TAXONOMIES_FETCH_DOWNLOAD_CATEGORIES,\n  TAXONOMIES_FETCH_DOWNLOAD_PRODUCTS,\n  TAXONOMIES_FETCH_DOWNLOAD_MEDIATYPES,\n} from '@/store/types/action-types';\nimport themeSettings from '@/mixins/theme-settings';\nimport TextInput from '@/components/form-renderer/TextInput.vue';\nimport LoadingOverlay from '@/components/ui/LoadingOverlay.vue';\nimport PageService from '@/services/api/PageService';\n\nexport default {\n  components: {\n    'apo-text-input': TextInput,\n    'apo-loading-overlay': LoadingOverlay,\n  },\n\n  mixins: [\n    themeSettings('downloads'),\n  ],\n\n  data() {\n    return {\n      isAuthorized: false,\n      password: '!dhjfd645!434df',\n      userPassword: '',\n      showDisclaimer: !document.cookie.split(';').filter(item => item.includes('apo-disclaimer=accepted')).length,\n      showCategory: null,\n      isOverview: true,\n      showDutyText: false,\n      showFilter: false,\n      filterArray: [],\n      downloadArray: [],\n      pageList: [],\n      currentPage: 1,\n      numberPerPage: 6,\n      numberOfPages: 1,\n      searchValue: '',\n      errorMessage: '',\n    };\n  },\n\n  computed: {\n    ...mapGetters(['isAuthenticated', 'language', 'downloads', 'downloadCategories', 'downloadProducts', 'downloadMediatypes']),\n\n    downloadProduct() {\n      if (this.$route.params.id && this.downloadProducts.length) {\n        return this.downloadProducts\n          .find(downloadProduct => Number(downloadProduct.id) === Number(this.$route.params.id));\n      }\n      return null;\n    },\n\n    productDownloads() {\n      return this.downloads\n        .filter(download => download.product[0] === Number(this.$route.params.id));\n    },\n\n    availableFilters() {\n      return this.downloadMediatypes\n        .filter(mediatype => this.productDownloads\n          .flatMap(download => download.mediatype[0]).indexOf(mediatype.id) >= 0);\n    },\n\n    filteredDownloads() {\n      return this.productDownloads\n        .filter(download => (download.title.toLowerCase().includes(this.searchValue.toLowerCase()) && download.mediatype.some(element => this.filterArray.indexOf(element) >= 0)));\n    },\n\n    paginatedFilterDownloads() {\n      return this.pageList;\n    },\n    isAllCategoriesEmpty() {\n      return this.downloadCategories.every(category => this.downloadProducts.filter(product => product.category && product.category.includes(category.id)).length === 0);\n    },\n    listeners() {\n      return {\n        ...this.$listeners,\n        input: event => {\n          const value = parseInt(event.target.value, 10);\n          this.handleFilter(event.target.checked, value);\n        },\n      };\n    },\n  },\n\n  watch: {\n    $route: {\n      immediate: true,\n      handler(route) {\n        if (route.params.id) {\n          this.checkAllFilters();\n          this.loadPaginatedList();\n          this.isOverview = false;\n        } else {\n          this.isOverview = true;\n        }\n      },\n    },\n  },\n\n  methods: {\n    ...mapActions([\n      DOWNLOADS_FETCH_ALL,\n      TAXONOMIES_FETCH_DOWNLOAD_CATEGORIES,\n      TAXONOMIES_FETCH_DOWNLOAD_PRODUCTS,\n      TAXONOMIES_FETCH_DOWNLOAD_MEDIATYPES,\n    ]),\n\n    productDetails(id) {\n      this.$router.push({ name: 'downloads', params: { id } });\n    },\n\n    getMediatype(id) {\n      return this.downloadMediatypes.filter(mediatype => mediatype.id === id)[0];\n    },\n\n    getFormatFileSize(bytes) {\n      if (bytes === 0) return '0 Bytes';\n\n      const k = 1024;\n      const dm = 0;\n      const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n      const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n      return `${parseFloat((bytes / (k ** i)).toFixed(dm))} ${sizes[i]}`;\n    },\n\n    getFormatDate(date) {\n      moment.locale(this.language);\n      return moment(date).format('DD. MMMM YYYY');\n    },\n\n    handleFilter(checked, value) {\n      if (checked) {\n        this.filterArray.push(value);\n      } else {\n        this.filterArray = this.filterArray.filter(element => element !== value);\n      }\n\n      this.loadPaginatedList();\n    },\n\n    searchDownloads(value) {\n      this.searchValue = value;\n      this.loadPaginatedList();\n    },\n\n    checkAllFilters(e = null) {\n      if (e) {\n        if (e.target.checked) {\n          this.availableFilters.forEach(element => this.handleFilter(true, element.id));\n        } else {\n          this.filterArray = [];\n        }\n      } else {\n        this.availableFilters.forEach(element => this.handleFilter(true, element.id));\n      }\n      this.loadPaginatedList();\n    },\n\n    isChecked(id) {\n      return this.filterArray.includes(id);\n    },\n\n    checkDownloadSelection(e) {\n      if (e.target.checked) {\n        if (!this.downloadArray.includes(e.target.value)) {\n          this.downloadArray.push(e.target.value);\n        }\n      } else {\n        this.downloadArray = this.downloadArray.filter(item => item !== e.target.value);\n      }\n    },\n\n    checkAllDownloadSelection(e) {\n      if (e.target.checked) {\n        document.querySelectorAll('.downloadSelection').forEach(item => {\n          if (!this.downloadArray.includes(item.value)) {\n            this.downloadArray.push(item.value);\n          }\n        });\n      } else {\n        this.downloadArray = [];\n      }\n    },\n\n    loadPaginatedList() {\n      if (this.filterArray.length === 0) {\n        this.numberOfPages = Math.ceil(this.productDownloads.length / this.numberPerPage);\n      } else {\n        this.numberOfPages = Math.ceil(this.filteredDownloads.length / this.numberPerPage);\n      }\n      const begin = ((this.currentPage - 1) * this.numberPerPage);\n      const end = begin + this.numberPerPage;\n      this.pageList = this.filteredDownloads.slice(begin, end);\n      if (this.numberOfPages === 1) {\n        this.currentPage = 1;\n      }\n    },\n\n    navigateTroughList(direction) {\n      switch (direction) {\n        case 'next':\n          this.currentPage += 1;\n          break;\n        case 'previous':\n          this.currentPage -= 1;\n          break;\n        default:\n          this.currentPage = direction;\n          break;\n      }\n      this.loadPaginatedList();\n    },\n\n    downloadBundle() {\n      const values = btoa(this.downloadArray.join(','));\n      window.location.replace(`/wp-json/apovoice/v1/downloadBundle?values=${values}`);\n    },\n\n    downloadFile(download) {\n      const link = document.createElement('a');\n      link.download = download.filename;\n      link.target = '_blank';\n      link.href = download.url;\n      link.click();\n      window.axios.get(`/wp-json/apovoice/v1/registerDownload/${download.post_id}`)\n        .catch(error => console.log(error));\n    },\n\n    handleDisclaimer(isAccepted) {\n      if (isAccepted) {\n        document.cookie = 'apo-disclaimer=accepted';\n        this.showDisclaimer = false;\n      } else {\n        document.cookie = 'apo-disclaimer=declined';\n        this.$router.push('/');\n      }\n    },\n\n    checkPassword() {\n      this.isAuthorized = this.userPassword === this.password;\n\n      if (!this.isAuthorized) {\n        this.errorMessage = this.$t('downloads.wrongpassword');\n      }\n    },\n\n    downloadContainerHeight() {\n      const downloadContainer = document.querySelector('.downloads-container');\n      const downloadContainerParent = downloadContainer.parentElement;\n      const containerElement = downloadContainerParent.parentElement;\n\n      downloadContainerParent.setAttribute('style', 'display: flex; flex: 1; flex-direction: column;');\n      containerElement.setAttribute('style', 'display: flex; flex: 1;');\n    },\n  },\n\n  created() {\n    this.isAuthorized = this.isAuthenticated;\n    if (!this.isAuthorized) {\n      this.$store.dispatch('wait/start', 'downloadsAuthorization', { root: true });\n      PageService.getPageBySlug('downloads')\n        .then(data => {\n          this.password = get(data, 'acf.password.password', '!dhjfd645!434df');\n          this.$store.dispatch('wait/end', 'downloadsAuthorization', { root: true });\n        });\n    }\n    this[TAXONOMIES_FETCH_DOWNLOAD_CATEGORIES]()\n      .catch(error => {\n        console.log('error retrieving the categories', error);\n      });\n    this[TAXONOMIES_FETCH_DOWNLOAD_PRODUCTS]()\n      .catch(error => {\n        console.log('error retrieving the products', error);\n      });\n    this[TAXONOMIES_FETCH_DOWNLOAD_MEDIATYPES]()\n      .catch(error => {\n        console.log('error retrieving the mediatypes', error);\n      });\n    this[DOWNLOADS_FETCH_ALL]()\n      .then(() => {\n        this.checkAllFilters();\n      })\n      .catch(error => {\n        console.log('error retrieving the downloads', error);\n      });\n  },\n\n  mounted() {\n    const onResizeListener = () => {\n      this.showFilter = false;\n    };\n\n    window.addEventListener('resize', onResizeListener);\n\n    this.$once('hook:destroyed', () => {\n      window.removeEventListener('resize', onResizeListener);\n    });\n    this.downloadContainerHeight();\n  },\n};\n\n</script>\n\n<style lang=\"scss\" scoped>\n\n.downloads-container {\n  display: flex;\n  flex: 1;\n\n  > div {\n    display: flex;\n    flex: 1;\n\n    /deep/ span {\n      display: flex;\n      flex: 1;\n    }\n  }\n\n  .duty-text {\n    text-decoration: underline;\n  }\n\n  .product-image {\n    width: 30%;\n  }\n}\n\n.downloads-intro {\n  padding: 192px 0;\n  background: linear-gradient(120deg, theme('colors.purple.400'), theme('colors.purple.300'));\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 48px;\n  color: white;\n  flex: 1;\n  @apply w-screen;\n}\n\n.password {\n  /deep/ &-text-input {\n  @apply pl-16;\n  @apply pr-8;\n  @apply py-3;\n  @apply text-white;\n\n    &:hover,\n    &:focus {\n      background-color: hsla(0, 0%, 100%, 0.08);\n      @apply text-white;\n    }\n\n    &-wrapper {\n      @apply border-4;\n      @apply border-white;\n    }\n  }\n}\n\n.wrongpassword {\n  display: none;\n}\n\n// OVERVIEW\n.dropdown-icon {\n  position: absolute;\n  top: 50%;\n  right: 16px;\n  transform: translate(0, -50%);\n  transition: transform 0.3s;\n\n  &.open {\n    transform: translate(0, -50%) rotate(180deg);\n  }\n}\n\n.filterWrapper{\n\n  input:checked ~ label{\n    @apply border-purple-400;\n    @apply text-purple-400;\n    @apply opacity-100;\n  }\n}\n\n.product-thumbnail-container {\n  width: 180px;\n  height: 100px;\n  border: 1px solid theme('colors.gray.600');\n  padding: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  img {\n    width: auto;\n    height: 90%;\n  }\n\n  .no-image {\n    width: 100%;\n    height: 100%;\n    background-color: theme('colors.gray.500');\n  }\n}\n\n// DETAILVIEW\n.download-inner-container {\n  display: flex;\n  align-items: center;\n  width: 50%;\n\n  &:last-of-type {\n    justify-content: flex-start;\n  }\n\n  &:last-of-type {\n    justify-content: flex-end;\n  }\n\n  @media (max-width: theme('screens.tablet')) {\n    width: 100%;\n    margin: 8px 0;\n  }\n}\n\n.mediatype-icon-container {\n  min-width: 60px;\n  margin: 0 40px;\n\n  img {\n    width: 60px;\n    height: 60px;\n  }\n\n  @media (max-width: theme('screens.tablet')) {\n    margin: 0 16px;\n  }\n}\n\n.mediatype-image {\n  max-width: 90%;\n  max-height: 90%;\n}\n\n.file-button {\n  padding: 12px 32px !important;\n  margin-left: 96px;\n  justify-self: flex-end;\n}\n\n.pagination {\n  display: flex;\n  justify-content: center;\n\n  .button {\n    font-weight: normal;\n    padding: 4px;\n    font-size: 14px;\n\n    &.active {\n      font-weight: bold;\n    }\n  }\n}\n\n.overlay {\n  background-color: rgba( 0, 0, 0, 0.5);\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 99;\n\n  .disclaimer {\n    max-width: calc(100% - 40px);\n    width: 900px;\n    max-height: calc(100% - 40px);\n    padding: 40px 32px;\n    background-color: white;\n    overflow: auto;\n\n    @media (min-width: theme('screens.tablet')) {\n      padding: 60px 96px;\n    }\n  }\n}\n\n</style>\n"]}]}