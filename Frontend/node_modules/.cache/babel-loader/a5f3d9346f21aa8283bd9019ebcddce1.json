{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/eslint-loader/index.js??ref--13-0!/app/src/services/api/FormService.js","dependencies":[{"path":"/app/src/services/api/FormService.js","mtime":1683275992574},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnByb21pc2UiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgRm9ybU1hcHBlciBmcm9tICdAL3NlcnZpY2VzL21hcHBlci9Gb3JtTWFwcGVyJzsKCnZhciBGb3JtU2VydmljZSA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEZvcm1TZXJ2aWNlKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZvcm1TZXJ2aWNlKTsKICB9CgogIF9jcmVhdGVDbGFzcyhGb3JtU2VydmljZSwgbnVsbCwgW3sKICAgIGtleTogImZldGNoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmZXRjaChmb3JtSWQpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICB3aW5kb3cuYXhpb3MuZ2V0KCIvd3AtanNvbi9nZi92Mi9mb3Jtcy8iLmNvbmNhdChmb3JtSWQpKS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKICAgICAgICAgIHJldHVybiByZXNvbHZlKEZvcm1NYXBwZXIubWFwRm9ybShkYXRhKSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic3VibWl0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzdWJtaXQoc3VibWlzc2lvblVybCwgcGF5bG9hZCkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHdpbmRvdy5heGlvcy5wb3N0KHN1Ym1pc3Npb25VcmwsIHBheWxvYWQpLnRoZW4oZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgICB2YXIgZGF0YSA9IF9yZWYyLmRhdGE7CiAgICAgICAgICByZXR1cm4gcmVzb2x2ZShGb3JtTWFwcGVyLm1hcFN1Ym1pc3Npb25SZXNwb25zZShkYXRhKSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDApIHsKICAgICAgICAgICAgcmV0dXJuIHJlamVjdChGb3JtTWFwcGVyLm1hcEVycm9yUmVzcG9uc2UoZXJyb3IucmVzcG9uc2UuZGF0YSkpOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRGb3JtQ29tcG9uZW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRGb3JtQ29tcG9uZW50KGZpZWxkKSB7CiAgICAgIHN3aXRjaCAoZmllbGQudHlwZSkgewogICAgICAgIGNhc2UgJ2VtYWlsJzoKICAgICAgICBjYXNlICdwYXNzd29yZCc6CiAgICAgICAgY2FzZSAndGV4dCc6CiAgICAgICAgICByZXR1cm4gJ2Fwby10ZXh0LWlucHV0JzsKCiAgICAgICAgY2FzZSAnaHRtbCc6CiAgICAgICAgICByZXR1cm4gJ2Fwby1odG1sLWJsb2NrJzsKCiAgICAgICAgY2FzZSAncmFkaW8nOgogICAgICAgICAgcmV0dXJuICdhcG8tcmFkaW8tYnV0dG9ucyc7CgogICAgICAgIGNhc2UgJ2NoZWNrYm94JzoKICAgICAgICAgIHJldHVybiAnYXBvLWNoZWNrYm94JzsKCiAgICAgICAgY2FzZSAndGV4dGFyZWEnOgogICAgICAgICAgcmV0dXJuICdhcG8tdGV4dGFyZWEnOwoKICAgICAgICBjYXNlICdzZWxlY3QnOgogICAgICAgICAgcmV0dXJuICdhcG8tc2VsZWN0LWlucHV0JzsKCiAgICAgICAgY2FzZSAnbXVsdGlzZWxlY3QnOgogICAgICAgICAgcmV0dXJuICdhcG8tbXVsdGktc2VsZWN0LWlucHV0JzsKCiAgICAgICAgY2FzZSAnaGlkZGVuJzoKICAgICAgICAgIHJldHVybiAnYXBvLWhpZGRlbi1pbnB1dCc7CgogICAgICAgIGNhc2UgJ2Fwb3ZvaWNlX3JlZ2lzdHJhdGlvbl9waGFybWFjeV9zdW1tYXJ5JzoKICAgICAgICAgIHJldHVybiAnYXBvLXBoYXJtYWN5LXN1bW1hcnknOwoKICAgICAgICBjYXNlICdhcG92b2ljZV9yZWdpc3RyYXRpb25faW5mb3JtYXRpb24nOgogICAgICAgICAgcmV0dXJuICdhcG8tcmVnaXN0cmF0aW9uLWluZm9ybWF0aW9uJzsKCiAgICAgICAgY2FzZSAnYXBvdm9pY2VfcGhhcm1hY3lfZnV6enlfc2VhcmNoJzoKICAgICAgICAgIHJldHVybiAnYXBvLXBoYXJtYWNpZXMtZnV6enktc2VhcmNoJzsKCiAgICAgICAgY2FzZSAnY2FwdGNoYSc6CiAgICAgICAgICByZXR1cm4gJ2Fwby1jYXB0Y2hhJzsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIGNvbnNvbGUuaW5mbygiVW5rbm93biBmaWVsZCB0eXBlIGRpc2NvdmVyZWQ6ICIuY29uY2F0KGZpZWxkLnR5cGUpKTsKICAgICAgICAgIHJldHVybiAnYXBvLXVua25vd24tZmllbGQnOwogICAgICB9CiAgICB9CiAgfV0pOwoKICByZXR1cm4gRm9ybVNlcnZpY2U7Cn0oKTsKCmV4cG9ydCB7IEZvcm1TZXJ2aWNlIGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["/app/src/services/api/FormService.js"],"names":["FormMapper","FormService","formId","Promise","resolve","reject","window","axios","get","then","data","mapForm","catch","error","submissionUrl","payload","post","mapSubmissionResponse","response","status","mapErrorResponse","field","type","console","info"],"mappings":";;;;AAAA,OAAOA,UAAP,MAAuB,8BAAvB;;IAEqBC,W;;;;;;;;;0BACNC,M,EAAQ;AACnB,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCC,QAAAA,MAAM,CAACC,KAAP,CAAaC,GAAb,gCAAyCN,MAAzC,GACGO,IADH,CACQ;AAAA,cAAGC,IAAH,QAAGA,IAAH;AAAA,iBAAcN,OAAO,CAACJ,UAAU,CAACW,OAAX,CAAmBD,IAAnB,CAAD,CAArB;AAAA,SADR,EAEGE,KAFH,CAES,UAAAC,KAAK;AAAA,iBAAIR,MAAM,CAACQ,KAAD,CAAV;AAAA,SAFd;AAGD,OAJM,CAAP;AAKD;;;2BAEaC,a,EAAeC,O,EAAS;AACpC,aAAO,IAAIZ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCC,QAAAA,MAAM,CAACC,KAAP,CAAaS,IAAb,CAAkBF,aAAlB,EAAiCC,OAAjC,EACGN,IADH,CACQ;AAAA,cAAGC,IAAH,SAAGA,IAAH;AAAA,iBAAcN,OAAO,CAACJ,UAAU,CAACiB,qBAAX,CAAiCP,IAAjC,CAAD,CAArB;AAAA,SADR,EAEGE,KAFH,CAES,UAAAC,KAAK,EAAI;AACd,cAAIA,KAAK,CAACK,QAAN,IAAkBL,KAAK,CAACK,QAAN,CAAeC,MAAf,KAA0B,GAAhD,EAAqD;AACnD,mBAAOd,MAAM,CAACL,UAAU,CAACoB,gBAAX,CAA4BP,KAAK,CAACK,QAAN,CAAeR,IAA3C,CAAD,CAAb;AACD;;AAED,iBAAOL,MAAM,CAACQ,KAAD,CAAb;AACD,SARH;AASD,OAVM,CAAP;AAWD;;;qCAEuBQ,K,EAAO;AAC7B,cAAQA,KAAK,CAACC,IAAd;AACE,aAAK,OAAL;AACA,aAAK,UAAL;AACA,aAAK,MAAL;AACE,iBAAO,gBAAP;;AAEF,aAAK,MAAL;AACE,iBAAO,gBAAP;;AAEF,aAAK,OAAL;AACE,iBAAO,mBAAP;;AAEF,aAAK,UAAL;AACE,iBAAO,cAAP;;AAEF,aAAK,UAAL;AACE,iBAAO,cAAP;;AAEF,aAAK,QAAL;AACE,iBAAO,kBAAP;;AAEF,aAAK,aAAL;AACE,iBAAO,wBAAP;;AAEF,aAAK,QAAL;AACE,iBAAO,kBAAP;;AAEF,aAAK,wCAAL;AACE,iBAAO,sBAAP;;AAEF,aAAK,mCAAL;AACE,iBAAO,8BAAP;;AAEF,aAAK,gCAAL;AACE,iBAAO,6BAAP;;AAEF,aAAK,SAAL;AACE,iBAAO,aAAP;;AAEF;AACEC,UAAAA,OAAO,CAACC,IAAR,0CAA+CH,KAAK,CAACC,IAArD;AACA,iBAAO,mBAAP;AAzCJ;AA2CD;;;;;;SAnEkBrB,W","sourcesContent":["import FormMapper from '@/services/mapper/FormMapper';\n\nexport default class FormService {\n  static fetch(formId) {\n    return new Promise((resolve, reject) => {\n      window.axios.get(`/wp-json/gf/v2/forms/${formId}`)\n        .then(({ data }) => resolve(FormMapper.mapForm(data)))\n        .catch(error => reject(error));\n    });\n  }\n\n  static submit(submissionUrl, payload) {\n    return new Promise((resolve, reject) => {\n      window.axios.post(submissionUrl, payload)\n        .then(({ data }) => resolve(FormMapper.mapSubmissionResponse(data)))\n        .catch(error => {\n          if (error.response && error.response.status === 400) {\n            return reject(FormMapper.mapErrorResponse(error.response.data));\n          }\n\n          return reject(error);\n        });\n    });\n  }\n\n  static getFormComponent(field) {\n    switch (field.type) {\n      case 'email':\n      case 'password':\n      case 'text':\n        return 'apo-text-input';\n\n      case 'html':\n        return 'apo-html-block';\n\n      case 'radio':\n        return 'apo-radio-buttons';\n\n      case 'checkbox':\n        return 'apo-checkbox';\n\n      case 'textarea':\n        return 'apo-textarea';\n\n      case 'select':\n        return 'apo-select-input';\n\n      case 'multiselect':\n        return 'apo-multi-select-input';\n\n      case 'hidden':\n        return 'apo-hidden-input';\n\n      case 'apovoice_registration_pharmacy_summary':\n        return 'apo-pharmacy-summary';\n\n      case 'apovoice_registration_information':\n        return 'apo-registration-information';\n\n      case 'apovoice_pharmacy_fuzzy_search':\n        return 'apo-pharmacies-fuzzy-search';\n\n      case 'captcha':\n        return 'apo-captcha';\n\n      default:\n        console.info(`Unknown field type discovered: ${field.type}`);\n        return 'apo-unknown-field';\n    }\n  }\n}\n"]}]}