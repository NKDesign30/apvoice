{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/eslint-loader/index.js??ref--13-0!/app/src/services/api/PageService.js","dependencies":[{"path":"/app/src/services/api/PageService.js","mtime":1683275992574},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnByb21pc2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL2FwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL2FwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBmaW5kIGZyb20gJ2xvZGFzaC9maW5kJzsKaW1wb3J0IFBhZ2VNYXBwZXIgZnJvbSAnQC9zZXJ2aWNlcy9tYXBwZXIvUGFnZU1hcHBlcic7Cgp2YXIgUGFnZVNlcnZpY2UgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBQYWdlU2VydmljZSgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYWdlU2VydmljZSk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoUGFnZVNlcnZpY2UsIG51bGwsIFt7CiAgICBrZXk6ICJnZXRGcm9udFBhZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZyb250UGFnZSgpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICB3aW5kb3cuYXhpb3MuZ2V0KCcvd3AtanNvbi93cC92Mi9mcm9udHBhZ2UnKS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKICAgICAgICAgIHJldHVybiByZXNvbHZlKFBhZ2VNYXBwZXIubWFwUGFnZShkYXRhKSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0UGFnZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBhZ2VzKCkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHdpbmRvdy5heGlvcy5nZXQoJy93cC1qc29uL3dwL3YyL3BhZ2VzP3Blcl9wYWdlPTEwMCcpLnRoZW4oZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgICB2YXIgZGF0YSA9IF9yZWYyLmRhdGE7CiAgICAgICAgICByZXR1cm4gcmVzb2x2ZShkYXRhKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRQYWdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQYWdlKF9yZWYzKSB7CiAgICAgIHZhciBpZCA9IF9yZWYzLmlkOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHdpbmRvdy5heGlvcy5nZXQoIi93cC1qc29uL3dwL3YyL3BhZ2VzLyIuY29uY2F0KGlkKSkudGhlbihmdW5jdGlvbiAoX3JlZjQpIHsKICAgICAgICAgIHZhciBkYXRhID0gX3JlZjQuZGF0YTsKICAgICAgICAgIHJldHVybiByZXNvbHZlKFBhZ2VNYXBwZXIubWFwUGFnZShkYXRhKSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0UGFnZUJ5U2x1ZyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UGFnZUJ5U2x1ZyhzbHVnKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgd2luZG93LmF4aW9zLmdldCgnL3dwLWpzb24vd3AvdjIvcGFnZXM/cGVyX3BhZ2U9MTAwJykudGhlbihmdW5jdGlvbiAoX3JlZjUpIHsKICAgICAgICAgIHZhciBkYXRhID0gX3JlZjUuZGF0YTsKICAgICAgICAgIHJldHVybiBkYXRhLmZpbHRlcihmdW5jdGlvbiAocGFnZSkgewogICAgICAgICAgICByZXR1cm4gcGFnZS5zbHVnID09PSBzbHVnLnJlcGxhY2UoL15cL3xcLyQvZywgJycpOwogICAgICAgICAgfSkubGVuZ3RoID09PSAwID8gcmVqZWN0KGRhdGEpIDogcmVzb2x2ZShQYWdlTWFwcGVyLm1hcFBhZ2UoZGF0YS5maWx0ZXIoZnVuY3Rpb24gKHBhZ2UpIHsKICAgICAgICAgICAgcmV0dXJuIHBhZ2Uuc2x1ZyA9PT0gc2x1Zy5yZXBsYWNlKC9eXC98XC8kL2csICcnKTsKICAgICAgICAgIH0pWzBdKSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZmluZEJ5UGF0aCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZmluZEJ5UGF0aChwYWdlcywgcGF0aCkgewogICAgICByZXR1cm4gZmluZChwYWdlcywgWydwYXRoJywgcGF0aF0pOwogICAgfQogIH0sIHsKICAgIGtleTogImZldGNoUGFnZVBlcm1pc3Npb25zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmZXRjaFBhZ2VQZXJtaXNzaW9ucygpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICB3aW5kb3cuYXhpb3MuZ2V0KCcvd3AtanNvbi9hcG92b2ljZS92MS9wYWdlLXBlcm1pc3Npb25zJykudGhlbihmdW5jdGlvbiAoX3JlZjYpIHsKICAgICAgICAgIHZhciBkYXRhID0gX3JlZjYuZGF0YTsKICAgICAgICAgIHJldHVybiByZXNvbHZlKFBhZ2VNYXBwZXIubWFwUGVybWlzc2lvbnMoZGF0YSkpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgcmV0dXJuIHJlamVjdChlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFBhZ2VTZXJ2aWNlOwp9KCk7CgpleHBvcnQgeyBQYWdlU2VydmljZSBhcyBkZWZhdWx0IH07"},{"version":3,"sources":["/app/src/services/api/PageService.js"],"names":["find","PageMapper","PageService","Promise","resolve","reject","window","axios","get","then","data","mapPage","catch","error","id","slug","filter","page","replace","length","pages","path","mapPermissions"],"mappings":"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","sourcesContent":["import find from 'lodash/find';\nimport PageMapper from '@/services/mapper/PageMapper';\n\nexport default class PageService {\n  static getFrontPage() {\n    return new Promise((resolve, reject) => {\n      window.axios.get('/wp-json/wp/v2/frontpage')\n        .then(({ data }) => resolve(PageMapper.mapPage(data)))\n        .catch(error => reject(error));\n    });\n  }\n\n  static getPages() {\n    return new Promise((resolve, reject) => {\n      window.axios.get('/wp-json/wp/v2/pages?per_page=100')\n        .then(({ data }) => resolve(data))\n        .catch(error => reject(error));\n    });\n  }\n\n  static getPage({ id }) {\n    return new Promise((resolve, reject) => {\n      window.axios.get(`/wp-json/wp/v2/pages/${id}`)\n        .then(({ data }) => resolve(PageMapper.mapPage(data)))\n        .catch(error => reject(error));\n    });\n  }\n\n  static getPageBySlug(slug) {\n    return new Promise((resolve, reject) => {\n      window.axios.get('/wp-json/wp/v2/pages?per_page=100')\n        .then(({ data }) => (data.filter(page => page.slug === slug.replace(/^\\/|\\/$/g, '')).length === 0\n          ? reject(data)\n          : resolve(PageMapper.mapPage(data.filter(page => page.slug === slug.replace(/^\\/|\\/$/g, ''))[0]))))\n        .catch(error => reject(error));\n    });\n  }\n\n  static findByPath(pages, path) {\n    return find(pages, ['path', path]);\n  }\n\n  static fetchPagePermissions() {\n    return new Promise((resolve, reject) => {\n      window.axios.get('/wp-json/apovoice/v1/page-permissions')\n        .then(({ data }) => resolve(PageMapper.mapPermissions(data)))\n        .catch(error => reject(error));\n    });\n  }\n}\n"]}]}