{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/components/survey/Survey.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/src/components/survey/Survey.vue","mtime":1683275992563},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5jb25zdHJ1Y3RvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX3R5cGVvZiBmcm9tICIvYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL3R5cGVvZiI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL2FwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBmb3JFYWNoIGZyb20gJ2xvZGFzaC9mb3JFYWNoJzsKaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBTVVJWRVlTX1NUT1JFX1JFU1VMVCB9IGZyb20gJ0Avc3RvcmUvdHlwZXMvYWN0aW9uLXR5cGVzJzsKaW1wb3J0IFByb2dyZXNzIGZyb20gJ0AvY29tcG9uZW50cy91aS9Qcm9ncmVzcy52dWUnOwppbXBvcnQgU3VydmV5QW5zd2VyTXVsdGlMaW5lUXVlc3Rpb24gZnJvbSAnQC9jb21wb25lbnRzL3N1cnZleS9TdXJ2ZXlBbnN3ZXJNdWx0aUxpbmVRdWVzdGlvbi52dWUnOwppbXBvcnQgU3VydmV5QW5zd2VyU2luZ2xlTGluZVF1ZXN0aW9uIGZyb20gJ0AvY29tcG9uZW50cy9zdXJ2ZXkvU3VydmV5QW5zd2VyU2luZ2xlTGluZVF1ZXN0aW9uLnZ1ZSc7CmltcG9ydCBTdXJ2ZXlSYXRpbmdRdWVzdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvc3VydmV5L1N1cnZleVJhdGluZ1F1ZXN0aW9uLnZ1ZSc7CmltcG9ydCBTdXJ2ZXlSYXRpbmdJY29uc1F1ZXN0aW9uIGZyb20gJ0AvY29tcG9uZW50cy9zdXJ2ZXkvU3VydmV5UmF0aW5nSWNvbnNRdWVzdGlvbi52dWUnOwppbXBvcnQgU3VydmV5UHJvbW90ZXJTY29yZVF1ZXN0aW9uIGZyb20gJ0AvY29tcG9uZW50cy9zdXJ2ZXkvU3VydmV5UHJvbW90ZXJTY29yZVF1ZXN0aW9uLnZ1ZSc7CmltcG9ydCBTdXJ2ZXlDaG9pY2VRdWVzdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvc3VydmV5L1N1cnZleUNob2ljZVF1ZXN0aW9uLnZ1ZSc7CmltcG9ydCBTdXJ2ZXlNYXRyaXhRdWVzdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvc3VydmV5L1N1cnZleU1hdHJpeFF1ZXN0aW9uLnZ1ZSc7CmltcG9ydCBTdXJ2ZXlFeGl0UGFnZSBmcm9tICdAL2NvbXBvbmVudHMvc3VydmV5L1N1cnZleUV4aXRQYWdlLnZ1ZSc7CmltcG9ydCBTdXJ2ZXlDaG9pY2VNdWx0aVF1ZXN0aW9uIGZyb20gJ0AvY29tcG9uZW50cy9zdXJ2ZXkvU3VydmV5Q2hvaWNlTXVsdGlRdWVzdGlvbi52dWUnOwppbXBvcnQgU3VydmV5VGV4dFBhcmFncmFwaFF1ZXN0aW9uIGZyb20gIi4vU3VydmV5VGV4dFBhcmFncmFwaFF1ZXN0aW9uLnZ1ZSI7CmltcG9ydCBTdXJ2ZXlNYXBwZXIgZnJvbSAnQC9zZXJ2aWNlcy9tYXBwZXIvU3VydmV5TWFwcGVyJzsKaW1wb3J0IFN1cnZleVZhbGlkYXRpb24gZnJvbSAnQC9zZXJ2aWNlcy9zdXJ2ZXkvU3VydmV5VmFsaWRhdGlvbic7CmltcG9ydCBTdXJ2ZXlDaGFwdGVyVmFsaWRhdGlvbiBmcm9tICdAL3NlcnZpY2VzL3N1cnZleS9TdXJ2ZXlDaGFwdGVyVmFsaWRhdGlvbic7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICAnYXBvLXByb2dyZXNzJzogUHJvZ3Jlc3MsCiAgICAnYXBvLXN1cnZleS1hbnN3ZXItbXVsdGktbGluZS1xdWVzdGlvbic6IFN1cnZleUFuc3dlck11bHRpTGluZVF1ZXN0aW9uLAogICAgJ2Fwby1zdXJ2ZXktYW5zd2VyLXNpbmdsZS1saW5lLXF1ZXN0aW9uJzogU3VydmV5QW5zd2VyU2luZ2xlTGluZVF1ZXN0aW9uLAogICAgJ2Fwby1zdXJ2ZXktY2hvaWNlLXF1ZXN0aW9uJzogU3VydmV5Q2hvaWNlUXVlc3Rpb24sCiAgICAnYXBvLXN1cnZleS1tYXRyaXgtcXVlc3Rpb24nOiBTdXJ2ZXlNYXRyaXhRdWVzdGlvbiwKICAgICdhcG8tc3VydmV5LWNob2ljZS1tdWx0aS1xdWVzdGlvbic6IFN1cnZleUNob2ljZU11bHRpUXVlc3Rpb24sCiAgICAnYXBvLXN1cnZleS1yYXRpbmctcXVlc3Rpb24nOiBTdXJ2ZXlSYXRpbmdRdWVzdGlvbiwKICAgICdhcG8tc3VydmV5LXJhdGluZ19pY29ucy1xdWVzdGlvbic6IFN1cnZleVJhdGluZ0ljb25zUXVlc3Rpb24sCiAgICAnYXBvLXN1cnZleS1wcm9tb3Rlcl9zY29yZS1xdWVzdGlvbic6IFN1cnZleVByb21vdGVyU2NvcmVRdWVzdGlvbiwKICAgICdhcG8tc3VydmV5LXRleHQtcGFyYWdyYXBoLXF1ZXN0aW9uJzogU3VydmV5VGV4dFBhcmFncmFwaFF1ZXN0aW9uLAogICAgJ2Fwby1zdXJ2ZXktZXhpdC1wYWdlJzogU3VydmV5RXhpdFBhZ2UKICB9LAogIHByb3BzOiB7CiAgICBzdXJ2ZXk6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNoYXB0ZXI6IDEsCiAgICAgIHZhbGlkYXRpb246IG5ldyBTdXJ2ZXlWYWxpZGF0aW9uKCksCiAgICAgIGFuc3dlcmVkUXVlc3Rpb25zOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsndXNlcklkJywgJ3VzZXInXSksIHsKICAgIGR1cmF0aW9uOiBmdW5jdGlvbiBkdXJhdGlvbigpIHsKICAgICAgdmFyIF90aGlzJHN1cnZleSRkdXJhdGlvbiA9IHRoaXMuc3VydmV5LmR1cmF0aW9uLAogICAgICAgICAgdHlwZSA9IF90aGlzJHN1cnZleSRkdXJhdGlvbi50eXBlLAogICAgICAgICAgYW1vdW50ID0gX3RoaXMkc3VydmV5JGR1cmF0aW9uLnRpbWU7CiAgICAgIHJldHVybiB0aGlzLiR0YygiZ2VuZXJhbC50aW1lLnNob3J0LiIuY29uY2F0KHR5cGUpLCBhbW91bnQsIHsKICAgICAgICBhbW91bnQ6IGFtb3VudAogICAgICB9KTsKICAgIH0sCiAgICBmdWxsRHVyYXRpb246IGZ1bmN0aW9uIGZ1bGxEdXJhdGlvbigpIHsKICAgICAgdmFyIF90aGlzJHN1cnZleSRkdXJhdGlvbjIgPSB0aGlzLnN1cnZleS5kdXJhdGlvbiwKICAgICAgICAgIHR5cGUgPSBfdGhpcyRzdXJ2ZXkkZHVyYXRpb24yLnR5cGUsCiAgICAgICAgICBhbW91bnQgPSBfdGhpcyRzdXJ2ZXkkZHVyYXRpb24yLnRpbWU7CiAgICAgIHJldHVybiB0aGlzLiR0YygiZ2VuZXJhbC50aW1lLmZ1bGwuIi5jb25jYXQodHlwZSksIGFtb3VudCwgewogICAgICAgIGFtb3VudDogYW1vdW50CiAgICAgIH0pOwogICAgfSwKICAgIGN1cnJlbnRDaGFwdGVyOiBmdW5jdGlvbiBjdXJyZW50Q2hhcHRlcigpIHsKICAgICAgcmV0dXJuIHRoaXMuc3VydmV5LmNoYXB0ZXJzW3RoaXMuY2hhcHRlciAtIDFdOwogICAgfSwKICAgIGlzRmlyc3RDaGFwdGVyOiBmdW5jdGlvbiBpc0ZpcnN0Q2hhcHRlcigpIHsKICAgICAgcmV0dXJuIHRoaXMuY2hhcHRlciA9PT0gMTsKICAgIH0sCiAgICBpc0xhc3RDaGFwdGVyOiBmdW5jdGlvbiBpc0xhc3RDaGFwdGVyKCkgewogICAgICByZXR1cm4gdGhpcy5jaGFwdGVyID09PSB0aGlzLnN1cnZleS5jaGFwdGVycy5sZW5ndGg7CiAgICB9LAogICAgaXNDb21wbGV0ZTogZnVuY3Rpb24gaXNDb21wbGV0ZSgpIHsKICAgICAgcmV0dXJuIHRoaXMudXNlci5zdXJ2ZXlSZXN1bHRzW3RoaXMuc3VydmV5LmlkXSAhPT0gdW5kZWZpbmVkICYmIHRoaXMudXNlci5zdXJ2ZXlSZXN1bHRzW3RoaXMuc3VydmV5LmlkXS5pc19jb21wbGV0ZTsKICAgIH0sCiAgICB0b3RhbFF1ZXN0aW9uczogZnVuY3Rpb24gdG90YWxRdWVzdGlvbnMoKSB7CiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRDaGFwdGVyLnF1ZXN0aW9ucy5yZWR1Y2UoZnVuY3Rpb24gKGFjY3VtdWxhdG9yLCBxdWVzdGlvbikgewogICAgICAgIGlmIChxdWVzdGlvbi50eXBlID09PSAncmF0aW5nJykgewogICAgICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yICsgcXVlc3Rpb24uaXRlbXMubGVuZ3RoOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yICsgMTsKICAgICAgfSwgMCk7CiAgICB9CiAgfSksCiAgbWV0aG9kczogX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyhbU1VSVkVZU19TVE9SRV9SRVNVTFRdKSwgewogICAgaW50ZXJwb2xhdGU6IGZ1bmN0aW9uIGludGVycG9sYXRlKHRleHQpIHsKICAgICAgdmFyIHJlcGxhY2VtZW50cyA9IHsKICAgICAgICBzdXJ2ZXlfcG9pbnRzOiB0aGlzLnN1cnZleS5wb2ludHMKICAgICAgfTsKICAgICAgZm9yRWFjaChyZXBsYWNlbWVudHMsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7CiAgICAgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cCgieyIuY29uY2F0KGtleSwgIn0iKSwgJ2cnKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduCgogICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UocmVnZXgsIHZhbHVlKTsKICAgICAgfSk7CiAgICAgIHJldHVybiB0ZXh0OwogICAgfSwKICAgIHZhbGlkYXRlQ3VycmVudENoYXB0ZXI6IGZ1bmN0aW9uIHZhbGlkYXRlQ3VycmVudENoYXB0ZXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLnZhbGlkYXRpb24ucmVzZXRDaGFwdGVyKHRoaXMuY2hhcHRlcik7CiAgICAgIHZhciBjaGFwdGVyVmFsaWRhdGlvbiA9IG5ldyBTdXJ2ZXlDaGFwdGVyVmFsaWRhdGlvbigpOwogICAgICB0aGlzLmN1cnJlbnRDaGFwdGVyLnF1ZXN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChxdWVzdGlvbikgewogICAgICAgIGlmIChxdWVzdGlvbi5pc09wdGlvbmFsKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpZiAocXVlc3Rpb24udHlwZSA9PT0gJ3F1ZXN0aW9uX2NsdXN0ZXInKSB7CiAgICAgICAgICBxdWVzdGlvbi5xdWVzdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoY2x1c3RlclF1ZXN0aW9uKSB7CiAgICAgICAgICAgIGlmIChjbHVzdGVyUXVlc3Rpb24uaXNPcHRpb25hbCkgewogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX3RoaXMudmFsaWRhdGVRdWVzdGlvbihjbHVzdGVyUXVlc3Rpb24sIGNoYXB0ZXJWYWxpZGF0aW9uKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBfdGhpcy52YWxpZGF0ZVF1ZXN0aW9uKHF1ZXN0aW9uLCBjaGFwdGVyVmFsaWRhdGlvbik7CgogICAgICAgIGlmIChxdWVzdGlvbi5pc05lc3RlZCkgewogICAgICAgICAgcXVlc3Rpb24ubmVzdGVkUXVlc3Rpb24uZm9yRWFjaChmdW5jdGlvbiAobmVzdGVkUXVlc3Rpb24pIHsKICAgICAgICAgICAgaWYgKG5lc3RlZFF1ZXN0aW9uLmlzT3B0aW9uYWwgfHwgIV90aGlzLnNob3dOZXN0ZWRRdWVzdGlvbihuZXN0ZWRRdWVzdGlvbiwgcXVlc3Rpb24pKSB7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfdGhpcy52YWxpZGF0ZVF1ZXN0aW9uKG5lc3RlZFF1ZXN0aW9uLCBjaGFwdGVyVmFsaWRhdGlvbik7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLnZhbGlkYXRpb24uc2V0Q2hhcHRlcih0aGlzLmNoYXB0ZXIsIGNoYXB0ZXJWYWxpZGF0aW9uKTsKICAgIH0sCiAgICB2YWxpZGF0ZVF1ZXN0aW9uOiBmdW5jdGlvbiB2YWxpZGF0ZVF1ZXN0aW9uKHF1ZXN0aW9uLCBjaGFwdGVyVmFsaWRhdGlvbikgewogICAgICB2YXIgaXNWYWxpZCA9IHRydWU7CgogICAgICBzd2l0Y2ggKHF1ZXN0aW9uLnR5cGUpIHsKICAgICAgICBjYXNlICdjaG9pY2UtbXVsdGknOgogICAgICAgICAgaXNWYWxpZCA9IHF1ZXN0aW9uLnZhbHVlLmxlbmd0aCA+IDA7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAncmF0aW5nJzoKICAgICAgICAgIGlzVmFsaWQgPSBxdWVzdGlvbi52YWx1ZS5sZW5ndGggPT09IHF1ZXN0aW9uLml0ZW1zLmxlbmd0aDsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICdtYXRyaXgnOgogICAgICAgICAgaXNWYWxpZCA9IE9iamVjdC5rZXlzKHF1ZXN0aW9uLnZhbHVlKS5sZW5ndGggPT09IHF1ZXN0aW9uLnNlY3Rpb25zLmxlbmd0aDsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgaXNWYWxpZCA9IHF1ZXN0aW9uLnZhbHVlICE9PSB1bmRlZmluZWQgJiYgcXVlc3Rpb24udmFsdWUgIT09ICcnOwogICAgICB9CgogICAgICBpZiAoIWlzVmFsaWQpIHsKICAgICAgICBjaGFwdGVyVmFsaWRhdGlvbi5hZGQocXVlc3Rpb24uaWQsIHRoaXMuJHQoJ3N1cnZleXMubWVzc2FnZXMucXVlc3Rpb25Jc1JlcXVpcmVkJykpOwogICAgICB9CiAgICB9LAogICAgZ2V0RXJyb3I6IGZ1bmN0aW9uIGdldEVycm9yKF9yZWYpIHsKICAgICAgdmFyIGlkID0gX3JlZi5pZDsKCiAgICAgIGlmICghdGhpcy52YWxpZGF0aW9uLmhhc0NoYXB0ZXIodGhpcy5jaGFwdGVyKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLnZhbGlkYXRpb24uZ2V0Q2hhcHRlcih0aGlzLmNoYXB0ZXIpLmhhcyhpZCkpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oewogICAgICAgICAgdG9wOiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdlcnJvcicpWzBdLnBhcmVudEVsZW1lbnQub2Zmc2V0VG9wIC0gNjAsCiAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcKICAgICAgICB9KTsKICAgICAgfSwgNTAwKTsKICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdGlvbi5nZXRDaGFwdGVyKHRoaXMuY2hhcHRlcikuZ2V0KGlkKTsKICAgIH0sCiAgICByZXNldEVycm9yOiBmdW5jdGlvbiByZXNldEVycm9yKF9yZWYyKSB7CiAgICAgIHZhciBpZCA9IF9yZWYyLmlkOwoKICAgICAgaWYgKCF0aGlzLnZhbGlkYXRpb24uaGFzQ2hhcHRlcih0aGlzLmNoYXB0ZXIpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy52YWxpZGF0aW9uLmdldENoYXB0ZXIodGhpcy5jaGFwdGVyKS5yZW1vdmUoaWQpOwogICAgfSwKICAgIGdldFN1cnZleUNvbXBvbmVudDogZnVuY3Rpb24gZ2V0U3VydmV5Q29tcG9uZW50KF9yZWYzKSB7CiAgICAgIHZhciB0eXBlID0gX3JlZjMudHlwZTsKICAgICAgcmV0dXJuICJhcG8tc3VydmV5LSIuY29uY2F0KHR5cGUsICItcXVlc3Rpb24iKTsKICAgIH0sCiAgICBvblF1ZXN0aW9uSW5wdXQ6IGZ1bmN0aW9uIG9uUXVlc3Rpb25JbnB1dChldmVudCwgcXVlc3Rpb24pIHsKICAgICAgaWYgKHF1ZXN0aW9uLnR5cGUgPT09ICdyYXRpbmcnKSB7CiAgICAgICAgaWYgKHF1ZXN0aW9uLnZhbHVlLnNvbWUoZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICByZXR1cm4gdmFsdWUucmF0aW5nSWQgPT09IGV2ZW50Lml0ZW0uaWQ7CiAgICAgICAgfSkpIHsKICAgICAgICAgIHZhciBpbmRleCA9IHF1ZXN0aW9uLnZhbHVlLmZpbmRJbmRleChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnJhdGluZ0lkID09PSBldmVudC5pdGVtLmlkOwogICAgICAgICAgfSk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnbgoKICAgICAgICAgIHF1ZXN0aW9uLnZhbHVlW2luZGV4XS52YWx1ZSA9IGV2ZW50LnZhbHVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBxdWVzdGlvbi52YWx1ZS5wdXNoKHsKICAgICAgICAgICAgcmF0aW5nSWQ6IGV2ZW50Lml0ZW0uaWQsCiAgICAgICAgICAgIHZhbHVlOiBldmVudC52YWx1ZQogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmFuc3dlcmVkUXVlc3Rpb25zLnB1c2goZXZlbnQuaXRlbS5pZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHRoaXMuYW5zd2VyZWRRdWVzdGlvbnMuaW5kZXhPZihxdWVzdGlvbi5pZCkgPT09IC0xKSB7CiAgICAgICAgICB0aGlzLmFuc3dlcmVkUXVlc3Rpb25zLnB1c2gocXVlc3Rpb24uaWQpOwogICAgICAgIH0gZWxzZSBpZiAoIWV2ZW50KSB7CiAgICAgICAgICB0aGlzLmFuc3dlcmVkUXVlc3Rpb25zID0gdGhpcy5hbnN3ZXJlZFF1ZXN0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKGlkKSB7CiAgICAgICAgICAgIHJldHVybiBpZCAhPT0gcXVlc3Rpb24uaWQ7CiAgICAgICAgICB9KTsKICAgICAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnbgoKCiAgICAgICAgcXVlc3Rpb24udmFsdWUgPSBldmVudDsKICAgICAgfQoKICAgICAgaWYgKHRoaXMudmFsaWRhdGlvbi5oYXNDaGFwdGVyKHRoaXMuY2hhcHRlcikpIHsKICAgICAgICB0aGlzLnZhbGlkYXRlQ3VycmVudENoYXB0ZXIoKTsKICAgICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOwogICAgICB9CiAgICB9LAogICAgc2hvd05lc3RlZFF1ZXN0aW9uOiBmdW5jdGlvbiBzaG93TmVzdGVkUXVlc3Rpb24obmVzdGVkUXVlc3Rpb24sIHF1ZXN0aW9uKSB7CiAgICAgIHJldHVybiBuZXN0ZWRRdWVzdGlvbi5wYXJlbnRWYWx1ZS5zcGxpdCgnLCcpLmZpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZSA9PT0gcXVlc3Rpb24udmFsdWUgfHwgX3R5cGVvZihxdWVzdGlvbi52YWx1ZSkgPT09ICdvYmplY3QnICYmIHF1ZXN0aW9uLnZhbHVlLnNvbWUoZnVuY3Rpb24gKHZhbCkgewogICAgICAgICAgcmV0dXJuIHZhbC52YWx1ZSA9PT0gZSB8fCB2YWwgPT09IGU7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uUHJldmlvdXNCdXR0b25DbGljazogZnVuY3Rpb24gb25QcmV2aW91c0J1dHRvbkNsaWNrKCkgewogICAgICBpZiAoIXRoaXMuaXNGaXJzdENoYXB0ZXIpIHsKICAgICAgICB0aGlzLmNoYXB0ZXIgPSB0aGlzLmNoYXB0ZXIgLSAxOwogICAgICB9CiAgICB9LAogICAgb25OZXh0QnV0dG9uQ2xpY2s6IGZ1bmN0aW9uIG9uTmV4dEJ1dHRvbkNsaWNrKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMudmFsaWRhdGVDdXJyZW50Q2hhcHRlcigpOwoKICAgICAgaWYgKHRoaXMudmFsaWRhdGlvbi5oYXNDaGFwdGVyKHRoaXMuY2hhcHRlcikgJiYgIXRoaXMudmFsaWRhdGlvbi5nZXRDaGFwdGVyKHRoaXMuY2hhcHRlcikuaXNWYWxpZCkgewogICAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5pc0xhc3RDaGFwdGVyKSB7CiAgICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICAgIHVzZXJfaWQ6IFN0cmluZyh0aGlzLnVzZXJJZCksCiAgICAgICAgICBzdXJ2ZXlfaWQ6IFN0cmluZyh0aGlzLnN1cnZleS5pZCkKICAgICAgICB9OwogICAgICAgIHRoaXNbU1VSVkVZU19TVE9SRV9SRVNVTFRdKFN1cnZleU1hcHBlci5jcmVhdGVTdXJ2ZXlQYXlsb2FkKHRoaXMuc3VydmV5LCBwYXJhbXMpKS50aGVuKGZ1bmN0aW9uIChzdXJ2ZXkpIHsKICAgICAgICAgIF90aGlzMi51c2VyLnN1cnZleVJlc3VsdHNbc3VydmV5LmlkXSA9IHsKICAgICAgICAgICAgaXNfY29tcGxldGU6IHN1cnZleS5pc19jb21wbGV0ZSwKICAgICAgICAgICAgcmVzdWx0OiBzdXJ2ZXkucmVzdWx0CiAgICAgICAgICB9OwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIHN0b3JpbmcgcmVzdWx0JywgZXJyb3IpOwogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5jaGFwdGVyID0gdGhpcy5jaGFwdGVyICsgMTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["Survey.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"pb-16 survey\">\n    <div class=\"px-6 py-6 bg-yellow-200 survey-header tablet:px-0\">\n      <div class=\"container flex flex-wrap items-center tablet:justify-start justify-center\">\n        <!-- eslint-disable max-len -->\n        <div class=\"flex items-center justify-center text-xl font-bold text-yellow-500\">\n          <apo-icon\n            src=\"time\"\n            class=\"w-12 h-12\"\n          />\n          <span\n            class=\"mt-1 -ml-6 whitespace-no-wrap\"\n            v-text=\"duration\"\n          />\n        </div>\n        <!-- eslint-enable max-len -->\n\n        <div class=\"tablet:ml-8 text-gray-900\">\n          <h4\n            class=\"font-bold\"\n            v-html=\"$options.filters.formatContent(survey.title)\"\n          />\n          <p :inner-html=\"interpolate(survey.description) | formatContent\" />\n        </div>\n      </div>\n    </div>\n\n    <apo-survey-exit-page\n      v-if=\"isComplete\"\n      :survey=\"survey\"\n    />\n    <div\n      v-else\n      class=\"survey-body\"\n    >\n      <div class=\"container mt-16 tablet:mt-24\">\n        <h3\n          class=\"text-5xl text-center text-gray-900 font-display\"\n          v-text=\"$t('general.expertPoints', [survey.points])\"\n        />\n        <span\n          class=\"block text-3xl text-center text-gray-900 font-display\"\n          v-text=\"fullDuration\"\n        />\n      </div>\n\n      <apo-progress\n        class=\"mt-8 px-4 tablet:px-0\"\n        :chapter=\"chapter\"\n        :total-chapters=\"survey.chapters.length\"\n        :total-questions=\"totalQuestions\"\n        :answered-questions=\"answeredQuestions.length\"\n        sticky\n        @update-chapter=\"chapter = $event\"\n      />\n\n      <div class=\"container mx-auto mt-20 overflow-hidden chapter\">\n        <div class=\"flex flex-wrap justify-center\">\n          <div\n            v-for=\"(question) in currentChapter.questions\"\n            :key=\"question.id\"\n            class=\"flex flex-wrap items-end justify-center w-full px-4 mb-16 tablet:px-8\"\n          >\n            <component\n              :is=\"getSurveyComponent(question)\"\n              v-if=\"question.type !== 'question_cluster'\"\n              class=\"mx-6 text-center my-12\"\n              v-bind=\"question\"\n              :value=\"question.value\"\n              @input=\"onQuestionInput($event, question)\"\n            />\n\n            <small\n              v-if=\"getError(question) !== false\"\n              class=\"error mt-1 text-xs font-bold text-red-500 pin-l w-full text-center\"\n              v-text=\"getError(question)\"\n            />\n\n            <div\n              v-if=\"question.type === 'question_cluster'\"\n              class=\"survey-cluster-question w-full my-12\"\n            >\n              <div class=\"text-center survey-cluster-question__headlines mb-6\">\n                <h4\n                  class=\"text-3xl text-gray-900\"\n                  v-text=\"question.question\"\n                />\n                <p\n                  v-if=\"question.subheadline\"\n                  class=\"mt-2 italic text-gray-700 text-lg\"\n                  v-html=\"$options.filters.formatContent(question.subheadline)\"\n                />\n              </div>\n              <div class=\"flex flex-wrap justify-center\">\n                <div\n                  v-for=\"(clusterQuestion) in question.questions\"\n                  :key=\"clusterQuestion.id\"\n                  class=\"flex flex-wrap items-end justify-center\"\n                  :class=\"clusterQuestion.type === 'choice' || clusterQuestion.type === 'choice-multi' ? 'w-full' : 'w-auto'\"\n                >\n                  <div class=\"mx-6 mb-6 tablet:mb-12 w-full\">\n                    <component\n                      :is=\"getSurveyComponent(clusterQuestion)\"\n                      class=\"text-center\"\n                      is-cluster=\"true\"\n                      v-bind=\"clusterQuestion\"\n                      :value=\"clusterQuestion.value\"\n                      @input=\"onQuestionInput($event, clusterQuestion)\"\n                    />\n\n                    <small\n                      v-if=\"getError(clusterQuestion) !== false\"\n                      class=\"error mt-4 text-xs font-bold text-red-500 pin-l block text-center\"\n                      v-text=\"getError(clusterQuestion)\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div\n              v-if=\"question.isNested\"\n              class=\"w-full\"\n            >\n              <div\n                v-for=\"(nestedQuestion) in question.nestedQuestion\"\n                :key=\"nestedQuestion.id\"\n                class=\"flex flex-wrap items-end justify-center w-full \"\n              >\n                <div\n                  v-if=\"showNestedQuestion(nestedQuestion, question)\"\n                  class=\"w-full px-6 flex justify-center flex-wrap mt-16\"\n                >\n                  <component\n                    :is=\"getSurveyComponent(nestedQuestion)\"\n                    class=\"text-center my-12 w-full\"\n                    v-bind=\"nestedQuestion\"\n                    :value=\"nestedQuestion.value\"\n                    @input=\"onQuestionInput($event, nestedQuestion)\"\n                  />\n\n                  <small\n                    v-if=\"getError(nestedQuestion) !== false\"\n                    class=\"error mt-1 text-xs font-bold text-red-500 pin-l\"\n                    v-text=\"getError(nestedQuestion)\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"flex flex-wrap justify-center pb-4\">\n          <apo-button\n            v-if=\"!isFirstChapter\"\n            class=\"mr-6 text-gray-900 button button--naked shadow-hard\"\n            @click.native=\"onPreviousButtonClick\"\n            v-text=\"$t('general.back')\"\n          />\n\n          <apo-button\n            class=\"text-white button button--primary shadow-hard-dark\"\n            @click.native=\"onNextButtonClick\"\n            v-text=\"$t(`general.${isLastChapter ? 'submit' : 'continue'}`)\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport forEach from 'lodash/forEach';\nimport { mapGetters, mapActions } from 'vuex';\nimport { SURVEYS_STORE_RESULT } from '@/store/types/action-types';\nimport Progress from '@/components/ui/Progress.vue';\nimport SurveyAnswerMultiLineQuestion from '@/components/survey/SurveyAnswerMultiLineQuestion.vue';\nimport SurveyAnswerSingleLineQuestion from '@/components/survey/SurveyAnswerSingleLineQuestion.vue';\nimport SurveyRatingQuestion from '@/components/survey/SurveyRatingQuestion.vue';\nimport SurveyRatingIconsQuestion from '@/components/survey/SurveyRatingIconsQuestion.vue';\nimport SurveyPromoterScoreQuestion from '@/components/survey/SurveyPromoterScoreQuestion.vue';\nimport SurveyChoiceQuestion from '@/components/survey/SurveyChoiceQuestion.vue';\nimport SurveyMatrixQuestion from '@/components/survey/SurveyMatrixQuestion.vue';\nimport SurveyExitPage from '@/components/survey/SurveyExitPage.vue';\nimport SurveyChoiceMultiQuestion from '@/components/survey/SurveyChoiceMultiQuestion.vue';\nimport SurveyTextParagraphQuestion from './SurveyTextParagraphQuestion.vue';\nimport SurveyMapper from '@/services/mapper/SurveyMapper';\nimport SurveyValidation from '@/services/survey/SurveyValidation';\nimport SurveyChapterValidation from '@/services/survey/SurveyChapterValidation';\n\nexport default {\n  components: {\n    'apo-progress': Progress,\n    'apo-survey-answer-multi-line-question': SurveyAnswerMultiLineQuestion,\n    'apo-survey-answer-single-line-question': SurveyAnswerSingleLineQuestion,\n    'apo-survey-choice-question': SurveyChoiceQuestion,\n    'apo-survey-matrix-question': SurveyMatrixQuestion,\n    'apo-survey-choice-multi-question': SurveyChoiceMultiQuestion,\n    'apo-survey-rating-question': SurveyRatingQuestion,\n    'apo-survey-rating_icons-question': SurveyRatingIconsQuestion,\n    'apo-survey-promoter_score-question': SurveyPromoterScoreQuestion,\n    'apo-survey-text-paragraph-question': SurveyTextParagraphQuestion,\n    'apo-survey-exit-page': SurveyExitPage,\n  },\n\n  props: {\n    survey: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      chapter: 1,\n      validation: new SurveyValidation(),\n      answeredQuestions: [],\n    };\n  },\n\n  computed: {\n    ...mapGetters(['userId', 'user']),\n\n    duration() {\n      const { type, time: amount } = this.survey.duration;\n\n      return this.$tc(`general.time.short.${type}`, amount, { amount });\n    },\n\n    fullDuration() {\n      const { type, time: amount } = this.survey.duration;\n\n      return this.$tc(`general.time.full.${type}`, amount, { amount });\n    },\n\n    currentChapter() {\n      return this.survey.chapters[this.chapter - 1];\n    },\n\n    isFirstChapter() {\n      return this.chapter === 1;\n    },\n\n    isLastChapter() {\n      return this.chapter === this.survey.chapters.length;\n    },\n\n    isComplete() {\n      return (this.user.surveyResults[this.survey.id] !== undefined && this.user.surveyResults[this.survey.id].is_complete);\n    },\n\n    totalQuestions() {\n      return this.currentChapter.questions.reduce((accumulator, question) => {\n        if (question.type === 'rating') {\n          return accumulator + question.items.length;\n        }\n        return accumulator + 1;\n      }, 0);\n    },\n  },\n\n  methods: {\n    ...mapActions([SURVEYS_STORE_RESULT]),\n\n    interpolate(text) {\n      const replacements = {\n        survey_points: this.survey.points,\n      };\n\n      forEach(replacements, (value, key) => {\n        const regex = new RegExp(`{${key}}`, 'g');\n\n        // eslint-disable-next-line no-param-reassign\n        text = text.replace(regex, value);\n      });\n\n      return text;\n    },\n\n    validateCurrentChapter() {\n      this.validation.resetChapter(this.chapter);\n\n      const chapterValidation = new SurveyChapterValidation();\n\n      this.currentChapter.questions.forEach(question => {\n        if (question.isOptional) {\n          return;\n        }\n\n        if (question.type === 'question_cluster') {\n          question.questions.forEach(clusterQuestion => {\n            if (clusterQuestion.isOptional) {\n              return;\n            }\n            this.validateQuestion(clusterQuestion, chapterValidation);\n          });\n        } else this.validateQuestion(question, chapterValidation);\n\n        if (question.isNested) {\n          question.nestedQuestion.forEach(nestedQuestion => {\n            if (nestedQuestion.isOptional || !this.showNestedQuestion(nestedQuestion, question)) {\n              return;\n            }\n\n            this.validateQuestion(nestedQuestion, chapterValidation);\n          });\n        }\n      });\n\n      this.validation.setChapter(this.chapter, chapterValidation);\n    },\n\n    validateQuestion(question, chapterValidation) {\n      let isValid = true;\n\n      switch (question.type) {\n        case 'choice-multi':\n          isValid = question.value.length > 0;\n          break;\n\n        case 'rating':\n          isValid = question.value.length === question.items.length;\n          break;\n\n        case 'matrix':\n          isValid = Object.keys(question.value).length === question.sections.length;\n          break;\n\n        default:\n          isValid = question.value !== undefined && question.value !== '';\n      }\n\n      if (!isValid) {\n        chapterValidation.add(question.id, this.$t('surveys.messages.questionIsRequired'));\n      }\n    },\n\n    getError({ id }) {\n      if (!this.validation.hasChapter(this.chapter)) {\n        return false;\n      }\n\n      if (!this.validation.getChapter(this.chapter).has(id)) {\n        return false;\n      }\n\n      window.setTimeout(() => {\n        window.scrollTo({ top: document.getElementsByClassName('error')[0].parentElement.offsetTop - 60, behavior: 'smooth' });\n      }, 500);\n      return this.validation.getChapter(this.chapter).get(id);\n    },\n\n    resetError({ id }) {\n      if (!this.validation.hasChapter(this.chapter)) {\n        return false;\n      }\n\n      return this.validation.getChapter(this.chapter).remove(id);\n    },\n\n    getSurveyComponent({ type }) {\n      return `apo-survey-${type}-question`;\n    },\n\n    onQuestionInput(event, question) {\n      if (question.type === 'rating') {\n        if (question.value.some(value => value.ratingId === event.item.id)) {\n          const index = question.value.findIndex(value => value.ratingId === event.item.id);\n          // eslint-disable-next-line no-param-reassign\n          question.value[index].value = event.value;\n        } else {\n          question.value.push({ ratingId: event.item.id, value: event.value });\n        }\n        this.answeredQuestions.push(event.item.id);\n      } else {\n        if (this.answeredQuestions.indexOf(question.id) === -1) {\n          this.answeredQuestions.push(question.id);\n        } else if (!event) {\n          this.answeredQuestions = this.answeredQuestions.filter(id => id !== question.id);\n        }\n        // eslint-disable-next-line no-param-reassign\n        question.value = event;\n      }\n      if (this.validation.hasChapter(this.chapter)) {\n        this.validateCurrentChapter();\n        this.$forceUpdate();\n      }\n    },\n\n    showNestedQuestion(nestedQuestion, question) {\n      return nestedQuestion.parentValue.split(',').find(e => e === question.value || (typeof question.value === 'object' && question.value.some(val => val.value === e || val === e)));\n    },\n\n    onPreviousButtonClick() {\n      if (!this.isFirstChapter) {\n        this.chapter = this.chapter - 1;\n      }\n    },\n\n    onNextButtonClick() {\n      this.validateCurrentChapter();\n\n      if (this.validation.hasChapter(this.chapter)\n        && !this.validation.getChapter(this.chapter).isValid) {\n        this.$forceUpdate();\n\n        return;\n      }\n\n      if (this.isLastChapter) {\n        const params = {\n          user_id: String(this.userId),\n          survey_id: String(this.survey.id),\n        };\n\n        this[SURVEYS_STORE_RESULT](SurveyMapper.createSurveyPayload(this.survey, params))\n          .then(survey => {\n            this.user.surveyResults[survey.id] = { is_complete: survey.is_complete, result: survey.result };\n          })\n          .catch(error => {\n            console.log('error storing result', error);\n          });\n\n        return;\n      }\n\n      this.chapter = this.chapter + 1;\n    },\n  },\n};\n\n</script>\n\n<style lang=\"scss\" scoped>\n\n.survey__duration--position {\n  top: 23%;\n  left: 30%;\n}\n\n</style>\n"],"sourceRoot":"src/components/survey"}]}