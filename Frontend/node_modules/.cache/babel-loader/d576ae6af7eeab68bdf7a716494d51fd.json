{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/eslint-loader/index.js??ref--13-0!/app/src/services/form/FormValidation.js","dependencies":[{"path":"/app/src/services/form/FormValidation.js","mtime":1683275992575},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IGZpbmQgZnJvbSAnbG9kYXNoL2ZpbmQnOwoKdmFyIEZvcm1WYWxpZGF0aW9uID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gRm9ybVZhbGlkYXRpb24oKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRm9ybVZhbGlkYXRpb24pOwoKICAgIHRoaXMuZXJyb3JzID0gW107CiAgICB0aGlzLmlzVmFsaWQgPSB0cnVlOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEZvcm1WYWxpZGF0aW9uLCBbewogICAga2V5OiAiZmlsbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZmlsbChfcmVmKSB7CiAgICAgIHZhciBpc1ZhbGlkID0gX3JlZi5pc1ZhbGlkLAogICAgICAgICAgdmFsaWRhdGlvbk1lc3NhZ2VzID0gX3JlZi52YWxpZGF0aW9uTWVzc2FnZXM7CiAgICAgIHRoaXMuaXNWYWxpZCA9IGlzVmFsaWQ7CiAgICAgIHRoaXMuZXJyb3JzID0gdmFsaWRhdGlvbk1lc3NhZ2VzOwogICAgfQogIH0sIHsKICAgIGtleTogImhhc0FueSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzQW55KCkgewogICAgICByZXR1cm4gdGhpcy5lcnJvcnMubGVuZ3RoID4gMDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJoYXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhhcyhmaWVsZElkKSB7CiAgICAgIHJldHVybiB0aGlzLmVycm9ycy5zb21lKGZ1bmN0aW9uIChfcmVmMikgewogICAgICAgIHZhciBpZCA9IF9yZWYyLmlkOwogICAgICAgIHJldHVybiBpZCA9PT0gZmllbGRJZDsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQoZmllbGRJZCkgewogICAgICBpZiAoIXRoaXMuaGFzKGZpZWxkSWQpKSB7CiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgICAgfQoKICAgICAgcmV0dXJuIGZpbmQodGhpcy5lcnJvcnMsIFsnaWQnLCBmaWVsZElkXSkubWVzc2FnZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZXNldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXQoZmllbGRJZCkgewogICAgICBpZiAodGhpcy5oYXMoZmllbGRJZCkpIHsKICAgICAgICB0aGlzLmVycm9ycyA9IHRoaXMuZXJyb3JzLmZpbHRlcihmdW5jdGlvbiAoX3JlZjMpIHsKICAgICAgICAgIHZhciBpZCA9IF9yZWYzLmlkOwogICAgICAgICAgcmV0dXJuIGlkICE9PSBmaWVsZElkOwogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLmlzVmFsaWQgPSAhdGhpcy5oYXNBbnkoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZXNldEFsbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXRBbGwoKSB7CiAgICAgIHRoaXMuZXJyb3JzID0gW107CiAgICAgIHRoaXMuaXNWYWxpZCA9IHRydWU7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gRm9ybVZhbGlkYXRpb247Cn0oKTsKCmV4cG9ydCB7IEZvcm1WYWxpZGF0aW9uIGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["/app/src/services/form/FormValidation.js"],"names":["find","FormValidation","errors","isValid","validationMessages","length","fieldId","some","id","has","undefined","message","filter","hasAny"],"mappings":";;;AAAA,OAAOA,IAAP,MAAiB,aAAjB;;IAEqBC,c;;;AACnB,4BAAc;AAAA;;AACZ,SAAKC,MAAL,GAAc,EAAd;AACA,SAAKC,OAAL,GAAe,IAAf;AACD;;;;+BAEqC;AAAA,UAA/BA,OAA+B,QAA/BA,OAA+B;AAAA,UAAtBC,kBAAsB,QAAtBA,kBAAsB;AACpC,WAAKD,OAAL,GAAeA,OAAf;AACA,WAAKD,MAAL,GAAcE,kBAAd;AACD;;;6BAEQ;AACP,aAAO,KAAKF,MAAL,CAAYG,MAAZ,GAAqB,CAA5B;AACD;;;wBAEGC,O,EAAS;AACX,aAAO,KAAKJ,MAAL,CAAYK,IAAZ,CAAiB;AAAA,YAAGC,EAAH,SAAGA,EAAH;AAAA,eAAYA,EAAE,KAAKF,OAAnB;AAAA,OAAjB,CAAP;AACD;;;wBAEGA,O,EAAS;AACX,UAAI,CAAC,KAAKG,GAAL,CAASH,OAAT,CAAL,EAAwB;AACtB,eAAOI,SAAP;AACD;;AAED,aAAOV,IAAI,CAAC,KAAKE,MAAN,EAAc,CAAC,IAAD,EAAOI,OAAP,CAAd,CAAJ,CAAmCK,OAA1C;AACD;;;0BAEKL,O,EAAS;AACb,UAAI,KAAKG,GAAL,CAASH,OAAT,CAAJ,EAAuB;AACrB,aAAKJ,MAAL,GAAc,KAAKA,MAAL,CAAYU,MAAZ,CAAmB;AAAA,cAAGJ,EAAH,SAAGA,EAAH;AAAA,iBAAYA,EAAE,KAAKF,OAAnB;AAAA,SAAnB,CAAd;AACD;;AAED,WAAKH,OAAL,GAAe,CAAC,KAAKU,MAAL,EAAhB;AACD;;;+BAEU;AACT,WAAKX,MAAL,GAAc,EAAd;AACA,WAAKC,OAAL,GAAe,IAAf;AACD;;;;;;SAtCkBF,c","sourcesContent":["import find from 'lodash/find';\n\nexport default class FormValidation {\n  constructor() {\n    this.errors = [];\n    this.isValid = true;\n  }\n\n  fill({ isValid, validationMessages }) {\n    this.isValid = isValid;\n    this.errors = validationMessages;\n  }\n\n  hasAny() {\n    return this.errors.length > 0;\n  }\n\n  has(fieldId) {\n    return this.errors.some(({ id }) => id === fieldId);\n  }\n\n  get(fieldId) {\n    if (!this.has(fieldId)) {\n      return undefined;\n    }\n\n    return find(this.errors, ['id', fieldId]).message;\n  }\n\n  reset(fieldId) {\n    if (this.has(fieldId)) {\n      this.errors = this.errors.filter(({ id }) => id !== fieldId);\n    }\n\n    this.isValid = !this.hasAny();\n  }\n\n  resetAll() {\n    this.errors = [];\n    this.isValid = true;\n  }\n}\n"]}]}