{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/eslint-loader/index.js??ref--13-0!/app/src/services/api/DetailersJobService.js","dependencies":[{"path":"/app/src/services/api/DetailersJobService.js","mtime":1683275992573},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnByb21pc2UiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgRGV0YWlsZXJzSm9iTWFwcGVyIGZyb20gJ0Avc2VydmljZXMvbWFwcGVyL0RldGFpbGVyc0pvYk1hcHBlcic7Cgp2YXIgRGV0YWlsZXJzSm9iU2VydmljZSA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIERldGFpbGVyc0pvYlNlcnZpY2UoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGV0YWlsZXJzSm9iU2VydmljZSk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoRGV0YWlsZXJzSm9iU2VydmljZSwgbnVsbCwgW3sKICAgIGtleTogImZldGNoSW5mb3JtYXRpb25hbFRyYWluaW5ncyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hJbmZvcm1hdGlvbmFsVHJhaW5pbmdzKCkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHdpbmRvdy5heGlvcy5nZXQoJy93cC1qc29uL3dwL3YyL2lmcm10bmwtdHJuZycpLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICAgIHZhciBkYXRhID0gX3JlZi5kYXRhOwogICAgICAgICAgcmV0dXJuIHJlc29sdmUoRGV0YWlsZXJzSm9iTWFwcGVyLm1hcEluZm9ybWF0aW9uYWxUcmFpbmluZ3MoZGF0YSkpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgcmV0dXJuIHJlamVjdChlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInNhdmVTdGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZVN0YXRlKF9yZWYyKSB7CiAgICAgIHZhciBpbmZvcm1hdGlvbmFsVHJhaW5pbmdJZCA9IF9yZWYyLmluZm9ybWF0aW9uYWxUcmFpbmluZ0lkLAogICAgICAgICAgcGhhcm1hY3lJZCA9IF9yZWYyLnBoYXJtYWN5SWQsCiAgICAgICAgICBkZXRhaWxlclVzZXJJZCA9IF9yZWYyLmRldGFpbGVyVXNlcklkLAogICAgICAgICAgbGFzdFF1ZXN0aW9uSWQgPSBfcmVmMi5sYXN0UXVlc3Rpb25JZDsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICB2YXIgcGF5bG9hZCA9IHsKICAgICAgICAgIGluZm9ybWF0aW9uYWxfdHJhaW5pbmdfaWQ6IGluZm9ybWF0aW9uYWxUcmFpbmluZ0lkLAogICAgICAgICAgcGhhcm1hY3lfaWQ6IHBoYXJtYWN5SWQsCiAgICAgICAgICBkZXRhaWxlcl91c2VyX2lkOiBkZXRhaWxlclVzZXJJZCwKICAgICAgICAgIGxhc3RfcXVlc3Rpb25faWQ6IGxhc3RRdWVzdGlvbklkCiAgICAgICAgfTsKICAgICAgICB3aW5kb3cuYXhpb3MucG9zdCgnL3dwLWpzb24vZGV0YWlsZXJzLWpvYi92MS9pbmZvcm1hdGlvbmFsLXRyYWluaW5ncycsIHBheWxvYWQpLnRoZW4oZnVuY3Rpb24gKF9yZWYzKSB7CiAgICAgICAgICB2YXIgZGF0YSA9IF9yZWYzLmRhdGE7CiAgICAgICAgICByZXR1cm4gcmVzb2x2ZShEZXRhaWxlcnNKb2JNYXBwZXIubWFwU2F2ZWRTdGF0ZShkYXRhKSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2xlYXJTYXZlZFN0YXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhclNhdmVkU3RhdGUoX3JlZjQpIHsKICAgICAgdmFyIGluZm9ybWF0aW9uYWxUcmFpbmluZ0lkID0gX3JlZjQuaW5mb3JtYXRpb25hbFRyYWluaW5nSWQsCiAgICAgICAgICBwaGFybWFjeUlkID0gX3JlZjQucGhhcm1hY3lJZCwKICAgICAgICAgIGRldGFpbGVyVXNlcklkID0gX3JlZjQuZGV0YWlsZXJVc2VySWQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgdmFyIHBheWxvYWQgPSB7CiAgICAgICAgICBpbmZvcm1hdGlvbmFsX3RyYWluaW5nX2lkOiBpbmZvcm1hdGlvbmFsVHJhaW5pbmdJZCwKICAgICAgICAgIHBoYXJtYWN5X2lkOiBwaGFybWFjeUlkLAogICAgICAgICAgZGV0YWlsZXJfdXNlcl9pZDogZGV0YWlsZXJVc2VySWQKICAgICAgICB9OwogICAgICAgIHdpbmRvdy5heGlvcy5kZWxldGUoJy93cC1qc29uL2RldGFpbGVycy1qb2IvdjEvaW5mb3JtYXRpb25hbC10cmFpbmluZ3MnLCBwYXlsb2FkKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiByZXNvbHZlKCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZmV0Y2hTYXZlZFN0YXRlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hTYXZlZFN0YXRlcygpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICB3aW5kb3cuYXhpb3MuZ2V0KCcvd3AtanNvbi9kZXRhaWxlcnMtam9iL3YxL2luZm9ybWF0aW9uYWwtdHJhaW5pbmdzJykudGhlbihmdW5jdGlvbiAoX3JlZjUpIHsKICAgICAgICAgIHZhciBkYXRhID0gX3JlZjUuZGF0YTsKICAgICAgICAgIHJldHVybiByZXNvbHZlKERldGFpbGVyc0pvYk1hcHBlci5tYXBTYXZlZFN0YXRlcyhkYXRhKSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gRGV0YWlsZXJzSm9iU2VydmljZTsKfSgpOwoKZXhwb3J0IHsgRGV0YWlsZXJzSm9iU2VydmljZSBhcyBkZWZhdWx0IH07"},{"version":3,"sources":["/app/src/services/api/DetailersJobService.js"],"names":["DetailersJobMapper","DetailersJobService","Promise","resolve","reject","window","axios","get","then","data","mapInformationalTrainings","catch","error","informationalTrainingId","pharmacyId","detailerUserId","lastQuestionId","payload","informational_training_id","pharmacy_id","detailer_user_id","last_question_id","post","mapSavedState","delete","mapSavedStates"],"mappings":";;;;AAAA,OAAOA,kBAAP,MAA+B,sCAA/B;;IAEqBC,mB;;;;;;;;;kDACkB;AACnC,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCC,QAAAA,MAAM,CAACC,KAAP,CAAaC,GAAb,CAAiB,6BAAjB,EACGC,IADH,CACQ;AAAA,cAAGC,IAAH,QAAGA,IAAH;AAAA,iBAAcN,OAAO,CAACH,kBAAkB,CAACU,yBAAnB,CAA6CD,IAA7C,CAAD,CAArB;AAAA,SADR,EAEGE,KAFH,CAES,UAAAC,KAAK;AAAA,iBAAIR,MAAM,CAACQ,KAAD,CAAV;AAAA,SAFd;AAGD,OAJM,CAAP;AAKD;;;qCAOE;AAAA,UAJDC,uBAIC,SAJDA,uBAIC;AAAA,UAHDC,UAGC,SAHDA,UAGC;AAAA,UAFDC,cAEC,SAFDA,cAEC;AAAA,UADDC,cACC,SADDA,cACC;AACD,aAAO,IAAId,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,YAAMa,OAAO,GAAG;AACdC,UAAAA,yBAAyB,EAAEL,uBADb;AAEdM,UAAAA,WAAW,EAAEL,UAFC;AAGdM,UAAAA,gBAAgB,EAAEL,cAHJ;AAIdM,UAAAA,gBAAgB,EAAEL;AAJJ,SAAhB;AAOAX,QAAAA,MAAM,CAACC,KAAP,CAAagB,IAAb,CAAkB,mDAAlB,EAAuEL,OAAvE,EACGT,IADH,CACQ;AAAA,cAAGC,IAAH,SAAGA,IAAH;AAAA,iBAAcN,OAAO,CAACH,kBAAkB,CAACuB,aAAnB,CAAiCd,IAAjC,CAAD,CAArB;AAAA,SADR,EAEGE,KAFH,CAES,UAAAC,KAAK;AAAA,iBAAIR,MAAM,CAACQ,KAAD,CAAV;AAAA,SAFd;AAGD,OAXM,CAAP;AAYD;;;2CAME;AAAA,UAHDC,uBAGC,SAHDA,uBAGC;AAAA,UAFDC,UAEC,SAFDA,UAEC;AAAA,UADDC,cACC,SADDA,cACC;AACD,aAAO,IAAIb,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,YAAMa,OAAO,GAAG;AACdC,UAAAA,yBAAyB,EAAEL,uBADb;AAEdM,UAAAA,WAAW,EAAEL,UAFC;AAGdM,UAAAA,gBAAgB,EAAEL;AAHJ,SAAhB;AAMAV,QAAAA,MAAM,CAACC,KAAP,CAAakB,MAAb,CAAoB,mDAApB,EAAyEP,OAAzE,EACGT,IADH,CACQ;AAAA,iBAAML,OAAO,EAAb;AAAA,SADR,EAEGQ,KAFH,CAES,UAAAC,KAAK;AAAA,iBAAIR,MAAM,CAACQ,KAAD,CAAV;AAAA,SAFd;AAGD,OAVM,CAAP;AAWD;;;uCAEyB;AACxB,aAAO,IAAIV,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCC,QAAAA,MAAM,CAACC,KAAP,CAAaC,GAAb,CAAiB,mDAAjB,EACGC,IADH,CACQ;AAAA,cAAGC,IAAH,SAAGA,IAAH;AAAA,iBAAcN,OAAO,CAACH,kBAAkB,CAACyB,cAAnB,CAAkChB,IAAlC,CAAD,CAArB;AAAA,SADR,EAEGE,KAFH,CAES,UAAAC,KAAK;AAAA,iBAAIR,MAAM,CAACQ,KAAD,CAAV;AAAA,SAFd;AAGD,OAJM,CAAP;AAKD;;;;;;SArDkBX,mB","sourcesContent":["import DetailersJobMapper from '@/services/mapper/DetailersJobMapper';\n\nexport default class DetailersJobService {\n  static fetchInformationalTrainings() {\n    return new Promise((resolve, reject) => {\n      window.axios.get('/wp-json/wp/v2/ifrmtnl-trng')\n        .then(({ data }) => resolve(DetailersJobMapper.mapInformationalTrainings(data)))\n        .catch(error => reject(error));\n    });\n  }\n\n  static saveState({\n    informationalTrainingId,\n    pharmacyId,\n    detailerUserId,\n    lastQuestionId,\n  }) {\n    return new Promise((resolve, reject) => {\n      const payload = {\n        informational_training_id: informationalTrainingId,\n        pharmacy_id: pharmacyId,\n        detailer_user_id: detailerUserId,\n        last_question_id: lastQuestionId,\n      };\n\n      window.axios.post('/wp-json/detailers-job/v1/informational-trainings', payload)\n        .then(({ data }) => resolve(DetailersJobMapper.mapSavedState(data)))\n        .catch(error => reject(error));\n    });\n  }\n\n  static clearSavedState({\n    informationalTrainingId,\n    pharmacyId,\n    detailerUserId,\n  }) {\n    return new Promise((resolve, reject) => {\n      const payload = {\n        informational_training_id: informationalTrainingId,\n        pharmacy_id: pharmacyId,\n        detailer_user_id: detailerUserId,\n      };\n\n      window.axios.delete('/wp-json/detailers-job/v1/informational-trainings', payload)\n        .then(() => resolve())\n        .catch(error => reject(error));\n    });\n  }\n\n  static fetchSavedStates() {\n    return new Promise((resolve, reject) => {\n      window.axios.get('/wp-json/detailers-job/v1/informational-trainings')\n        .then(({ data }) => resolve(DetailersJobMapper.mapSavedStates(data)))\n        .catch(error => reject(error));\n    });\n  }\n}\n"]}]}