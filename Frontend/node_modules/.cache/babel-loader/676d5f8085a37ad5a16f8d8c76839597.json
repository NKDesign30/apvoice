{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/eslint-loader/index.js??ref--13-0!/app/src/store/modules/downloads.js","dependencies":[{"path":"/app/src/store/modules/downloads.js","mtime":1683275992577},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wcm9taXNlIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKCnZhciBfbXV0YXRpb25zLCBfYWN0aW9uczsKCi8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovCmltcG9ydCBEb3dubG9hZHNTZXJ2aWNlIGZyb20gJ0Avc2VydmljZXMvYXBpL0Rvd25sb2Fkc1NlcnZpY2UnOwppbXBvcnQgeyBET1dOTE9BRFNfRkVUQ0hfQUxMLCBET1dOTE9BRFNfRkVUQ0hfT05FIH0gZnJvbSAiLi4vdHlwZXMvYWN0aW9uLXR5cGVzIjsKaW1wb3J0IHsgRE9XTkxPQURTX1VQREFURV9ET1dOTE9BRFMsIERPV05MT0FEU19VUERBVEVfQ1VSUkVOVF9ET1dOTE9BRCB9IGZyb20gIi4uL3R5cGVzL211dGF0aW9uLXR5cGVzIjsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiB7CiAgICBkb3dubG9hZHM6IFtdLAogICAgY3VycmVudERvd25sb2FkOiB7fQogIH0sCiAgbXV0YXRpb25zOiAoX211dGF0aW9ucyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgRE9XTkxPQURTX1VQREFURV9ET1dOTE9BRFMsIGZ1bmN0aW9uIChzdGF0ZSwgdXBkYXRlZERvd25sb2FkcykgewogICAgc3RhdGUuZG93bmxvYWRzID0gdXBkYXRlZERvd25sb2FkczsKICB9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIERPV05MT0FEU19VUERBVEVfQ1VSUkVOVF9ET1dOTE9BRCwgZnVuY3Rpb24gKHN0YXRlLCB1cGRhdGVkQ3VycmVudERvd25sb2FkKSB7CiAgICBzdGF0ZS5jdXJyZW50RG93bmxvYWQgPSB1cGRhdGVkQ3VycmVudERvd25sb2FkOwogIH0pLCBfbXV0YXRpb25zKSwKICBhY3Rpb25zOiAoX2FjdGlvbnMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25zLCBET1dOTE9BRFNfRkVUQ0hfQUxMLCBmdW5jdGlvbiAoX3JlZikgewogICAgdmFyIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaCwKICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdCwKICAgICAgICBzdGF0ZSA9IF9yZWYuc3RhdGU7CgogICAgaWYgKHN0YXRlLmRvd25sb2Fkcy5sZW5ndGggPT09IDApIHsKICAgICAgZGlzcGF0Y2goJ3dhaXQvc3RhcnQnLCAnZG93bmxvYWRzJywgewogICAgICAgIHJvb3Q6IHRydWUKICAgICAgfSk7CiAgICB9CgogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgRG93bmxvYWRzU2VydmljZS5mZXRjaEFsbCgpLnRoZW4oZnVuY3Rpb24gKGRvd25sb2FkcykgewogICAgICAgIGNvbW1pdChET1dOTE9BRFNfVVBEQVRFX0RPV05MT0FEUywgZG93bmxvYWRzKTsKICAgICAgICBkaXNwYXRjaCgnd2FpdC9lbmQnLCAnZG93bmxvYWRzJywgewogICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgIH0pOwogICAgICAgIHJlc29sdmUoZG93bmxvYWRzKTsKICAgICAgfSkuY2F0Y2gocmVqZWN0KTsKICAgIH0pOwogIH0pLCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIERPV05MT0FEU19GRVRDSF9PTkUsIGZ1bmN0aW9uIChfcmVmMiwgaWQpIHsKICAgIHZhciBkaXNwYXRjaCA9IF9yZWYyLmRpc3BhdGNoLAogICAgICAgIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgIGRpc3BhdGNoKCd3YWl0L3N0YXJ0JywgJ2Rvd25sb2FkJywgewogICAgICByb290OiB0cnVlCiAgICB9KTsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIERvd25sb2Fkc1NlcnZpY2UuZmV0Y2goaWQpLnRoZW4oZnVuY3Rpb24gKGRvd25sb2FkKSB7CiAgICAgICAgY29tbWl0KERPV05MT0FEU19VUERBVEVfQ1VSUkVOVF9ET1dOTE9BRCwgZG93bmxvYWQpOwogICAgICAgIGRpc3BhdGNoKCd3YWl0L2VuZCcsICdkb3dubG9hZCcsIHsKICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICB9KTsKICAgICAgICByZXNvbHZlKGRvd25sb2FkKTsKICAgICAgfSkuY2F0Y2gocmVqZWN0KTsKICAgIH0pOwogIH0pLCBfYWN0aW9ucyksCiAgZ2V0dGVyczogewogICAgZG93bmxvYWRzOiBmdW5jdGlvbiBkb3dubG9hZHMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmRvd25sb2FkczsKICAgIH0sCiAgICBjdXJyZW50RG93bmxvYWQ6IGZ1bmN0aW9uIGN1cnJlbnREb3dubG9hZChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuY3VycmVudERvd25sb2FkOwogICAgfSwKICAgIGRvd25sb2FkQnlJZDogZnVuY3Rpb24gZG93bmxvYWRCeUlkKHN0YXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoaWQpIHsKICAgICAgICByZXR1cm4gc3RhdGUuZG93bmxvYWRzLmZpbmQoZnVuY3Rpb24gKGRvd25sb2FkKSB7CiAgICAgICAgICByZXR1cm4gZG93bmxvYWQuaWQgPT09IGlkOwogICAgICAgIH0pOwogICAgICB9OwogICAgfQogIH0KfTs="},{"version":3,"sources":["/app/src/store/modules/downloads.js"],"names":["DownloadsService","DOWNLOADS_FETCH_ALL","DOWNLOADS_FETCH_ONE","DOWNLOADS_UPDATE_DOWNLOADS","DOWNLOADS_UPDATE_CURRENT_DOWNLOAD","state","downloads","currentDownload","mutations","updatedDownloads","updatedCurrentDownload","actions","dispatch","commit","length","root","Promise","resolve","reject","fetchAll","then","catch","id","fetch","download","getters","downloadById","find"],"mappings":";;;;;;;AAAA;AACA,OAAOA,gBAAP,MAA6B,iCAA7B;AACA,SACEC,mBADF,EAEEC,mBAFF;AAIA,SAASC,0BAAT,EAAqCC,iCAArC;AAEA,eAAe;AACbC,EAAAA,KAAK,EAAE;AACLC,IAAAA,SAAS,EAAE,EADN;AAELC,IAAAA,eAAe,EAAE;AAFZ,GADM;AAMbC,EAAAA,SAAS,gDACNL,0BADM,YACsBE,KADtB,EAC6BI,gBAD7B,EAC+C;AACpDJ,IAAAA,KAAK,CAACC,SAAN,GAAkBG,gBAAlB;AACD,GAHM,+BAINL,iCAJM,YAI6BC,KAJ7B,EAIoCK,sBAJpC,EAI4D;AACjEL,IAAAA,KAAK,CAACE,eAAN,GAAwBG,sBAAxB;AACD,GANM,cANI;AAebC,EAAAA,OAAO,4CACJV,mBADI,kBAC8C;AAAA,QAA3BW,QAA2B,QAA3BA,QAA2B;AAAA,QAAjBC,MAAiB,QAAjBA,MAAiB;AAAA,QAATR,KAAS,QAATA,KAAS;;AACjD,QAAIA,KAAK,CAACC,SAAN,CAAgBQ,MAAhB,KAA2B,CAA/B,EAAkC;AAChCF,MAAAA,QAAQ,CAAC,YAAD,EAAe,WAAf,EAA4B;AAAEG,QAAAA,IAAI,EAAE;AAAR,OAA5B,CAAR;AACD;;AAED,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtClB,MAAAA,gBAAgB,CAACmB,QAAjB,GACGC,IADH,CACQ,UAAAd,SAAS,EAAI;AACjBO,QAAAA,MAAM,CAACV,0BAAD,EAA6BG,SAA7B,CAAN;AACAM,QAAAA,QAAQ,CAAC,UAAD,EAAa,WAAb,EAA0B;AAAEG,UAAAA,IAAI,EAAE;AAAR,SAA1B,CAAR;AACAE,QAAAA,OAAO,CAACX,SAAD,CAAP;AACD,OALH,EAKKe,KALL,CAKWH,MALX;AAMD,KAPM,CAAP;AAQD,GAdI,6BAeJhB,mBAfI,mBAeuCoB,EAfvC,EAe2C;AAAA,QAAxBV,QAAwB,SAAxBA,QAAwB;AAAA,QAAdC,MAAc,SAAdA,MAAc;AAC9CD,IAAAA,QAAQ,CAAC,YAAD,EAAe,UAAf,EAA2B;AAAEG,MAAAA,IAAI,EAAE;AAAR,KAA3B,CAAR;AAEA,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtClB,MAAAA,gBAAgB,CAACuB,KAAjB,CAAuBD,EAAvB,EACGF,IADH,CACQ,UAAAI,QAAQ,EAAI;AAChBX,QAAAA,MAAM,CAACT,iCAAD,EAAoCoB,QAApC,CAAN;AACAZ,QAAAA,QAAQ,CAAC,UAAD,EAAa,UAAb,EAAyB;AAAEG,UAAAA,IAAI,EAAE;AAAR,SAAzB,CAAR;AACAE,QAAAA,OAAO,CAACO,QAAD,CAAP;AACD,OALH,EAKKH,KALL,CAKWH,MALX;AAMD,KAPM,CAAP;AAQD,GA1BI,YAfM;AA4CbO,EAAAA,OAAO,EAAE;AACPnB,IAAAA,SADO,qBACGD,KADH,EACU;AACf,aAAOA,KAAK,CAACC,SAAb;AACD,KAHM;AAIPC,IAAAA,eAJO,2BAISF,KAJT,EAIgB;AACrB,aAAOA,KAAK,CAACE,eAAb;AACD,KANM;AAOPmB,IAAAA,YAPO,wBAOMrB,KAPN,EAOa;AAClB,aAAO,UAAAiB,EAAE;AAAA,eAAIjB,KAAK,CAACC,SAAN,CAAgBqB,IAAhB,CAAqB,UAAAH,QAAQ;AAAA,iBAAIA,QAAQ,CAACF,EAAT,KAAgBA,EAApB;AAAA,SAA7B,CAAJ;AAAA,OAAT;AACD;AATM;AA5CI,CAAf","sourcesContent":["/* eslint-disable no-param-reassign */\nimport DownloadsService from '@/services/api/DownloadsService';\nimport {\n  DOWNLOADS_FETCH_ALL,\n  DOWNLOADS_FETCH_ONE,\n} from '../types/action-types';\nimport { DOWNLOADS_UPDATE_DOWNLOADS, DOWNLOADS_UPDATE_CURRENT_DOWNLOAD } from '../types/mutation-types';\n\nexport default {\n  state: {\n    downloads: [],\n    currentDownload: {},\n  },\n\n  mutations: {\n    [DOWNLOADS_UPDATE_DOWNLOADS](state, updatedDownloads) {\n      state.downloads = updatedDownloads;\n    },\n    [DOWNLOADS_UPDATE_CURRENT_DOWNLOAD](state, updatedCurrentDownload) {\n      state.currentDownload = updatedCurrentDownload;\n    },\n  },\n\n  actions: {\n    [DOWNLOADS_FETCH_ALL]({ dispatch, commit, state }) {\n      if (state.downloads.length === 0) {\n        dispatch('wait/start', 'downloads', { root: true });\n      }\n\n      return new Promise((resolve, reject) => {\n        DownloadsService.fetchAll()\n          .then(downloads => {\n            commit(DOWNLOADS_UPDATE_DOWNLOADS, downloads);\n            dispatch('wait/end', 'downloads', { root: true });\n            resolve(downloads);\n          }).catch(reject);\n      });\n    },\n    [DOWNLOADS_FETCH_ONE]({ dispatch, commit }, id) {\n      dispatch('wait/start', 'download', { root: true });\n\n      return new Promise((resolve, reject) => {\n        DownloadsService.fetch(id)\n          .then(download => {\n            commit(DOWNLOADS_UPDATE_CURRENT_DOWNLOAD, download);\n            dispatch('wait/end', 'download', { root: true });\n            resolve(download);\n          }).catch(reject);\n      });\n    },\n  },\n\n  getters: {\n    downloads(state) {\n      return state.downloads;\n    },\n    currentDownload(state) {\n      return state.currentDownload;\n    },\n    downloadById(state) {\n      return id => state.downloads.find(download => download.id === id);\n    },\n  },\n};\n"]}]}