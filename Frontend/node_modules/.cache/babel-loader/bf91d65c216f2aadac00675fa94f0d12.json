{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/components/detailers-job/InformationalTrainingTeaser.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/src/components/detailers-job/InformationalTrainingTeaser.vue","mtime":1683275992558},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGluZm9ybWF0aW9uYWxUcmFpbmluZzogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge30KICAgIH0sCiAgICBwaGFybWFjeTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge30KICAgIH0KICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSh7CiAgICBzYXZlZFN0YXRlczogZnVuY3Rpb24gc2F2ZWRTdGF0ZXMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmRldGFpbGVyc0pvYi5zYXZlZFN0YXRlczsKICAgIH0KICB9KSwgewogICAgc2F2ZWRTdGF0ZTogZnVuY3Rpb24gc2F2ZWRTdGF0ZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiB0aGlzLnNhdmVkU3RhdGVzLmZpbmQoZnVuY3Rpb24gKHN0YXRlKSB7CiAgICAgICAgcmV0dXJuIHN0YXRlLmluZm9ybWF0aW9uYWxUcmFpbmluZ0lkID09PSBfdGhpcy5pbmZvcm1hdGlvbmFsVHJhaW5pbmcuaWQgJiYgc3RhdGUucGhhcm1hY3lJZCA9PT0gX3RoaXMucGhhcm1hY3kuaWQ7CiAgICAgIH0pOwogICAgfSwKICAgIGhhc1NhdmVkU3RhdGU6IGZ1bmN0aW9uIGhhc1NhdmVkU3RhdGUoKSB7CiAgICAgIHJldHVybiB0aGlzLnNhdmVkU3RhdGUgIT09IHVuZGVmaW5lZDsKICAgIH0sCiAgICBzYXZlZFN0YXRlU3RlcDogZnVuY3Rpb24gc2F2ZWRTdGF0ZVN0ZXAoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLmhhc1NhdmVkU3RhdGUpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQoKICAgICAgdmFyIHF1ZXN0aW9uSW5kZXggPSB0aGlzLmluZm9ybWF0aW9uYWxUcmFpbmluZy5xdWVzdGlvbnMuZmluZEluZGV4KGZ1bmN0aW9uIChxdWVzdGlvbikgewogICAgICAgIHJldHVybiBxdWVzdGlvbi5pZCA9PT0gX3RoaXMyLnNhdmVkU3RhdGUubGFzdFF1ZXN0aW9uSWQ7CiAgICAgIH0pOwogICAgICByZXR1cm4gcXVlc3Rpb25JbmRleCArIDE7CiAgICB9LAogICAgdG90YWxTdGVwczogZnVuY3Rpb24gdG90YWxTdGVwcygpIHsKICAgICAgcmV0dXJuIHRoaXMuaW5mb3JtYXRpb25hbFRyYWluaW5nLnF1ZXN0aW9ucy5sZW5ndGg7CiAgICB9LAogICAgaXNPbmVTdGVwTGVmdDogZnVuY3Rpb24gaXNPbmVTdGVwTGVmdCgpIHsKICAgICAgaWYgKCF0aGlzLmhhc1NhdmVkU3RhdGUpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLnNhdmVkU3RhdGVTdGVwID09PSB0aGlzLnRvdGFsU3RlcHMgLSAxOwogICAgfSwKICAgIGlzRmluaXNoZWQ6IGZ1bmN0aW9uIGlzRmluaXNoZWQoKSB7CiAgICAgIGlmICghdGhpcy5oYXNTYXZlZFN0YXRlKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5zYXZlZFN0YXRlU3RlcCA9PT0gdGhpcy50b3RhbFN0ZXBzOwogICAgfSwKICAgIGJ1dHRvblRleHQ6IGZ1bmN0aW9uIGJ1dHRvblRleHQoKSB7CiAgICAgIGlmICh0aGlzLmlzRmluaXNoZWQpIHsKICAgICAgICByZXR1cm4gdGhpcy4kdCgnZGV0YWlsZXJzSm9iLmJ1dHRvbnMubG9va3VwJyk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmlzT25lU3RlcExlZnQpIHsKICAgICAgICByZXR1cm4gdGhpcy4kdCgnZGV0YWlsZXJzSm9iLmJ1dHRvbnMuZmluaXNoJyk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLiR0KCdkZXRhaWxlcnNKb2IuYnV0dG9ucy5zdGFydCcpOwogICAgfQogIH0pLAogIG1ldGhvZHM6IHsKICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydCgpIHsKICAgICAgdmFyIHRyYWluaW5nVXJsID0gIi9kZXRhaWxlcnMtam9iL3RyYWluaW5nLyIuY29uY2F0KHRoaXMuaW5mb3JtYXRpb25hbFRyYWluaW5nLmlkLCAiLyIpLmNvbmNhdCh0aGlzLnBoYXJtYWN5LmlkKTsKCiAgICAgIGlmICh0aGlzLmhhc1NhdmVkU3RhdGUgJiYgIXRoaXMuaXNGaW5pc2hlZCkgewogICAgICAgIHRyYWluaW5nVXJsICs9ICIvIi5jb25jYXQodGhpcy5zYXZlZFN0YXRlLmxhc3RRdWVzdGlvbklkKTsKICAgICAgfQoKICAgICAgdGhpcy4kcm91dGVyLnB1c2godHJhaW5pbmdVcmwpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["InformationalTrainingTeaser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,SAAA,QAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,qBAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA,oBAAA,CAAA;AAFA,KADA;AAMA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA,oBAAA,CAAA;AAFA;AANA,GADA;AAaA,EAAA,QAAA,oBACA,QAAA,CAAA;AACA,IAAA,WAAA,EAAA,qBAAA,KAAA;AAAA,aAAA,KAAA,CAAA,YAAA,CAAA,WAAA;AAAA;AADA,GAAA,CADA;AAKA,IAAA,UALA,wBAKA;AAAA;;AACA,aAAA,KAAA,WAAA,CAAA,IAAA,CAAA,UAAA,KAAA;AAAA,eAAA,KAAA,CAAA,uBAAA,KAAA,KAAA,CAAA,qBAAA,CAAA,EAAA,IAAA,KAAA,CAAA,UAAA,KAAA,KAAA,CAAA,QAAA,CAAA,EAAA;AAAA,OAAA,CAAA;AACA,KAPA;AASA,IAAA,aATA,2BASA;AACA,aAAA,KAAA,UAAA,KAAA,SAAA;AACA,KAXA;AAaA,IAAA,cAbA,4BAaA;AAAA;;AACA,UAAA,CAAA,KAAA,aAAA,EAAA;AACA,eAAA,IAAA;AACA;;AAEA,UAAA,aAAA,GAAA,KAAA,qBAAA,CAAA,SAAA,CAAA,SAAA,CAAA,UAAA,QAAA;AAAA,eAAA,QAAA,CAAA,EAAA,KAAA,MAAA,CAAA,UAAA,CAAA,cAAA;AAAA,OAAA,CAAA;AAEA,aAAA,aAAA,GAAA,CAAA;AACA,KArBA;AAuBA,IAAA,UAvBA,wBAuBA;AACA,aAAA,KAAA,qBAAA,CAAA,SAAA,CAAA,MAAA;AACA,KAzBA;AA2BA,IAAA,aA3BA,2BA2BA;AACA,UAAA,CAAA,KAAA,aAAA,EAAA;AACA,eAAA,KAAA;AACA;;AAEA,aAAA,KAAA,cAAA,KAAA,KAAA,UAAA,GAAA,CAAA;AACA,KAjCA;AAmCA,IAAA,UAnCA,wBAmCA;AACA,UAAA,CAAA,KAAA,aAAA,EAAA;AACA,eAAA,KAAA;AACA;;AAEA,aAAA,KAAA,cAAA,KAAA,KAAA,UAAA;AACA,KAzCA;AA2CA,IAAA,UA3CA,wBA2CA;AACA,UAAA,KAAA,UAAA,EAAA;AACA,eAAA,KAAA,EAAA,CAAA,6BAAA,CAAA;AACA;;AAEA,UAAA,KAAA,aAAA,EAAA;AACA,eAAA,KAAA,EAAA,CAAA,6BAAA,CAAA;AACA;;AAEA,aAAA,KAAA,EAAA,CAAA,4BAAA,CAAA;AACA;AArDA,IAbA;AAqEA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,UAAA,WAAA,qCAAA,KAAA,qBAAA,CAAA,EAAA,cAAA,KAAA,QAAA,CAAA,EAAA,CAAA;;AAEA,UAAA,KAAA,aAAA,IAAA,CAAA,KAAA,UAAA,EAAA;AACA,QAAA,WAAA,eAAA,KAAA,UAAA,CAAA,cAAA,CAAA;AACA;;AAEA,WAAA,OAAA,CAAA,IAAA,CAAA,WAAA;AACA;AATA;AArEA,CAAA","sourcesContent":["<template>\n  <div class=\"informational-training-teaser p-4 flex flex-wrap bg-gray-300\">\n    <div class=\"flex flex-1\">\n      <div class=\"flex items-center\">\n        <apo-icon\n          class=\"w-12 text-blue-700\"\n          src=\"training\"\n        />\n      </div>\n      <div\n        class=\"mx-12 flex items-center flex-1 headline-4\"\n        v-html=\"$options.filters.formatContent(informationalTraining.title)\"\n      />\n    </div>\n    <div class=\"mt-6 tablet:mt-0 w-full tablet:w-48 flex flex-col justify-center items-center tablet:items-end\">\n      <apo-button\n        class=\"action-button button button--tiny\"\n        @click.native=\"start\"\n        v-text=\"buttonText\"\n      />\n      <template v-if=\"hasSavedState\">\n        <small\n          v-if=\"isFinished\"\n          class=\"mt-2 italic\"\n          v-text=\"$t('detailersJob.isFinished')\"\n        />\n        <small\n          v-else\n          class=\"mt-2 italic\"\n          v-text=\"$t('detailersJob.lastSavedStep', { step: savedStateStep, totalSteps })\"\n        />\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport { mapState } from 'vuex';\n\nexport default {\n  props: {\n    informationalTraining: {\n      type: Object,\n      default: () => {},\n    },\n\n    pharmacy: {\n      type: Object,\n      default: () => {},\n    },\n  },\n\n  computed: {\n    ...mapState({\n      savedStates: state => state.detailersJob.savedStates,\n    }),\n\n    savedState() {\n      return this.savedStates.find(state => state.informationalTrainingId === this.informationalTraining.id && state.pharmacyId === this.pharmacy.id);\n    },\n\n    hasSavedState() {\n      return this.savedState !== undefined;\n    },\n\n    savedStateStep() {\n      if (!this.hasSavedState) {\n        return null;\n      }\n\n      const questionIndex = this.informationalTraining.questions.findIndex(question => question.id === this.savedState.lastQuestionId);\n\n      return questionIndex + 1;\n    },\n\n    totalSteps() {\n      return this.informationalTraining.questions.length;\n    },\n\n    isOneStepLeft() {\n      if (!this.hasSavedState) {\n        return false;\n      }\n\n      return this.savedStateStep === this.totalSteps - 1;\n    },\n\n    isFinished() {\n      if (!this.hasSavedState) {\n        return false;\n      }\n\n      return this.savedStateStep === this.totalSteps;\n    },\n\n    buttonText() {\n      if (this.isFinished) {\n        return this.$t('detailersJob.buttons.lookup');\n      }\n\n      if (this.isOneStepLeft) {\n        return this.$t('detailersJob.buttons.finish');\n      }\n\n      return this.$t('detailersJob.buttons.start');\n    },\n  },\n\n  methods: {\n    start() {\n      let trainingUrl = `/detailers-job/training/${this.informationalTraining.id}/${this.pharmacy.id}`;\n\n      if (this.hasSavedState && !this.isFinished) {\n        trainingUrl += `/${this.savedState.lastQuestionId}`;\n      }\n\n      this.$router.push(trainingUrl);\n    },\n  },\n};\n\n</script>\n\n<style lang=\"scss\" scoped>\n\n.action-button {\n  @apply shadow-hard-dark;\n  @apply text-blue-600;\n  @apply bg-white #{!important};\n  @apply py-2 #{!important};\n  @apply px-12 #{!important};\n\n  &:hover {\n    @apply bg-gray-100 #{!important};\n  }\n}\n\n</style>\n"],"sourceRoot":"src/components/detailers-job"}]}