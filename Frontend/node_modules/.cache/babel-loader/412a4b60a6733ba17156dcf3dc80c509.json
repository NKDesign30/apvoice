{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/eslint-loader/index.js??ref--13-0!/app/src/services/mapper/FormMapper.js","dependencies":[{"path":"/app/src/services/mapper/FormMapper.js","mtime":1683275992575},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IGZpbmQgZnJvbSAnbG9kYXNoL2ZpbmQnOwppbXBvcnQgZmluZEluZGV4IGZyb20gJ2xvZGFzaC9maW5kSW5kZXgnOwppbXBvcnQgZ2V0IGZyb20gJ2xvZGFzaC9nZXQnOwppbXBvcnQgZ3JvdXBCeSBmcm9tICdsb2Rhc2gvZ3JvdXBCeSc7CmltcG9ydCBrZXlzIGZyb20gJ2xvZGFzaC9rZXlzJzsKaW1wb3J0IHBpY2tCeSBmcm9tICdsb2Rhc2gvcGlja0J5JzsKaW1wb3J0IHRyYW5zZm9ybSBmcm9tICdsb2Rhc2gvdHJhbnNmb3JtJzsKaW1wb3J0IHsgc3RyaXBIb3N0bmFtZUZyb21VcmwgfSBmcm9tICdAL3NlcnZpY2VzL3V0aWxzJzsKCnZhciBGb3JtTWFwcGVyID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gRm9ybU1hcHBlcigpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGb3JtTWFwcGVyKTsKICB9CgogIF9jcmVhdGVDbGFzcyhGb3JtTWFwcGVyLCBudWxsLCBbewogICAga2V5OiAibWFwRm9ybSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwRm9ybShkYXRhKSB7CiAgICAgIHZhciBmb3JtID0gewogICAgICAgIGlkOiBTdHJpbmcoZ2V0KGRhdGEsICdpZCcsICcnKSksCiAgICAgICAgdGl0bGU6IGdldChkYXRhLCAndGl0bGUnLCAnJyksCiAgICAgICAgZGVzY3JpcHRpb246IGdldChkYXRhLCAnZGVzY3JpcHRpb24nLCAnJyksCiAgICAgICAgbWV0YTogRm9ybU1hcHBlci5tYXBGb3JtTWV0YShkYXRhKSwKICAgICAgICBzdWJtaXRCdXR0b25UZXh0OiBnZXQoZGF0YSwgJ2J1dHRvbi50ZXh0JywgJ1N1Ym1pdCcpLAogICAgICAgIGlzTXVsdGlQYWdlRm9ybTogZ2V0KGRhdGEsICdwYWdpbmF0aW9uJykgIT09IG51bGwsCiAgICAgICAgaXNBY3RpdmU6IHBhcnNlSW50KGdldChkYXRhLCAnaXNfYWN0aXZlJywgJzAnKSwgMTApID09PSAxCiAgICAgIH07CgogICAgICBpZiAoZm9ybS5pc011bHRpUGFnZUZvcm0pIHsKICAgICAgICBmb3JtLmZpZWxkcyA9IEZvcm1NYXBwZXIubWFwTXVsdGlQYWdlRm9ybUZpZWxkcyhkYXRhKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBmb3JtLmZpZWxkcyA9IEZvcm1NYXBwZXIubWFwRmllbGRzKGRhdGEuZmllbGRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZvcm07CiAgICB9CiAgfSwgewogICAga2V5OiAibWFwTXVsdGlQYWdlRm9ybUZpZWxkcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwTXVsdGlQYWdlRm9ybUZpZWxkcyhkYXRhKSB7CiAgICAgIHZhciBmaWVsZHMgPSBkYXRhLmZpZWxkcyB8fCBbXTsKICAgICAgdmFyIGZpZWxkc0dyb3VwZWRCeVBhZ2VOdW1iZXIgPSBncm91cEJ5KGZpZWxkcywgZnVuY3Rpb24gKGZpZWxkKSB7CiAgICAgICAgcmV0dXJuIGZpZWxkLnBhZ2VOdW1iZXI7CiAgICAgIH0pOwogICAgICByZXR1cm4gdHJhbnNmb3JtKGZpZWxkc0dyb3VwZWRCeVBhZ2VOdW1iZXIsIGZ1bmN0aW9uIChyZXN1bHQsIHBhZ2VGaWVsZHMsIHBhZ2VOdW1iZXIpIHsKICAgICAgICB2YXIgcGFnZUZpZWxkID0gZmluZChwYWdlRmllbGRzLCBbJ3R5cGUnLCAncGFnZSddKTsKICAgICAgICB2YXIgcGFnZSA9IHsKICAgICAgICAgIHBhZ2VOdW1iZXI6IHBhZ2VOdW1iZXIsCiAgICAgICAgICBuZXh0QnV0dG9uOiB7CiAgICAgICAgICAgIHRleHQ6IGdldChkYXRhLCAnYnV0dG9uLnRleHQnLCAnU3VibWl0JykKICAgICAgICAgIH0sCiAgICAgICAgICBwcmV2aW91c0J1dHRvbjogbnVsbCwKICAgICAgICAgIGZpZWxkczogW10KICAgICAgICB9OwoKICAgICAgICBpZiAocGFnZUZpZWxkICYmIHBhZ2VOdW1iZXIgIT09ICcxJykgewogICAgICAgICAgcGFnZS5uZXh0QnV0dG9uLnRleHQgPSBnZXQocGFnZUZpZWxkLCAnbmV4dEJ1dHRvbi50ZXh0Jyk7CiAgICAgICAgICBwYWdlLnByZXZpb3VzQnV0dG9uID0gewogICAgICAgICAgICB0ZXh0OiBnZXQocGFnZUZpZWxkLCAncHJldmlvdXNCdXR0b24udGV4dCcpCiAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgICAgcGFnZS5maWVsZHMgPSBGb3JtTWFwcGVyLm1hcEZpZWxkcyhwYWdlRmllbGRzKTsKICAgICAgICByZXN1bHQucHVzaChwYWdlKTsKICAgICAgfSwgW10pOwogICAgfQogIH0sIHsKICAgIGtleTogIm1hcEZpZWxkcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwRmllbGRzKGZpZWxkc0RhdGEpIHsKICAgICAgdmFyIHNraXAgPSBbJ3BhZ2UnXTsKICAgICAgcmV0dXJuIGZpZWxkc0RhdGEuZmlsdGVyKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIHNraXAuaW5kZXhPZihkYXRhLnR5cGUpID09PSAtMTsKICAgICAgfSkubWFwKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIEZvcm1NYXBwZXIubWFwRmllbGQoZGF0YSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImZpbmRQYWdlRmllbGRJbmRpY2VzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmaW5kUGFnZUZpZWxkSW5kaWNlcyhmaWVsZHMpIHsKICAgICAgcmV0dXJuIGtleXMocGlja0J5KGZpZWxkcywgewogICAgICAgIHR5cGU6ICdwYWdlJwogICAgICB9KSk7CiAgICB9CiAgfSwgewogICAga2V5OiAibWFwRm9ybU1ldGEiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1hcEZvcm1NZXRhKGRhdGEpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBsYWJlbFBsYWNlbWVudDogRm9ybU1hcHBlci5wYXJzZUxhYmVsUGxhY2VtZW50KGdldChkYXRhLCAnbGFiZWxfcGxhY2VtZW50JywgJycpKSwKICAgICAgICBzdWJMYWJlbFBsYWNlbWVudDogRm9ybU1hcHBlci5wYXJzZUxhYmVsUGxhY2VtZW50KGdldChkYXRhLCAnc3ViTGFiZWxQbGFjZW1lbnQnLCAnJykpLAogICAgICAgIGRlc2NyaXB0aW9uUGxhY2VtZW50OiBnZXQoZGF0YSwgJ2Rlc2NyaXB0aW9uUGxhY2VtZW50JywgJ2JlbG93JyksCiAgICAgICAgc3VibWlzc2lvblVybDogIi93cC1qc29uL2dmL3YyL2Zvcm1zLyIuY29uY2F0KGdldChkYXRhLCAnaWQnLCAnJyksICIvc3VibWlzc2lvbnMiKQogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogIm1hcEZpZWxkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBGaWVsZChkYXRhKSB7CiAgICAgIHZhciBmaWVsZCA9IHsKICAgICAgICB0eXBlOiBnZXQoZGF0YSwgJ3R5cGUnLCAnJyksCiAgICAgICAgaWQ6IFN0cmluZyhnZXQoZGF0YSwgJ2lkJywgJycpKSwKICAgICAgICBsYWJlbDogZ2V0KGRhdGEsICdsYWJlbCcsICcnKSwKICAgICAgICBlcnJvck1lc3NhZ2U6IGdldChkYXRhLCAnZXJyb3JNZXNzYWdlJywgJycpLAogICAgICAgIGlzVmlzaWJsZTogZ2V0KGRhdGEsICd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKSA9PT0gJ3Zpc2libGUnLAogICAgICAgIGRlc2NyaXB0aW9uOiBnZXQoZGF0YSwgJ2Rlc2NyaXB0aW9uJywgJycpLAogICAgICAgIGRlc2NyaXB0aW9uUGxhY2VtZW50OiBnZXQoZGF0YSwgJ2Rlc2NyaXB0aW9uUGxhY2VtZW50JywgJ2JlbG93JyksCiAgICAgICAgc3ViTGFiZWxQbGFjZW1lbnQ6IEZvcm1NYXBwZXIucGFyc2VMYWJlbFBsYWNlbWVudChnZXQoZGF0YSwgJ3N1YkxhYmVsUGxhY2VtZW50JywgJycpKSwKICAgICAgICBwbGFjZWhvbGRlcjogZ2V0KGRhdGEsICdwbGFjZWhvbGRlcicsICcnKSwKICAgICAgICBjc3NDbGFzczogZ2V0KGRhdGEsICdjc3NDbGFzcycsICcnKSwKICAgICAgICBkZWZhdWx0VmFsdWU6IGdldChkYXRhLCAnZGVmYXVsdFZhbHVlJywgJycpLAogICAgICAgIGlzRGlzcGxheU9ubHk6IGdldChkYXRhLCAnZGlzcGxheU9ubHknLCBmYWxzZSkgPT09IHRydWUsCiAgICAgICAgaXNSZXF1aXJlZDogZ2V0KGRhdGEsICdpc1JlcXVpcmVkJywgZmFsc2UpLAogICAgICAgIHBhc3N3b3JkRGV0YWlsczogZ2V0KGRhdGEsICdwYXNzd29yZFN0cmVuZ3RoRW5hYmxlZCcsIGZhbHNlKSwKICAgICAgICBzaXplOiBnZXQoZGF0YSwgJ3NpemUnLCAnbWVkaXVtJyksCiAgICAgICAgbGFiZWxQbGFjZW1lbnQ6IEZvcm1NYXBwZXIucGFyc2VMYWJlbFBsYWNlbWVudChnZXQoZGF0YSwgJ2xhYmVsUGxhY2VtZW50JywgJ3RvcCcpKQogICAgICB9OwogICAgICBmaWVsZC5pbnB1dHMgPSBGb3JtTWFwcGVyLm1hcEZpZWxkSW5wdXRzKGRhdGEsIGZpZWxkKTsKICAgICAgcmV0dXJuIGZpZWxkOwogICAgfQogIH0sIHsKICAgIGtleTogIm1hcEZpZWxkSW5wdXRzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBGaWVsZElucHV0cyhkYXRhLCBmaWVsZCkgewogICAgICAvLyBJZiB0aGUgZmllbGQgaGFzIG5vIHN1Yi1pbnB1dHMsIGNyZWF0ZSBhbiBpbnB1dAogICAgICAvLyBmcm9tIHRoZSBhbHJlYWR5IG1hcHBlZCBmaWVsZAogICAgICBpZiAoZ2V0KGRhdGEsICdpbnB1dHMnLCBudWxsKSA9PT0gbnVsbCkgewogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnbgogICAgICAgIGRhdGEuaW5wdXRzID0gW0Zvcm1NYXBwZXIuY3JlYXRlRmllbGRJbnB1dChmaWVsZCldOwogICAgICB9CgogICAgICByZXR1cm4gZGF0YS5pbnB1dHMubWFwKGZ1bmN0aW9uIChpbnB1dERhdGEpIHsKICAgICAgICByZXR1cm4gRm9ybU1hcHBlci5tYXBGaWVsZElucHV0KGlucHV0RGF0YSwgZGF0YSwgZmllbGQpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjcmVhdGVGaWVsZElucHV0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVGaWVsZElucHV0KGZpZWxkKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaWQ6IGZpZWxkLmlkLAogICAgICAgIGxhYmVsOiAnJwogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogIm1hcEZpZWxkSW5wdXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1hcEZpZWxkSW5wdXQoaW5wdXREYXRhLCBkYXRhLCBmaWVsZCkgewogICAgICB2YXIgZmllbGRJbnB1dCA9IHsKICAgICAgICBpZDogZ2V0KGlucHV0RGF0YSwgJ2lkJywgJycpLAogICAgICAgIGxhYmVsOiBnZXQoaW5wdXREYXRhLCAnbGFiZWwnLCAnJyksCiAgICAgICAgY3VzdG9tTGFiZWw6IGdldChpbnB1dERhdGEsICdjdXN0b21MYWJlbCcsICcnKSwKICAgICAgICBwbGFjZWhvbGRlcjogZ2V0KGlucHV0RGF0YSwgJ3BsYWNlaG9sZGVyJywgJycpLAogICAgICAgIHZhbHVlOiBmaWVsZC5kZWZhdWx0VmFsdWUgfHwgJycsCiAgICAgICAgbWV0YTogRm9ybU1hcHBlci5tYXBGaWVsZElucHV0TWV0YShpbnB1dERhdGEsIGRhdGEsIGZpZWxkKQogICAgICB9OyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVmYXVsdC1jYXNlCgogICAgICBzd2l0Y2ggKGZpZWxkLnR5cGUpIHsKICAgICAgICBjYXNlICdzZWxlY3QnOgogICAgICAgICAgZmllbGRJbnB1dC52YWx1ZSA9IGdldChmaW5kKGRhdGEuY2hvaWNlcywgWydpc1NlbGVjdGVkJywgdHJ1ZV0pLCAndmFsdWUnLCAnJyk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnbXVsdGlzZWxlY3QnOgogICAgICAgICAgZmllbGRJbnB1dC52YWx1ZSA9IGRhdGEuY2hvaWNlcy5maWx0ZXIoZnVuY3Rpb24gKGNob2ljZSkgewogICAgICAgICAgICByZXR1cm4gY2hvaWNlLmlzU2VsZWN0ZWQ7CiAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICAgICAgdmFyIHZhbHVlID0gX3JlZi52YWx1ZTsKICAgICAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICAgICAgfSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnY2hlY2tib3gnOgogICAgICAgICAgZmllbGRJbnB1dC5sYWJlbCA9IGZpZWxkSW5wdXQuY3VzdG9tTGFiZWwgfHwgJyc7CiAgICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgcmV0dXJuIGZpZWxkSW5wdXQ7CiAgICB9CiAgfSwgewogICAga2V5OiAibWFwRmllbGRJbnB1dE1ldGEiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1hcEZpZWxkSW5wdXRNZXRhKGlucHV0RGF0YSwgZGF0YSwgZmllbGQpIHsKICAgICAgc3dpdGNoIChmaWVsZC50eXBlKSB7CiAgICAgICAgY2FzZSAndGV4dCc6CiAgICAgICAgY2FzZSAndGV4dGFyZWEnOgogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbWF4TGVuZ3RoOiBnZXQoZGF0YSwgJ21heExlbmd0aCcsICcnKQogICAgICAgICAgfTsKCiAgICAgICAgY2FzZSAnc2VsZWN0JzoKICAgICAgICBjYXNlICdtdWx0aXNlbGVjdCc6CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBvcHRpb25zOiBkYXRhLmNob2ljZXMubWFwKGZ1bmN0aW9uIChjaG9pY2UpIHsKICAgICAgICAgICAgICByZXR1cm4gRm9ybU1hcHBlci5tYXBDaG9pY2UoY2hvaWNlKTsKICAgICAgICAgICAgfSkKICAgICAgICAgIH07CgogICAgICAgIGNhc2UgJ2h0bWwnOgogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgY29udGVudDogZ2V0KGRhdGEsICdjb250ZW50JywgJycpCiAgICAgICAgICB9OwoKICAgICAgICBjYXNlICdjaGVja2JveCc6CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBjaG9pY2U6IEZvcm1NYXBwZXIubWFwQ2hvaWNlKGRhdGEuY2hvaWNlc1tmaW5kSW5kZXgoZGF0YS5pbnB1dHMsIFsnaWQnLCBpbnB1dERhdGEuaWRdKV0pCiAgICAgICAgICB9OwoKICAgICAgICBjYXNlICdyYWRpbyc6CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBjaG9pY2VzOiBkYXRhLmNob2ljZXMubWFwKGZ1bmN0aW9uIChjaG9pY2UpIHsKICAgICAgICAgICAgICByZXR1cm4gRm9ybU1hcHBlci5tYXBDaG9pY2UoY2hvaWNlKTsKICAgICAgICAgICAgfSkKICAgICAgICAgIH07CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJtYXBDaG9pY2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1hcENob2ljZShkYXRhKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaXNTZWxlY3RlZDogZ2V0KGRhdGEsICdpc1NlbGVjdGVkJywgZmFsc2UpLAogICAgICAgIHRleHQ6IGdldChkYXRhLCAndGV4dCcsICcnKSwKICAgICAgICB2YWx1ZTogZ2V0KGRhdGEsICd2YWx1ZScsICcnKQogICAgICB9OwogICAgfSAvLyBQb3NzaWJsZSB2YWx1ZXMgY2FuIGJlICd0b3BfbGFiZWwnLCAnYm90dG9tX2xhYmVsJywgJ2hpZGRlbl9sYWJlbCcKICAgIC8vIHdoZXJlIHdlIGFyZSBtb3N0IGludGVyZXN0ZWQgaW4gdGhlICdoaWRkZW4nIHBsYWNlbWVudCBpbiBvcmRlciB0bwogICAgLy8gaGlkZSB0aGUgZm9ybSBsYWJlbC4KCiAgfSwgewogICAga2V5OiAicGFyc2VMYWJlbFBsYWNlbWVudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcGFyc2VMYWJlbFBsYWNlbWVudChwbGFjZW1lbnQpIHsKICAgICAgdmFyIG1hdGNoZXMgPSBwbGFjZW1lbnQubWF0Y2goLyhcdyspX2xhYmVsJC8pOwogICAgICByZXR1cm4gbWF0Y2hlcyAhPT0gbnVsbCA/IG1hdGNoZXNbMV0gOiAndG9wJzsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtYXBTdWJtaXNzaW9uUmVzcG9uc2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFN1Ym1pc3Npb25SZXNwb25zZShkYXRhKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgY29uZmlybWF0aW9uTWVzc2FnZTogZ2V0KGRhdGEsICdjb25maXJtYXRpb25fbWVzc2FnZScsICcnKSwKICAgICAgICBjb25maXJtYXRpb25UeXBlOiBnZXQoZGF0YSwgJ2NvbmZpcm1hdGlvbl90eXBlJywgJ21lc3NhZ2UnKSwKICAgICAgICBjb25maXJtYXRpb25SZWRpcmVjdDogc3RyaXBIb3N0bmFtZUZyb21VcmwoZ2V0KGRhdGEsICdjb25maXJtYXRpb25fcmVkaXJlY3QnLCAnJykpLAogICAgICAgIGlzVmFsaWQ6IGdldChkYXRhLCAnaXNfdmFsaWQnLCBmYWxzZSksCiAgICAgICAgcGFnZU51bWJlcjogcGFyc2VJbnQoZ2V0KGRhdGEsICdwYWdlX251bWJlcicsIDApLCAxMCksCiAgICAgICAgc291cmNlUGFnZU51bWJlcjogcGFyc2VJbnQoZ2V0KGRhdGEsICdzb3VyY2VfcGFnZV9udW1iZXInLCAwKSwgMTApCiAgICAgIH07CiAgICB9CiAgfSwgewogICAga2V5OiAibWFwRXJyb3JSZXNwb25zZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwRXJyb3JSZXNwb25zZShkYXRhKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaXNWYWxpZDogZ2V0KGRhdGEsICdpc192YWxpZCcsIGZhbHNlKSwKICAgICAgICBwYWdlTnVtYmVyOiBwYXJzZUludChnZXQoZGF0YSwgJ3BhZ2VfbnVtYmVyJywgMCksIDEwKSwKICAgICAgICBzb3VyY2VQYWdlTnVtYmVyOiBwYXJzZUludChnZXQoZGF0YSwgJ3NvdXJjZV9wYWdlX251bWJlcicsIDApLCAxMCksCiAgICAgICAgdmFsaWRhdGlvbk1lc3NhZ2VzOiBGb3JtTWFwcGVyLm1hcEVycm9yVmFsaWRhdGlvbk1lc3NhZ2VzKGdldChkYXRhLCAndmFsaWRhdGlvbl9tZXNzYWdlcycsIDIpKQogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogIm1hcEVycm9yVmFsaWRhdGlvbk1lc3NhZ2VzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBFcnJvclZhbGlkYXRpb25NZXNzYWdlcyhkYXRhKSB7CiAgICAgIHJldHVybiB0cmFuc2Zvcm0oZGF0YSwgZnVuY3Rpb24gKHJlc3VsdCwgbWVzc2FnZSwgaWQpIHsKICAgICAgICByZXN1bHQucHVzaCh7CiAgICAgICAgICBpZDogaWQsCiAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlCiAgICAgICAgfSk7CiAgICAgIH0sIFtdKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBGb3JtTWFwcGVyOwp9KCk7CgpleHBvcnQgeyBGb3JtTWFwcGVyIGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["/app/src/services/mapper/FormMapper.js"],"names":["find","findIndex","get","groupBy","keys","pickBy","transform","stripHostnameFromUrl","FormMapper","data","form","id","String","title","description","meta","mapFormMeta","submitButtonText","isMultiPageForm","isActive","parseInt","fields","mapMultiPageFormFields","mapFields","fieldsGroupedByPageNumber","field","pageNumber","result","pageFields","pageField","page","nextButton","text","previousButton","push","fieldsData","skip","filter","indexOf","type","map","mapField","labelPlacement","parseLabelPlacement","subLabelPlacement","descriptionPlacement","submissionUrl","label","errorMessage","isVisible","placeholder","cssClass","defaultValue","isDisplayOnly","isRequired","passwordDetails","size","inputs","mapFieldInputs","createFieldInput","inputData","mapFieldInput","fieldInput","customLabel","value","mapFieldInputMeta","choices","choice","isSelected","maxLength","options","mapChoice","content","placement","matches","match","confirmationMessage","confirmationType","confirmationRedirect","isValid","sourcePageNumber","validationMessages","mapErrorValidationMessages","message"],"mappings":"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","sourcesContent":["import find from 'lodash/find';\nimport findIndex from 'lodash/findIndex';\nimport get from 'lodash/get';\nimport groupBy from 'lodash/groupBy';\nimport keys from 'lodash/keys';\nimport pickBy from 'lodash/pickBy';\nimport transform from 'lodash/transform';\nimport { stripHostnameFromUrl } from '@/services/utils';\n\nexport default class FormMapper {\n  static mapForm(data) {\n    const form = {\n      id: String(get(data, 'id', '')),\n      title: get(data, 'title', ''),\n      description: get(data, 'description', ''),\n      meta: FormMapper.mapFormMeta(data),\n      submitButtonText: get(data, 'button.text', 'Submit'),\n      isMultiPageForm: get(data, 'pagination') !== null,\n      isActive: parseInt(get(data, 'is_active', '0'), 10) === 1,\n    };\n\n    if (form.isMultiPageForm) {\n      form.fields = FormMapper.mapMultiPageFormFields(data);\n    } else {\n      form.fields = FormMapper.mapFields(data.fields);\n    }\n\n    return form;\n  }\n\n  static mapMultiPageFormFields(data) {\n    const fields = data.fields || [];\n    const fieldsGroupedByPageNumber = groupBy(fields, field => field.pageNumber);\n\n    return transform(fieldsGroupedByPageNumber, (result, pageFields, pageNumber) => {\n      const pageField = find(pageFields, ['type', 'page']);\n      const page = {\n        pageNumber,\n        nextButton: {\n          text: get(data, 'button.text', 'Submit'),\n        },\n        previousButton: null,\n        fields: [],\n      };\n\n      if (pageField && pageNumber !== '1') {\n        page.nextButton.text = get(pageField, 'nextButton.text');\n        page.previousButton = { text: get(pageField, 'previousButton.text') };\n      }\n\n      page.fields = FormMapper.mapFields(pageFields);\n\n      result.push(page);\n    }, []);\n  }\n\n  static mapFields(fieldsData) {\n    const skip = ['page'];\n\n    return fieldsData\n      .filter(data => skip.indexOf(data.type) === -1)\n      .map(data => FormMapper.mapField(data));\n  }\n\n  static findPageFieldIndices(fields) {\n    return keys(pickBy(fields, { type: 'page' }));\n  }\n\n  static mapFormMeta(data) {\n    return {\n      labelPlacement: FormMapper.parseLabelPlacement(get(data, 'label_placement', '')),\n      subLabelPlacement: FormMapper.parseLabelPlacement(get(data, 'subLabelPlacement', '')),\n      descriptionPlacement: get(data, 'descriptionPlacement', 'below'),\n      submissionUrl: `/wp-json/gf/v2/forms/${get(data, 'id', '')}/submissions`,\n    };\n  }\n\n  static mapField(data) {\n    const field = {\n      type: get(data, 'type', ''),\n      id: String(get(data, 'id', '')),\n      label: get(data, 'label', ''),\n      errorMessage: get(data, 'errorMessage', ''),\n      isVisible: get(data, 'visibility', 'visible') === 'visible',\n      description: get(data, 'description', ''),\n      descriptionPlacement: get(data, 'descriptionPlacement', 'below'),\n      subLabelPlacement: FormMapper.parseLabelPlacement(get(data, 'subLabelPlacement', '')),\n      placeholder: get(data, 'placeholder', ''),\n      cssClass: get(data, 'cssClass', ''),\n      defaultValue: get(data, 'defaultValue', ''),\n      isDisplayOnly: get(data, 'displayOnly', false) === true,\n      isRequired: get(data, 'isRequired', false),\n      passwordDetails: get(data, 'passwordStrengthEnabled', false),\n      size: get(data, 'size', 'medium'),\n      labelPlacement: FormMapper.parseLabelPlacement(get(data, 'labelPlacement', 'top')),\n    };\n\n    field.inputs = FormMapper.mapFieldInputs(data, field);\n\n    return field;\n  }\n\n  static mapFieldInputs(data, field) {\n    // If the field has no sub-inputs, create an input\n    // from the already mapped field\n    if (get(data, 'inputs', null) === null) {\n      // eslint-disable-next-line no-param-reassign\n      data.inputs = [FormMapper.createFieldInput(field)];\n    }\n\n    return data.inputs.map(inputData => FormMapper.mapFieldInput(inputData, data, field));\n  }\n\n  static createFieldInput(field) {\n    return {\n      id: field.id,\n      label: '',\n    };\n  }\n\n  static mapFieldInput(inputData, data, field) {\n    const fieldInput = {\n      id: get(inputData, 'id', ''),\n      label: get(inputData, 'label', ''),\n      customLabel: get(inputData, 'customLabel', ''),\n      placeholder: get(inputData, 'placeholder', ''),\n      value: field.defaultValue || '',\n      meta: FormMapper.mapFieldInputMeta(inputData, data, field),\n    };\n\n    // eslint-disable-next-line default-case\n    switch (field.type) {\n      case 'select':\n        fieldInput.value = get(find(data.choices, ['isSelected', true]), 'value', '');\n\n        break;\n\n      case 'multiselect':\n        fieldInput.value = data.choices\n          .filter(choice => choice.isSelected)\n          .map(({ value }) => value);\n\n        break;\n\n      case 'checkbox':\n        fieldInput.label = fieldInput.customLabel || '';\n\n        break;\n    }\n\n    return fieldInput;\n  }\n\n  static mapFieldInputMeta(inputData, data, field) {\n    switch (field.type) {\n      case 'text':\n      case 'textarea':\n        return {\n          maxLength: get(data, 'maxLength', ''),\n        };\n\n      case 'select':\n      case 'multiselect':\n        return {\n          options: data.choices.map(choice => FormMapper.mapChoice(choice)),\n        };\n\n      case 'html':\n        return {\n          content: get(data, 'content', ''),\n        };\n\n      case 'checkbox':\n        return {\n          choice: FormMapper.mapChoice(data.choices[findIndex(data.inputs, ['id', inputData.id])]),\n        };\n\n      case 'radio':\n        return {\n          choices: data.choices.map(choice => FormMapper.mapChoice(choice)),\n        };\n\n      default:\n        return {};\n    }\n  }\n\n  static mapChoice(data) {\n    return {\n      isSelected: get(data, 'isSelected', false),\n      text: get(data, 'text', ''),\n      value: get(data, 'value', ''),\n    };\n  }\n\n  // Possible values can be 'top_label', 'bottom_label', 'hidden_label'\n  // where we are most interested in the 'hidden' placement in order to\n  // hide the form label.\n  static parseLabelPlacement(placement) {\n    const matches = placement.match(/(\\w+)_label$/);\n\n    return matches !== null ? matches[1] : 'top';\n  }\n\n  static mapSubmissionResponse(data) {\n    return {\n      confirmationMessage: get(data, 'confirmation_message', ''),\n      confirmationType: get(data, 'confirmation_type', 'message'),\n      confirmationRedirect: stripHostnameFromUrl(get(data, 'confirmation_redirect', '')),\n      isValid: get(data, 'is_valid', false),\n      pageNumber: parseInt(get(data, 'page_number', 0), 10),\n      sourcePageNumber: parseInt(get(data, 'source_page_number', 0), 10),\n    };\n  }\n\n  static mapErrorResponse(data) {\n    return {\n      isValid: get(data, 'is_valid', false),\n      pageNumber: parseInt(get(data, 'page_number', 0), 10),\n      sourcePageNumber: parseInt(get(data, 'source_page_number', 0), 10),\n      validationMessages: FormMapper.mapErrorValidationMessages(get(data, 'validation_messages', 2)),\n    };\n  }\n\n  static mapErrorValidationMessages(data) {\n    return transform(data, (result, message, id) => {\n      result.push({ id, message });\n    }, []);\n  }\n}\n"]}]}