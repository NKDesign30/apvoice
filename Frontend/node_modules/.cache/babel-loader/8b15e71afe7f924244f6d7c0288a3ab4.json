{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/eslint-loader/index.js??ref--13-0!/app/src/services/settings/LanguageService.js","dependencies":[{"path":"/app/src/services/settings/LanguageService.js","mtime":1683275992576},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2giOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgeyBpc0RldkVudmlyb25tZW50IH0gZnJvbSAnQC9zZXJ2aWNlcy91dGlscyc7Cgp2YXIgTGFuZ3VhZ2VTZXJ2aWNlID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gTGFuZ3VhZ2VTZXJ2aWNlKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExhbmd1YWdlU2VydmljZSk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoTGFuZ3VhZ2VTZXJ2aWNlLCBudWxsLCBbewogICAga2V5OiAicmVzb2x2ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzb2x2ZSgpIHsKICAgICAgaWYgKGlzRGV2RW52aXJvbm1lbnQoKSkgewogICAgICAgIHN3aXRjaCAoTGFuZ3VhZ2VTZXJ2aWNlLmxvY2F0aW9uUG9ydCkgewogICAgICAgICAgY2FzZSAnODA4MCc6CiAgICAgICAgICAgIHJldHVybiAnZGUnOwoKICAgICAgICAgIGNhc2UgJzgwODUnOgogICAgICAgICAgICByZXR1cm4gJ2VzJzsKCiAgICAgICAgICBjYXNlICc4MDkwJzoKICAgICAgICAgICAgcmV0dXJuICdhdCc7CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgcmV0dXJuICdkZSc7CiAgICAgICAgfSAvLyByZXR1cm4gTGFuZ3VhZ2VTZXJ2aWNlLmRldmVsb3BtZW50TGFuZ3VhZ2U7CgogICAgICB9CgogICAgICB2YXIgaG9zdG5hbWUgPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7CgogICAgICBpZiAoTGFuZ3VhZ2VTZXJ2aWNlLmlzU3BlY2lhbERvbWFpbihob3N0bmFtZSkpIHsKICAgICAgICByZXR1cm4gTGFuZ3VhZ2VTZXJ2aWNlLnNwZWNpYWxEb21haW5zW2hvc3RuYW1lXTsKICAgICAgfQoKICAgICAgdmFyIGRvbWFpblNwZWNpZmljTGFuZ3VhZ2UgPSBob3N0bmFtZS5tYXRjaCgvXC4oXHcrKSQvaSk7CgogICAgICBpZiAoZG9tYWluU3BlY2lmaWNMYW5ndWFnZSAhPT0gbnVsbCkgewogICAgICAgIHJldHVybiBkb21haW5TcGVjaWZpY0xhbmd1YWdlWzFdLnRvTG93ZXJDYXNlKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBMYW5ndWFnZVNlcnZpY2UuZmFsbGJhY2tMYW5ndWFnZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZXNvbHZlQ291bnRyeSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzb2x2ZUNvdW50cnkoKSB7CiAgICAgIHZhciBob3N0bmFtZSA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTsKCiAgICAgIGlmIChpc0RldkVudmlyb25tZW50KCkgfHwgTGFuZ3VhZ2VTZXJ2aWNlLmlzU3BlY2lhbERvbWFpbihob3N0bmFtZSkpIHsKICAgICAgICByZXR1cm4gTGFuZ3VhZ2VTZXJ2aWNlLmZhbGxiYWNrQ291bnRyeTsKICAgICAgfQoKICAgICAgc3dpdGNoIChob3N0bmFtZS5tYXRjaCgvXC4oXHcrKSQvaSlbMV0pIHsKICAgICAgICBjYXNlICdlcyc6CiAgICAgICAgICByZXR1cm4gJ1NwYWluJzsKCiAgICAgICAgY2FzZSAnZGUnOgogICAgICAgICAgcmV0dXJuICdHZXJtYW4nOwoKICAgICAgICBjYXNlICdhdCc6CiAgICAgICAgICByZXR1cm4gJ0F1c3RyaWEnOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmV0dXJuIExhbmd1YWdlU2VydmljZS5mYWxsYmFja0NvdW50cnk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc1NwZWNpYWxEb21haW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzU3BlY2lhbERvbWFpbihob3N0bmFtZSkgewogICAgICByZXR1cm4gT2JqZWN0LmtleXMoTGFuZ3VhZ2VTZXJ2aWNlLnNwZWNpYWxEb21haW5zKS5pbmRleE9mKGhvc3RuYW1lKSAhPT0gLTE7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gTGFuZ3VhZ2VTZXJ2aWNlOwp9KCk7CgpfZGVmaW5lUHJvcGVydHkoTGFuZ3VhZ2VTZXJ2aWNlLCAiZmFsbGJhY2tMYW5ndWFnZSIsICdlbicpOwoKX2RlZmluZVByb3BlcnR5KExhbmd1YWdlU2VydmljZSwgImZhbGxiYWNrQ291bnRyeSIsICdHZXJtYW55Jyk7CgpfZGVmaW5lUHJvcGVydHkoTGFuZ3VhZ2VTZXJ2aWNlLCAiZGV2ZWxvcG1lbnRMYW5ndWFnZSIsICdkZScpOwoKX2RlZmluZVByb3BlcnR5KExhbmd1YWdlU2VydmljZSwgImxvY2F0aW9uUG9ydCIsIHdpbmRvdy5sb2NhdGlvbi5wb3J0KTsKCl9kZWZpbmVQcm9wZXJ0eShMYW5ndWFnZVNlcnZpY2UsICJzcGVjaWFsRG9tYWlucyIsIHsKICAnYXBvdm9pY2UuYXdzbS5yb2Nrcyc6ICdlcycsCiAgJ2Fwb3ZvaWNlLWVzLWZyb250ZW5kLXN0YWdlLmF6dXJld2Vic2l0ZXMubmV0JzogJ2VzJywKICAnYXBvdm9pY2UtZnJvbnRlbmQtcHJvZC5henVyZXdlYnNpdGVzLm5ldCc6ICdlcycsCiAgJ3N0YWdlLmFwb3ZvaWNlLmNvbSc6ICdlbicsCiAgJ3d3dy5hcG92b2ljZS5jb20nOiAnZW4nCn0pOwoKZXhwb3J0IHsgTGFuZ3VhZ2VTZXJ2aWNlIGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["/app/src/services/settings/LanguageService.js"],"names":["isDevEnvironment","LanguageService","locationPort","hostname","window","location","isSpecialDomain","specialDomains","domainSpecificLanguage","match","toLowerCase","fallbackLanguage","fallbackCountry","Object","keys","indexOf","port"],"mappings":";;;;;AAAA,SAASA,gBAAT,QAAiC,kBAAjC;;IAEqBC,e;;;;;;;;;8BAiBF;AACf,UAAID,gBAAgB,EAApB,EAAwB;AACtB,gBAAQC,eAAe,CAACC,YAAxB;AACE,eAAK,MAAL;AACE,mBAAO,IAAP;;AACF,eAAK,MAAL;AACE,mBAAO,IAAP;;AACF,eAAK,MAAL;AACE,mBAAO,IAAP;;AACF;AACE,mBAAO,IAAP;AARJ,SADsB,CAYtB;;AACD;;AAdc,UAgBPC,QAhBO,GAgBMC,MAAM,CAACC,QAhBb,CAgBPF,QAhBO;;AAkBf,UAAIF,eAAe,CAACK,eAAhB,CAAgCH,QAAhC,CAAJ,EAA+C;AAC7C,eAAOF,eAAe,CAACM,cAAhB,CAA+BJ,QAA/B,CAAP;AACD;;AAED,UAAMK,sBAAsB,GAAGL,QAAQ,CAACM,KAAT,CAAe,WAAf,CAA/B;;AAEA,UAAID,sBAAsB,KAAK,IAA/B,EAAqC;AACnC,eAAOA,sBAAsB,CAAC,CAAD,CAAtB,CAA0BE,WAA1B,EAAP;AACD;;AAED,aAAOT,eAAe,CAACU,gBAAvB;AACD;;;qCAEuB;AAAA,UACdR,QADc,GACDC,MAAM,CAACC,QADN,CACdF,QADc;;AAGtB,UAAIH,gBAAgB,MAAMC,eAAe,CAACK,eAAhB,CAAgCH,QAAhC,CAA1B,EAAqE;AACnE,eAAOF,eAAe,CAACW,eAAvB;AACD;;AAED,cAAQT,QAAQ,CAACM,KAAT,CAAe,WAAf,EAA4B,CAA5B,CAAR;AACE,aAAK,IAAL;AACE,iBAAO,OAAP;;AACF,aAAK,IAAL;AACE,iBAAO,QAAP;;AACF,aAAK,IAAL;AACE,iBAAO,SAAP;;AAEF;AACE,iBAAOR,eAAe,CAACW,eAAvB;AATJ;AAWD;;;oCAEsBT,Q,EAAU;AAC/B,aAAOU,MAAM,CAACC,IAAP,CAAYb,eAAe,CAACM,cAA5B,EAA4CQ,OAA5C,CAAoDZ,QAApD,MAAkE,CAAC,CAA1E;AACD;;;;;;gBAtEkBF,e,sBACO,I;;gBADPA,e,qBAGM,S;;gBAHNA,e,yBAKU,I;;gBALVA,e,kBAOGG,MAAM,CAACC,QAAP,CAAgBW,I;;gBAPnBf,e,oBASK;AACtB,yBAAuB,IADD;AAEtB,kDAAgD,IAF1B;AAGtB,8CAA4C,IAHtB;AAItB,wBAAsB,IAJA;AAKtB,sBAAoB;AALE,C;;SATLA,e","sourcesContent":["import { isDevEnvironment } from '@/services/utils';\n\nexport default class LanguageService {\n  static fallbackLanguage = 'en';\n\n  static fallbackCountry = 'Germany';\n\n  static developmentLanguage = 'de';\n\n  static locationPort = window.location.port;\n\n  static specialDomains = {\n    'apovoice.awsm.rocks': 'es',\n    'apovoice-es-frontend-stage.azurewebsites.net': 'es',\n    'apovoice-frontend-prod.azurewebsites.net': 'es',\n    'stage.apovoice.com': 'en',\n    'www.apovoice.com': 'en',\n  };\n\n  static resolve() {\n    if (isDevEnvironment()) {\n      switch (LanguageService.locationPort) {\n        case '8080':\n          return 'de';\n        case '8085':\n          return 'es';\n        case '8090':\n          return 'at';\n        default:\n          return 'de';\n      }\n\n      // return LanguageService.developmentLanguage;\n    }\n\n    const { hostname } = window.location;\n\n    if (LanguageService.isSpecialDomain(hostname)) {\n      return LanguageService.specialDomains[hostname];\n    }\n\n    const domainSpecificLanguage = hostname.match(/\\.(\\w+)$/i);\n\n    if (domainSpecificLanguage !== null) {\n      return domainSpecificLanguage[1].toLowerCase();\n    }\n\n    return LanguageService.fallbackLanguage;\n  }\n\n  static resolveCountry() {\n    const { hostname } = window.location;\n\n    if (isDevEnvironment() || LanguageService.isSpecialDomain(hostname)) {\n      return LanguageService.fallbackCountry;\n    }\n\n    switch (hostname.match(/\\.(\\w+)$/i)[1]) {\n      case 'es':\n        return 'Spain';\n      case 'de':\n        return 'German';\n      case 'at':\n        return 'Austria';\n\n      default:\n        return LanguageService.fallbackCountry;\n    }\n  }\n\n  static isSpecialDomain(hostname) {\n    return Object.keys(LanguageService.specialDomains).indexOf(hostname) !== -1;\n  }\n}\n"]}]}