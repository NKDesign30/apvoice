{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/eslint-loader/index.js??ref--13-0!/app/src/services/api/UserService.js","dependencies":[{"path":"/app/src/services/api/UserService.js","mtime":1683275992575},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnByb21pc2UiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgZ2V0IGZyb20gImxvZGFzaC9nZXQiOwppbXBvcnQgVXNlck1hcHBlciBmcm9tICJAL3NlcnZpY2VzL21hcHBlci9Vc2VyTWFwcGVyIjsKCnZhciBVc2VyU2VydmljZSA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIFVzZXJTZXJ2aWNlKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFVzZXJTZXJ2aWNlKTsKICB9CgogIF9jcmVhdGVDbGFzcyhVc2VyU2VydmljZSwgbnVsbCwgW3sKICAgIGtleTogImFjdGl2YXRlVXNlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWN0aXZhdGVVc2VyKGtleSkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHdpbmRvdy5heGlvcy5wb3N0KCIvd3AtanNvbi9hcG92b2ljZS92MS91c2Vycy9hY3RpdmF0ZS8iLCB7CiAgICAgICAgICBrZXk6IGtleQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICAgIHZhciBkYXRhID0gX3JlZi5kYXRhOwoKICAgICAgICAgIGlmIChnZXQoZGF0YSwgInJlc3VsdC5lcnJvcnMiLCBmYWxzZSkgIT09IGZhbHNlKSB7CiAgICAgICAgICAgIHJlamVjdChVc2VyTWFwcGVyLm1hcEFjdGl2YXRpb25FcnJvclJlc3VsdChkYXRhKSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXNvbHZlKFVzZXJNYXBwZXIubWFwQWN0aXZhdGlvblJlc3VsdChkYXRhKSk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZmV0Y2hDdXJyZW50VXNlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hDdXJyZW50VXNlcigpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICB3aW5kb3cuYXhpb3MuZ2V0KCIvd3AtanNvbi93cC92Mi91c2Vycy9tZSIpLnRoZW4oZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgICB2YXIgZGF0YSA9IF9yZWYyLmRhdGE7CiAgICAgICAgICByZXR1cm4gcmVzb2x2ZShVc2VyTWFwcGVyLm1hcFVzZXIoZGF0YSkpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgcmV0dXJuIHJlamVjdChlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImZldGNoQ3VycmVudFVzZXJQdW5Db2RlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmZXRjaEN1cnJlbnRVc2VyUHVuQ29kZSgpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICB3aW5kb3cuYXhpb3MuZ2V0KCIvd3AtanNvbi9hcG92b2ljZS92MS9wdW5Db2RlIikudGhlbihmdW5jdGlvbiAoX3JlZjMpIHsKICAgICAgICAgIHZhciBkYXRhID0gX3JlZjMuZGF0YTsKICAgICAgICAgIHJldHVybiByZXNvbHZlKGRhdGEpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgcmV0dXJuIHJlamVjdChlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInVwZGF0ZVVzZXJQcm9maWxlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVVc2VyUHJvZmlsZShfcmVmNCwgZGF0YSkgewogICAgICB2YXIgaWQgPSBfcmVmNC5pZDsKICAgICAgcmV0dXJuIHdpbmRvdy5heGlvcy5wb3N0KCIvd3AtanNvbi9hcG92b2ljZS92MS91c2Vycy8iLmNvbmNhdChpZCwgIi9wcm9maWxlLyIpLCBkYXRhKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInVwZGF0ZVVzZXJQdW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVVzZXJQdW4oY29kZSkgewogICAgICB2YXIgbXljb2RlID0gY29kZTsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICB3aW5kb3cuYXhpb3MucG9zdCgiL3dwLWpzb24vYXBvdm9pY2UvdjEvVXBkYXRlUHVuIiwgewogICAgICAgICAgUHVuQ29kZTogbXljb2RlCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAodXBkYXRlZGRhdGEpIHsKICAgICAgICAgIHJldHVybiByZXNvbHZlKHVwZGF0ZWRkYXRhKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb25maXJtRW1haWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbmZpcm1FbWFpbChrZXkpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICB3aW5kb3cuYXhpb3MucG9zdCgiL3dwLWpzb24vYXBvdm9pY2UvdjEvdXNlcnMvY29uZmlybW1haWwvIiwgewogICAgICAgICAga2V5OiBrZXkKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmNSkgewogICAgICAgICAgdmFyIGRhdGEgPSBfcmVmNS5kYXRhOwoKICAgICAgICAgIGlmIChnZXQoZGF0YSwgInJlc3VsdC5lcnJvcnMiLCBmYWxzZSkgIT09IGZhbHNlKSB7CiAgICAgICAgICAgIHJlamVjdChVc2VyTWFwcGVyLm1hcENvbmZpcm1NYWlsRXJyb3JSZXN1bHQoZGF0YSkpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVzb2x2ZShVc2VyTWFwcGVyLm1hcENvbmZpcm1NYWlsUmVzdWx0KGRhdGEpKTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmZXRjaFVzZXJMZXZlbFRyYWluaW5nc1BvaW50cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hVc2VyTGV2ZWxUcmFpbmluZ3NQb2ludHMoKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgd2luZG93LmF4aW9zLmdldCgiL3dwLWpzb24vd2MvdjIvdXNlci9sZXZlbCIpLnRoZW4oZnVuY3Rpb24gKF9yZWY2KSB7CiAgICAgICAgICB2YXIgZGF0YSA9IF9yZWY2LmRhdGE7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZygnbGV2ZWwgZGF0YScsIGRhdGEpOwogICAgICAgICAgcmVzb2x2ZShkYXRhKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBVc2VyU2VydmljZTsKfSgpOwoKZXhwb3J0IHsgVXNlclNlcnZpY2UgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"sources":["/app/src/services/api/UserService.js"],"names":["get","UserMapper","UserService","key","Promise","resolve","reject","window","axios","post","then","data","mapActivationErrorResult","mapActivationResult","catch","error","mapUser","id","code","mycode","PunCode","updateddata","mapConfirmMailErrorResult","mapConfirmMailResult"],"mappings":"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","sourcesContent":["import get from \"lodash/get\";\nimport UserMapper from \"@/services/mapper/UserMapper\";\n\nexport default class UserService {\n  static activateUser(key) {\n    return new Promise((resolve, reject) => {\n      window.axios\n        .post(\"/wp-json/apovoice/v1/users/activate/\", { key })\n        .then(({ data }) => {\n          if (get(data, \"result.errors\", false) !== false) {\n            reject(UserMapper.mapActivationErrorResult(data));\n          } else {\n            resolve(UserMapper.mapActivationResult(data));\n          }\n        })\n        .catch(error => reject(error));\n    });\n  }\n\n  static fetchCurrentUser() {\n    return new Promise((resolve, reject) => {\n      window.axios\n        .get(\"/wp-json/wp/v2/users/me\")\n        .then(({ data }) => resolve(UserMapper.mapUser(data)))\n        .catch(error => reject(error));\n    });\n  }\n\n  static fetchCurrentUserPunCode() {\n    return new Promise((resolve, reject) => {\n      window.axios\n        .get(\"/wp-json/apovoice/v1/punCode\")\n        .then(({ data }) => resolve(data))\n        .catch(error => reject(error));\n    });\n  }\n\n  static updateUserProfile({ id }, data) {\n    return window.axios\n      .post(`/wp-json/apovoice/v1/users/${id}/profile/`, data)\n      .then(() => Promise.resolve())\n      .catch(error => Promise.reject(error));\n  }\n\n  static updateUserPun(code) {\n    var mycode = code;\n    return new Promise((resolve, reject) => {\n      window.axios\n        .post(`/wp-json/apovoice/v1/UpdatePun`, { PunCode: mycode })\n        .then(updateddata => resolve(updateddata))\n        .catch(error => reject(error));\n    });\n  }\n\n  static confirmEmail(key) {\n    return new Promise((resolve, reject) => {\n      window.axios\n        .post(\"/wp-json/apovoice/v1/users/confirmmail/\", { key })\n        .then(({ data }) => {\n          if (get(data, \"result.errors\", false) !== false) {\n            reject(UserMapper.mapConfirmMailErrorResult(data));\n          } else {\n            resolve(UserMapper.mapConfirmMailResult(data));\n          }\n        })\n        .catch(error => reject(error));\n    });\n  }\n\n  static fetchUserLevelTrainingsPoints() {\n    return new Promise((resolve, reject) => {\n      window.axios\n        .get(\"/wp-json/wc/v2/user/level\")\n        .then(({ data }) => {\n          // console.log('level data', data);\n          resolve(data);\n        })\n        .catch(error => reject(error));\n    });\n  }\n}\n"]}]}