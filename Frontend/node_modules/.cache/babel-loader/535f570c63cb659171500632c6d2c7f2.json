{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/components/login/LoginForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/src/components/login/LoginForm.vue","mtime":1689925550360},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wcm9taXNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucHJvbWlzZS5maW5hbGx5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGdldCBmcm9tICdsb2Rhc2gvZ2V0JzsKaW1wb3J0IFRleHRJbnB1dCBmcm9tICdAL2NvbXBvbmVudHMvZm9ybS1yZW5kZXJlci9UZXh0SW5wdXQudnVlJzsKaW1wb3J0IHsgQVVUSF9MT0dJTiB9IGZyb20gJ0Avc3RvcmUvdHlwZXMvYWN0aW9uLXR5cGVzJzsKaW1wb3J0IHsgQVVUSF9VUERBVEVfU0hPV19VUERBVEVfUEhBUk1BQ1lfTU9EQUwgfSBmcm9tICdAL3N0b3JlL3R5cGVzL211dGF0aW9uLXR5cGVzJzsKaW1wb3J0IEZyb250cGFnZSBmcm9tICdAL2NvbXBvbmVudHMvZnJvbnRwYWdlL0Zyb250cGFnZS52dWUnOwppbXBvcnQgUGFnZVNlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlcy9hcGkvUGFnZVNlcnZpY2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgJ2Fwby10ZXh0LWlucHV0JzogVGV4dElucHV0LAogICAgJ2Fwby1mcm9udHBhZ2UnOiBGcm9udHBhZ2UKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7CiAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgIHBhc3N3b3JkOiAnJwogICAgICB9LAogICAgICBsb2dpblN0YXR1czogJycsCiAgICAgIGlzQnVzeTogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmlzQnVzeSA9IHRydWU7CiAgICAgIHRoaXMubG9naW5TdGF0dXMgPSB0aGlzLiR0KCdwYWdlcy5sb2dpbi5tZXNzYWdlcy5wZW5kaW5nJyk7CiAgICAgIHdpbmRvdy5heGlvcy5wb3N0KCcvd3AtanNvbi9qd3QtYXV0aC92MS90b2tlbicsIHRoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciBkYXRhID0gX3JlZi5kYXRhOwoKICAgICAgICBpZiAoT2JqZWN0LmtleXMoZGF0YSkuaW5jbHVkZXMoJ2hhc191cGRhdGVkX3BoYXJtYWN5X2FkZHJlc3MnKSkgewogICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdChBVVRIX1VQREFURV9TSE9XX1VQREFURV9QSEFSTUFDWV9NT0RBTCwgIWRhdGEuaGFzX3VwZGF0ZWRfcGhhcm1hY3lfYWRkcmVzcyk7CiAgICAgICAgfQoKICAgICAgICBfdGhpcy5sb2dpblN0YXR1cyA9IF90aGlzLiR0KCdwYWdlcy5sb2dpbi5tZXNzYWdlcy5zdWNjZXNzJyk7CgogICAgICAgIF90aGlzLiRzdG9yZS5kaXNwYXRjaChBVVRIX0xPR0lOLCB7CiAgICAgICAgICB0b2tlbjogZGF0YS50b2tlbiwKICAgICAgICAgIHVzZXI6IHsKICAgICAgICAgICAgbmFtZTogZGF0YS51c2VyX2Rpc3BsYXlfbmFtZSwKICAgICAgICAgICAgZW1haWw6IGRhdGEudXNlcl9lbWFpbAogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgUGFnZVNlcnZpY2UuZ2V0UGFnZXMoKS50aGVuKGZ1bmN0aW9uIChkYXRhUGFnZXMpIHsKICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnYWRkUGFnZUNvbnRlbnQnLCBkYXRhUGFnZXMpOwoKICAgICAgICAgICAgdmFyIHRtcERhdGEgPSBkYXRhUGFnZXMuZmlsdGVyKGZ1bmN0aW9uIChwYWdlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHBhZ2UuYWNmLnNsaWRlczsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRtcERhdGEuZm9yRWFjaChmdW5jdGlvbiAocGFnZSkgewogICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ2FkZFN0YWdlJywgewogICAgICAgICAgICAgICAgbmFtZTogcGFnZS5zbHVnLAogICAgICAgICAgICAgICAgc3RhZ2U6IHsKICAgICAgICAgICAgICAgICAgbWluaW11bV9oZWlnaHQ6IHBhZ2UuYWNmLm1pbmltdW1faGVpZ2h0LAogICAgICAgICAgICAgICAgICBzbGlkZXM6IHBhZ2UuYWNmLnNsaWRlcwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGlmIChfdGhpcy4kcm91dGUucXVlcnkucmVkaXJlY3RfcGF0aCkgewogICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucmVwbGFjZSh7CiAgICAgICAgICAgICAgICBwYXRoOiBfdGhpcy4kcm91dGUucXVlcnkucmVkaXJlY3RfcGF0aAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucmVwbGFjZSgnL3dlbGNvbWUnKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHZhciBlcnJvckNvZGUgPSBnZXQoZXJyb3IsICdyZXNwb25zZS5kYXRhLmNvZGUnLCAnJykucmVwbGFjZSgvXFtqd3RfYXV0aFxdXHMrL2csICcnKTsKICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gZ2V0KGVycm9yLCAncmVzcG9uc2UuZGF0YS5tZXNzYWdlJywgJycpOwogICAgICAgIHZhciBlcnJvclN0YXR1cyA9IGdldChlcnJvciwgJ3Jlc3BvbnNlLnN0YXR1cycsIDApOwoKICAgICAgICBpZiAoZXJyb3JNZXNzYWdlLmluZGV4T2YoJ1lvdSBhcmUgdGVtcG9yYXJpbHkgbG9ja2VkIG91dCcpICE9PSAtMSAmJiBlcnJvclN0YXR1cyA9PT0gNTAzKSB7CiAgICAgICAgICBfdGhpcy5sb2dpblN0YXR1cyA9IF90aGlzLiR0KCdlcnJvcnMudG9vX21hbnlfcmV0cmllcycpOwogICAgICAgICAgLyoqCiAgICAgICAgICAgKiBUaGUgJ2luY29ycmVjdF9wYXNzd29yZCcgZXJyb3IgbXVzdCBiZSB0cmFuc2xhdGVkIG9uIHRoZSBmcm9udGVuZCwKICAgICAgICAgICAqIGJlY2F1c2Ugd29yZGZlbmNlIHByb3ZpZGVzIGFuIHRyYW5zbGF0aW9uIGlzc3VlIHRoYXQgaXMgbm90IHJlc29sdmVkLgogICAgICAgICAgICogTWF5YmUgdGhpcyBjYW4gYmUgZml4ZWQgaW4gdGhlIGZ1dHVyZS4KICAgICAgICAgICAqIEBsaW5rIGh0dHBzOi8vd29yZHByZXNzLm9yZy9zdXBwb3J0L3RvcGljL2NhbnQtdHJhbnNsYXRlLWVycm9yLXRoZS11c2VybmFtZS1vci1wYXNzd29yZC15b3UtZW50ZXJlZC1pcy1pbmNvcnJlY3QvCiAgICAgICAgICAqLwogICAgICAgIH0gZWxzZSBpZiAoZXJyb3JDb2RlID09PSAndG9vX21hbnlfcmV0cmllcycgfHwgZXJyb3JDb2RlID09PSAnaW5jb3JyZWN0X3Bhc3N3b3JkJykgewogICAgICAgICAgLy8gY29uc3QgbWF0Y2ggPSBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UubWF0Y2goLyhcZCspLio/KFx3KykvKTsKICAgICAgICAgIF90aGlzLmxvZ2luU3RhdHVzID0gX3RoaXMuJHQoImVycm9ycy4iLmNvbmNhdChlcnJvckNvZGUpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMubG9naW5TdGF0dXMgPSBnZXQoZXJyb3IsICdyZXNwb25zZS5kYXRhLm1lc3NhZ2UnLCAnJyk7CiAgICAgICAgfQogICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5pc0J1c3kgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgb25SZWdpc3RlckNsaWNrOiBmdW5jdGlvbiBvblJlZ2lzdGVyQ2xpY2soKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvcmVnaXN0cmF0aW9uJyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["LoginForm.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"login-page\">\n    <div class=\"login-wrapper\">\n      <div class=\"container py-24 mx-auto\">\n        <div class=\"flex flex-col items-center login\">\n          <h1\n            class=\"text-xs login__headline text-[25px]\"\n            v-html=\"$t('pages.login.intro')\"\n          />\n          <form\n            class=\"relative w-full max-w-2xl mt-12 tablet:mt-24\"\n            @submit.prevent=\"login\"\n          >\n            <apo-text-input\n              v-model=\"form.username\"\n              class=\"login-text-input-wrapper\"\n              input-class=\"login-text-input\"\n              :placeholder=\"$t('pages.login.form.username.placeholder')\"\n              :title=\"$t('pages.login.form.username.title')\"\n              type=\"text\"\n              @input=\"loginStatus = ''\"\n            >\n              <!-- <template #before>\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 70.8 79.5\"\n                  fill=\"hsla(0, 0%, 100%, 0.75)\"\n                  class=\"absolute w-4 h-4 ml-8\"\n                >\n                   eslint-disable-next-line max-len\n                  <path d=\"M35.4 36.4c-10 0-18.2-8.1-18.2-18.2C17.2 8.2 25.4 0 35.4 0s18.2 8.1 18.2 18.2c0 10-8.2 18.2-18.2 18.2zm35.4 43.1H0v-5c0-18.7 15.3-34 34-34h2.8c18.7 0 34 15.3 34 34v5z\" />\n                </svg>\n              </template> -->\n            </apo-text-input>\n\n            <apo-text-input\n              v-model=\"form.password\"\n              class=\"mt-6 login-text-input-wrapper\"\n              input-class=\"login-text-input\"\n              :placeholder=\"$t('pages.login.form.password.placeholder')\"\n              :title=\"$t('pages.login.form.password.title')\"\n              type=\"password\"\n              @input=\"loginStatus = ''\"\n            >\n              <!-- <template #before>\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 26 32\"\n                  fill=\"hsla(0, 0%, 100%, 0.75)\"\n                  class=\"absolute w-4 h-4 ml-8\"\n                >\n                   eslint-disable-next-line max-len\n                  <path d=\"M25 13h-2v-3c0-5.51-4.49-10-10-10S3 4.49 3 10v3H1c-.55 0-1 .45-1 1v17c0 .55.45 1 1 1h24c.55 0 1-.45 1-1V14c0-.55-.45-1-1-1zM5 10c0-4.41 3.59-8 8-8s8 3.59 8 8v3H5v-3zm9 13.72V25c0 .55-.45 1-1 1s-1-.45-1-1v-1.28c-.6-.35-1-.98-1-1.72 0-1.1.9-2 2-2s2 .9 2 2c0 .74-.4 1.38-1 1.72z\" />\n                </svg>\n              </template> -->\n            </apo-text-input>\n\n            <div\n              v-if=\"loginStatus\"\n              class=\"w-full mt-2 text-sm text-center text-white\"\n              v-html=\"$t(loginStatus)\"\n            />\n\n            <div\n              class=\"flex flex-wrap mt-8 -mx-2 tablet:flex-row tablet:flex-no-wrap\"\n            >\n              <div class=\"w-full px-2 tablet:w-1/2\">\n                <apo-button\n                  class=\"w-full text-white button button--primary \"\n                  :class=\"{ 'cursor-wait': isBusy }\"\n                  :disabled=\"isBusy\"\n                  type=\"button\"\n                  @click.native=\"onRegisterClick\"\n                  v-text=\"$t('pages.login.form.buttons.register')\"\n                />\n              </div>\n              <div class=\"order-first w-full px-2 mb-6 tablet:w-1/2 tablet:mb-0 tablet:order-last\">\n                <apo-button\n                  class=\"w-full text-blue-600 button--naked \"\n                  :class=\"{ 'cursor-wait': isBusy }\"\n                  :disabled=\"isBusy\"\n                  v-text=\"$t('pages.login.form.buttons.signin')\"\n                />\n              </div>\n            </div>\n\n            <div class=\"mt-16 text-center\">\n              <!-- eslint-disable max-len -->\n              <router-link\n                class=\"text-white border-b border-white hover:border-gray-transparent transition-normal transition-ease transition-border-color\"\n                :to=\"{ name: 'forgotten' }\"\n                v-text=\"$t('pages.login.form.buttons.forgotten')\"\n              />\n            <!-- eslint-enable max-len -->\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n    <apo-frontpage />\n  </div>\n</template>\n\n<script>\n\nimport get from 'lodash/get';\nimport TextInput from '@/components/form-renderer/TextInput.vue';\nimport { AUTH_LOGIN } from '@/store/types/action-types';\nimport { AUTH_UPDATE_SHOW_UPDATE_PHARMACY_MODAL } from '@/store/types/mutation-types';\nimport Frontpage from '@/components/frontpage/Frontpage.vue';\nimport PageService from '@/services/api/PageService';\n\nexport default {\n  components: {\n    'apo-text-input': TextInput,\n    'apo-frontpage': Frontpage,\n  },\n\n  data() {\n    return {\n      form: {\n        username: '',\n        password: '',\n      },\n      loginStatus: '',\n      isBusy: false,\n    };\n  },\n\n  methods: {\n    login() {\n      this.isBusy = true;\n      this.loginStatus = this.$t('pages.login.messages.pending');\n\n      window.axios.post('/wp-json/jwt-auth/v1/token', this.form)\n        .then(({ data }) => {\n          if (Object.keys(data).includes('has_updated_pharmacy_address')) {\n            this.$store.commit(\n              AUTH_UPDATE_SHOW_UPDATE_PHARMACY_MODAL,\n              !data.has_updated_pharmacy_address,\n            );\n          }\n          this.loginStatus = this.$t('pages.login.messages.success');\n\n          this.$store\n            .dispatch(AUTH_LOGIN, {\n              token: data.token,\n              user: {\n                name: data.user_display_name,\n                email: data.user_email,\n              },\n            })\n            .then(() => {\n              PageService.getPages()\n                .then(dataPages => {\n                  this.$store.commit('addPageContent', dataPages);\n                  const tmpData = dataPages.filter(page => page.acf.slides);\n                  tmpData.forEach(page => {\n                    this.$store.commit('addStage', { name: page.slug, stage: { minimum_height: page.acf.minimum_height, slides: page.acf.slides } });\n                  });\n\n                  if (this.$route.query.redirect_path) {\n                    this.$router.replace({\n                      path: this.$route.query.redirect_path,\n                    });\n                  } else {\n                    this.$router.replace('/welcome');\n                  }\n                });\n            });\n        })\n        .catch(error => {\n          const errorCode = get(error, 'response.data.code', '').replace(/\\[jwt_auth\\]\\s+/g, '');\n\n          const errorMessage = get(error, 'response.data.message', '');\n          const errorStatus = get(error, 'response.status', 0);\n\n          if (errorMessage.indexOf('You are temporarily locked out') !== -1 && errorStatus === 503) {\n            this.loginStatus = this.$t('errors.too_many_retries');\n            /**\n             * The 'incorrect_password' error must be translated on the frontend,\n             * because wordfence provides an translation issue that is not resolved.\n             * Maybe this can be fixed in the future.\n             * @link https://wordpress.org/support/topic/cant-translate-error-the-username-or-password-you-entered-is-incorrect/\n            */\n          } else if (\n            errorCode === 'too_many_retries'\n            || errorCode === 'incorrect_password'\n          ) {\n            // const match = error.response.data.message.match(/(\\d+).*?(\\w+)/);\n            this.loginStatus = this.$t(`errors.${errorCode}`);\n          } else {\n            this.loginStatus = get(error, 'response.data.message', '');\n          }\n        })\n        .finally(() => {\n          this.isBusy = false;\n        });\n    },\n\n    onRegisterClick() {\n      this.$router.push('/registration');\n    },\n  },\n};\n\n</script>\n\n<style lang=\"scss\" scoped>\n\n.login {\n  &-wrapper {\n    background: linear-gradient(120deg, theme('colors.blue.600'), theme('colors.blue.400'));\n\n    .button {\n      @apply py-6;\n      @apply px-4;\n    }\n  }\n\n  /deep/ &-text-input {\n    @apply pl-16;\n    @apply pr-8;\n    @apply py-6;\n    @apply text-white;\n\n    &:hover,\n    &:focus {\n      background-color: hsla(0, 0%, 100%, 0.08);\n      border-color: theme('colors.white');\n    }\n\n    &-wrapper {\n      @apply border-4;\n      @apply border-white;\n    }\n  }\n\n  &__headline {\n    @apply text-center;\n    @apply text-white;\n    @apply font-display;\n    @apply text-3xl;\n    line-height: 2.5rem;\n    font-weight: 300;\n\n    @screen tablet {\n      font-size: 3.125rem;\n      line-height: 3.75rem,\n    }\n\n    @screen desktop {\n      font-size: 3.75rem;\n      line-height: 4.375rem;\n    }\n  }\n\n\n}\n\n\n</style>\n"],"sourceRoot":"src/components/login"}]}