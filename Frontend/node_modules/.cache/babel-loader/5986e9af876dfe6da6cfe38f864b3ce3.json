{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/views/ResetPassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/src/views/ResetPassword.vue","mtime":1683275992581},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL2FwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBGb3JtUmVuZGVyZXIgZnJvbSAnQC9jb21wb25lbnRzL2Zvcm0tcmVuZGVyZXIvRm9ybVJlbmRlcmVyLnZ1ZSc7CmltcG9ydCBMb2FkaW5nT3ZlcmxheSBmcm9tICdAL2NvbXBvbmVudHMvdWkvTG9hZGluZ092ZXJsYXkudnVlJzsKaW1wb3J0IHsgY2Fub25pY2FsVGFnLCBkZXNjcmlwdGlvblRhZyB9IGZyb20gJ0Avc2VydmljZXMvdXRpbHMnOwppbXBvcnQgeyBGT1JNU19GRVRDSF9GT1JNIH0gZnJvbSAnQC9zdG9yZS90eXBlcy9hY3Rpb24tdHlwZXMnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgJ2Fwby1mb3JtLXJlbmRlcmVyJzogRm9ybVJlbmRlcmVyLAogICAgJ2Fwby1sb2FkaW5nLW92ZXJsYXknOiBMb2FkaW5nT3ZlcmxheQogIH0sCiAgaGVhZDogZnVuY3Rpb24gaGVhZCgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiB7CiAgICAgICAgaW5uZXI6IHRoaXMuJHQoJ3BhZ2VzLnJlc2V0Lm1ldGEudGl0bGUnKQogICAgICB9LAogICAgICBtZXRhOiBbZGVzY3JpcHRpb25UYWcodGhpcy4kdCgncGFnZXMucmVzZXQubWV0YS5kZXNjcmlwdGlvbicpKV0sCiAgICAgIGxpbms6IFtjYW5vbmljYWxUYWcodGhpcy4kcm91dGUpXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsnZ2V0Rm9ybScsICdzZXR0aW5nc0xvYWRlZCddKSwge30sIG1hcFN0YXRlKHsKICAgIGZvcm06IGZ1bmN0aW9uIGZvcm0oc3RhdGUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBzdGF0ZS5mb3Jtcy5mb3Jtcy5maW5kKGZ1bmN0aW9uIChmb3JtKSB7CiAgICAgICAgcmV0dXJuIGZvcm0uaWQgPT09IF90aGlzLmZvcm1JZDsKICAgICAgfSk7CiAgICB9CiAgfSksIHsKICAgIGZvcm1JZDogZnVuY3Rpb24gZm9ybUlkKCkgewogICAgICB2YXIgZm9ybUNvbmZpZyA9IHRoaXMuZ2V0Rm9ybSgnYXBvX3Jlc2V0X3Bhc3N3b3JkX2Zvcm0nKTsKICAgICAgcmV0dXJuIGZvcm1Db25maWcgJiYgZm9ybUNvbmZpZy5pZCA/IGZvcm1Db25maWcuaWQgOiBudWxsOwogICAgfQogIH0pLAogIHdhdGNoOiB7CiAgICBzZXR0aW5nc0xvYWRlZDogewogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoc2V0dGluZ3NMb2FkZWQpIHsKICAgICAgICBpZiAoc2V0dGluZ3NMb2FkZWQpIHsKICAgICAgICAgIHRoaXMuZmV0Y2hSZXNldFBhc3N3b3JkRm9ybSgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGZvcm06IGZ1bmN0aW9uIGZvcm0oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIC8vIGV4dHJhY3QgdGhlIHBhc3N3b3JkIHJlc2V0IGtleSBmcm9tIHVybCBhbmQgc2V0IHZhbHVlIGluIHRoZSBmaXJzdCBoaWRkZW4gaW5wdXQgZmllbGQKICAgICAgICBfdGhpczIuZm9ybS5maWVsZHMuZmluZChmdW5jdGlvbiAoZmllbGQpIHsKICAgICAgICAgIHJldHVybiBmaWVsZC50eXBlID09PSAnaGlkZGVuJzsKICAgICAgICB9KS5pbnB1dHNbMF0udmFsdWUgPSBfdGhpczIuZ2V0UGFzc3dvcmRSZXNldEtleSgpOwogICAgICB9KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFBhc3N3b3JkUmVzZXRLZXk6IGZ1bmN0aW9uIGdldFBhc3N3b3JkUmVzZXRLZXkoKSB7CiAgICAgIHJldHVybiBhdG9iKHRoaXMuJHJvdXRlLnBhcmFtcy5rZXkpOwogICAgfSwKICAgIGZldGNoUmVzZXRQYXNzd29yZEZvcm06IGZ1bmN0aW9uIGZldGNoUmVzZXRQYXNzd29yZEZvcm0oKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKEZPUk1TX0ZFVENIX0ZPUk0sIHRoaXMuZm9ybUlkKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ResetPassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqBA,SAAA,UAAA,EAAA,QAAA,QAAA,MAAA;AACA,OAAA,YAAA,MAAA,6CAAA;AACA,OAAA,cAAA,MAAA,oCAAA;AACA,SAAA,YAAA,EAAA,cAAA,QAAA,kBAAA;AACA,SAAA,gBAAA,QAAA,4BAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,yBAAA,YADA;AAEA,2BAAA;AAFA,GADA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AACA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,wBAAA;AADA,OADA;AAIA,MAAA,IAAA,EAAA,CACA,cAAA,CAAA,KAAA,EAAA,CAAA,8BAAA,CAAA,CADA,CAJA;AAOA,MAAA,IAAA,EAAA,CACA,YAAA,CAAA,KAAA,MAAA,CADA;AAPA,KAAA;AAWA,GAlBA;AAoBA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,SAAA,EAAA,gBAAA,CAAA,CADA,MAEA,QAAA,CAAA;AACA,IAAA,IADA,gBACA,KADA,EACA;AAAA;;AACA,aAAA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,EAAA,KAAA,KAAA,CAAA,MAAA;AAAA,OAAA,CAAA;AACA;AAHA,GAAA,CAFA;AAQA,IAAA,MARA,oBAQA;AACA,UAAA,UAAA,GAAA,KAAA,OAAA,CAAA,yBAAA,CAAA;AAEA,aAAA,UAAA,IAAA,UAAA,CAAA,EAAA,GAAA,UAAA,CAAA,EAAA,GAAA,IAAA;AACA;AAZA,IApBA;AAmCA,EAAA,KAAA,EAAA;AACA,IAAA,cAAA,EAAA;AACA,MAAA,SAAA,EAAA,IADA;AAEA,MAAA,OAFA,mBAEA,cAFA,EAEA;AACA,YAAA,cAAA,EAAA;AACA,eAAA,sBAAA;AACA;AACA;AANA,KADA;AAUA,IAAA,IAVA,kBAUA;AAAA;;AACA,WAAA,SAAA,CAAA,YAAA;AACA;AACA,QAAA,MAAA,CAAA,IAAA,CAAA,MAAA,CACA,IADA,CACA,UAAA,KAAA;AAAA,iBAAA,KAAA,CAAA,IAAA,KAAA,QAAA;AAAA,SADA,EAEA,MAFA,CAEA,CAFA,EAEA,KAFA,GAEA,MAAA,CAAA,mBAAA,EAFA;AAGA,OALA;AAMA;AAjBA,GAnCA;AAuDA,EAAA,OAAA,EAAA;AACA,IAAA,mBADA,iCACA;AACA,aAAA,IAAA,CAAA,KAAA,MAAA,CAAA,MAAA,CAAA,GAAA,CAAA;AACA,KAHA;AAKA,IAAA,sBALA,oCAKA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,gBAAA,EAAA,KAAA,MAAA;AACA;AAPA;AAvDA,CAAA","sourcesContent":["<template>\n  <div class=\"reset-password my-12 tablet:my-24 px-8 tablet:px-0 mx-auto max-w-2xl\">\n    <apo-wait :for=\"`form.${formId}`\">\n      <template #waiting>\n        <apo-loading-overlay\n          class=\"my-15\"\n          :message=\"$t('loaders.form')\"\n        />\n      </template>\n\n      <apo-form-renderer\n        v-if=\"form\"\n        ref=\"form\"\n        v-bind=\"form\"\n      />\n    </apo-wait>\n  </div>\n</template>\n\n<script>\n\nimport { mapGetters, mapState } from 'vuex';\nimport FormRenderer from '@/components/form-renderer/FormRenderer.vue';\nimport LoadingOverlay from '@/components/ui/LoadingOverlay.vue';\nimport { canonicalTag, descriptionTag } from '@/services/utils';\nimport { FORMS_FETCH_FORM } from '@/store/types/action-types';\n\nexport default {\n  components: {\n    'apo-form-renderer': FormRenderer,\n    'apo-loading-overlay': LoadingOverlay,\n  },\n\n  head() {\n    return {\n      title: {\n        inner: this.$t('pages.reset.meta.title'),\n      },\n      meta: [\n        descriptionTag(this.$t('pages.reset.meta.description')),\n      ],\n      link: [\n        canonicalTag(this.$route),\n      ],\n    };\n  },\n\n  computed: {\n    ...mapGetters(['getForm', 'settingsLoaded']),\n    ...mapState({\n      form(state) {\n        return state.forms.forms.find(form => form.id === this.formId);\n      },\n    }),\n\n    formId() {\n      const formConfig = this.getForm('apo_reset_password_form');\n\n      return formConfig && formConfig.id ? formConfig.id : null;\n    },\n  },\n\n  watch: {\n    settingsLoaded: {\n      immediate: true,\n      handler(settingsLoaded) {\n        if (settingsLoaded) {\n          this.fetchResetPasswordForm();\n        }\n      },\n    },\n\n    form() {\n      this.$nextTick(() => {\n        // extract the password reset key from url and set value in the first hidden input field\n        this.form.fields\n          .find(field => field.type === 'hidden')\n          .inputs[0].value = this.getPasswordResetKey();\n      });\n    },\n  },\n\n  methods: {\n    getPasswordResetKey() {\n      return atob(this.$route.params.key);\n    },\n\n    fetchResetPasswordForm() {\n      this.$store.dispatch(FORMS_FETCH_FORM, this.formId);\n    },\n  },\n};\n\n</script>\n"],"sourceRoot":"src/views"}]}