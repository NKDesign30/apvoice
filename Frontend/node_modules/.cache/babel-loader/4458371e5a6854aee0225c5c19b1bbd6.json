{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/components/maintenance/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/src/components/maintenance/index.vue","mtime":1683275992562},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wcm9taXNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucHJvbWlzZS5maW5hbGx5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGdldCBmcm9tICJsb2Rhc2gvZ2V0IjsKaW1wb3J0IFRleHRJbnB1dCBmcm9tICJAL2NvbXBvbmVudHMvZm9ybS1yZW5kZXJlci9UZXh0SW5wdXQudnVlIjsKaW1wb3J0IHsgQVVUSF9MT0dJTiB9IGZyb20gIkAvc3RvcmUvdHlwZXMvYWN0aW9uLXR5cGVzIjsKaW1wb3J0IHsgQVVUSF9VUERBVEVfU0hPV19VUERBVEVfUEhBUk1BQ1lfTU9EQUwgfSBmcm9tICJAL3N0b3JlL3R5cGVzL211dGF0aW9uLXR5cGVzIjsKaW1wb3J0IEZyb250cGFnZSBmcm9tICJAL2NvbXBvbmVudHMvZnJvbnRwYWdlL0Zyb250cGFnZS52dWUiOwppbXBvcnQgUGFnZVNlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9hcGkvUGFnZVNlcnZpY2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgImFwby10ZXh0LWlucHV0IjogVGV4dElucHV0LAogICAgImFwby1mcm9udHBhZ2UiOiBGcm9udHBhZ2UKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7CiAgICAgICAgdXNlcm5hbWU6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIgogICAgICB9LAogICAgICBsb2dpblN0YXR1czogIiIsCiAgICAgIGlzQnVzeTogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmlzQnVzeSA9IHRydWU7CiAgICAgIHRoaXMubG9naW5TdGF0dXMgPSB0aGlzLiR0KCJwYWdlcy5sb2dpbi5tZXNzYWdlcy5wZW5kaW5nIik7CiAgICAgIHdpbmRvdy5heGlvcy5wb3N0KCIvd3AtanNvbi9qd3QtYXV0aC92MS90b2tlbiIsIHRoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciBkYXRhID0gX3JlZi5kYXRhOwoKICAgICAgICBpZiAoT2JqZWN0LmtleXMoZGF0YSkuaW5jbHVkZXMoImhhc191cGRhdGVkX3BoYXJtYWN5X2FkZHJlc3MiKSkgewogICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdChBVVRIX1VQREFURV9TSE9XX1VQREFURV9QSEFSTUFDWV9NT0RBTCwgIWRhdGEuaGFzX3VwZGF0ZWRfcGhhcm1hY3lfYWRkcmVzcyk7CiAgICAgICAgfQoKICAgICAgICBfdGhpcy5sb2dpblN0YXR1cyA9IF90aGlzLiR0KCJwYWdlcy5sb2dpbi5tZXNzYWdlcy5zdWNjZXNzIik7CgogICAgICAgIF90aGlzLiRzdG9yZS5kaXNwYXRjaChBVVRIX0xPR0lOLCB7CiAgICAgICAgICB0b2tlbjogZGF0YS50b2tlbiwKICAgICAgICAgIHVzZXI6IHsKICAgICAgICAgICAgbmFtZTogZGF0YS51c2VyX2Rpc3BsYXlfbmFtZSwKICAgICAgICAgICAgZW1haWw6IGRhdGEudXNlcl9lbWFpbAogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgUGFnZVNlcnZpY2UuZ2V0UGFnZXMoKS50aGVuKGZ1bmN0aW9uIChkYXRhUGFnZXMpIHsKICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgiYWRkUGFnZUNvbnRlbnQiLCBkYXRhUGFnZXMpOwoKICAgICAgICAgICAgdmFyIHRtcERhdGEgPSBkYXRhUGFnZXMuZmlsdGVyKGZ1bmN0aW9uIChwYWdlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHBhZ2UuYWNmLnNsaWRlczsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRtcERhdGEuZm9yRWFjaChmdW5jdGlvbiAocGFnZSkgewogICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoImFkZFN0YWdlIiwgewogICAgICAgICAgICAgICAgbmFtZTogcGFnZS5zbHVnLAogICAgICAgICAgICAgICAgc3RhZ2U6IHsKICAgICAgICAgICAgICAgICAgbWluaW11bV9oZWlnaHQ6IHBhZ2UuYWNmLm1pbmltdW1faGVpZ2h0LAogICAgICAgICAgICAgICAgICBzbGlkZXM6IHBhZ2UuYWNmLnNsaWRlcwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGlmIChfdGhpcy4kcm91dGUucXVlcnkucmVkaXJlY3RfcGF0aCkgewogICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucmVwbGFjZSh7CiAgICAgICAgICAgICAgICBwYXRoOiBfdGhpcy4kcm91dGUucXVlcnkucmVkaXJlY3RfcGF0aAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucmVwbGFjZSgiL3dlbGNvbWUiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHZhciBlcnJvckNvZGUgPSBnZXQoZXJyb3IsICJyZXNwb25zZS5kYXRhLmNvZGUiLCAiIikucmVwbGFjZSgvXFtqd3RfYXV0aFxdXHMrL2csICIiKTsKICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gZ2V0KGVycm9yLCAicmVzcG9uc2UuZGF0YS5tZXNzYWdlIiwgIiIpOwogICAgICAgIHZhciBlcnJvclN0YXR1cyA9IGdldChlcnJvciwgInJlc3BvbnNlLnN0YXR1cyIsIDApOwoKICAgICAgICBpZiAoZXJyb3JNZXNzYWdlLmluZGV4T2YoIllvdSBhcmUgdGVtcG9yYXJpbHkgbG9ja2VkIG91dCIpICE9PSAtMSAmJiBlcnJvclN0YXR1cyA9PT0gNTAzKSB7CiAgICAgICAgICBfdGhpcy5sb2dpblN0YXR1cyA9IF90aGlzLiR0KCJlcnJvcnMudG9vX21hbnlfcmV0cmllcyIpOwogICAgICAgICAgLyoqCiAgICAgICAgICAgKiBUaGUgJ2luY29ycmVjdF9wYXNzd29yZCcgZXJyb3IgbXVzdCBiZSB0cmFuc2xhdGVkIG9uIHRoZSBmcm9udGVuZCwKICAgICAgICAgICAqIGJlY2F1c2Ugd29yZGZlbmNlIHByb3ZpZGVzIGFuIHRyYW5zbGF0aW9uIGlzc3VlIHRoYXQgaXMgbm90IHJlc29sdmVkLgogICAgICAgICAgICogTWF5YmUgdGhpcyBjYW4gYmUgZml4ZWQgaW4gdGhlIGZ1dHVyZS4KICAgICAgICAgICAqIEBsaW5rIGh0dHBzOi8vd29yZHByZXNzLm9yZy9zdXBwb3J0L3RvcGljL2NhbnQtdHJhbnNsYXRlLWVycm9yLXRoZS11c2VybmFtZS1vci1wYXNzd29yZC15b3UtZW50ZXJlZC1pcy1pbmNvcnJlY3QvCiAgICAgICAgICAgKi8KICAgICAgICB9IGVsc2UgaWYgKGVycm9yQ29kZSA9PT0gInRvb19tYW55X3JldHJpZXMiIHx8IGVycm9yQ29kZSA9PT0gImluY29ycmVjdF9wYXNzd29yZCIpIHsKICAgICAgICAgIC8vIGNvbnN0IG1hdGNoID0gZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlLm1hdGNoKC8oXGQrKS4qPyhcdyspLyk7CiAgICAgICAgICBfdGhpcy5sb2dpblN0YXR1cyA9IF90aGlzLiR0KCJlcnJvcnMuIi5jb25jYXQoZXJyb3JDb2RlKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLmxvZ2luU3RhdHVzID0gZ2V0KGVycm9yLCAicmVzcG9uc2UuZGF0YS5tZXNzYWdlIiwgIiIpOwogICAgICAgIH0KICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuaXNCdXN5ID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIG9uUmVnaXN0ZXJDbGljazogZnVuY3Rpb24gb25SZWdpc3RlckNsaWNrKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3JlZ2lzdHJhdGlvbiIpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div style=\"height: 60vh\">\n    <div class=\"login-wrapper\">\n      <div class=\"container py-24 mx-auto\">\n        <div class=\"flex flex-col items-center login\">\n          <h1 class=\"text-xs login__headline text-[25px]\">\n            Hola queridos usuarios, <br> Actualmente estamos revisando nuestro sitio\n            web. <br> Por favor, vuelva m√°s tarde. <br>Saludos de su equipo de Apovoice\n          </h1>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport get from \"lodash/get\";\nimport TextInput from \"@/components/form-renderer/TextInput.vue\";\nimport { AUTH_LOGIN } from \"@/store/types/action-types\";\nimport { AUTH_UPDATE_SHOW_UPDATE_PHARMACY_MODAL } from \"@/store/types/mutation-types\";\nimport Frontpage from \"@/components/frontpage/Frontpage.vue\";\nimport PageService from \"@/services/api/PageService\";\n\nexport default {\n  components: {\n    \"apo-text-input\": TextInput,\n    \"apo-frontpage\": Frontpage,\n  },\n\n  data() {\n    return {\n      form: {\n        username: \"\",\n        password: \"\",\n      },\n      loginStatus: \"\",\n      isBusy: false,\n    };\n  },\n\n  methods: {\n    login() {\n      this.isBusy = true;\n      this.loginStatus = this.$t(\"pages.login.messages.pending\");\n\n      window.axios\n        .post(\"/wp-json/jwt-auth/v1/token\", this.form)\n        .then(({ data }) => {\n          if (Object.keys(data).includes(\"has_updated_pharmacy_address\")) {\n            this.$store.commit(\n              AUTH_UPDATE_SHOW_UPDATE_PHARMACY_MODAL,\n              !data.has_updated_pharmacy_address\n            );\n          }\n          this.loginStatus = this.$t(\"pages.login.messages.success\");\n\n          this.$store\n            .dispatch(AUTH_LOGIN, {\n              token: data.token,\n              user: {\n                name: data.user_display_name,\n                email: data.user_email,\n              },\n            })\n            .then(() => {\n              PageService.getPages().then((dataPages) => {\n                this.$store.commit(\"addPageContent\", dataPages);\n                const tmpData = dataPages.filter((page) => page.acf.slides);\n                tmpData.forEach((page) => {\n                  this.$store.commit(\"addStage\", {\n                    name: page.slug,\n                    stage: {\n                      minimum_height: page.acf.minimum_height,\n                      slides: page.acf.slides,\n                    },\n                  });\n                });\n\n                if (this.$route.query.redirect_path) {\n                  this.$router.replace({\n                    path: this.$route.query.redirect_path,\n                  });\n                } else {\n                  this.$router.replace(\"/welcome\");\n                }\n              });\n            });\n        })\n        .catch((error) => {\n          const errorCode = get(error, \"response.data.code\", \"\").replace(\n            /\\[jwt_auth\\]\\s+/g,\n            \"\"\n          );\n\n          const errorMessage = get(error, \"response.data.message\", \"\");\n          const errorStatus = get(error, \"response.status\", 0);\n\n          if (\n            errorMessage.indexOf(\"You are temporarily locked out\") !== -1 &&\n            errorStatus === 503\n          ) {\n            this.loginStatus = this.$t(\"errors.too_many_retries\");\n            /**\n             * The 'incorrect_password' error must be translated on the frontend,\n             * because wordfence provides an translation issue that is not resolved.\n             * Maybe this can be fixed in the future.\n             * @link https://wordpress.org/support/topic/cant-translate-error-the-username-or-password-you-entered-is-incorrect/\n             */\n          } else if (\n            errorCode === \"too_many_retries\" ||\n            errorCode === \"incorrect_password\"\n          ) {\n            // const match = error.response.data.message.match(/(\\d+).*?(\\w+)/);\n            this.loginStatus = this.$t(`errors.${errorCode}`);\n          } else {\n            this.loginStatus = get(error, \"response.data.message\", \"\");\n          }\n        })\n        .finally(() => {\n          this.isBusy = false;\n        });\n    },\n\n    onRegisterClick() {\n      this.$router.push(\"/registration\");\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.login {\n  &-wrapper {\n    background: linear-gradient(\n      120deg,\n      theme(\"colors.blue.600\"),\n      theme(\"colors.blue.400\")\n    );\n\n    .button {\n      @apply py-6;\n      @apply px-4;\n    }\n  }\n\n  /deep/ &-text-input {\n    @apply pl-16;\n    @apply pr-8;\n    @apply py-6;\n    @apply text-white;\n\n    &:hover,\n    &:focus {\n      background-color: hsla(0, 0%, 100%, 0.08);\n      border-color: theme(\"colors.white\");\n    }\n\n    &-wrapper {\n      @apply border-4;\n      @apply border-white;\n    }\n  }\n\n  &__headline {\n    @apply text-center;\n    @apply text-white;\n    @apply font-display;\n    @apply text-3xl;\n    line-height: 2.5rem;\n    font-weight: 300;\n\n    @screen tablet {\n      font-size: 3.125rem;\n      line-height: 3.75rem;\n    }\n\n    @screen desktop {\n      font-size: 3.75rem;\n      line-height: 4.375rem;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/components/maintenance"}]}