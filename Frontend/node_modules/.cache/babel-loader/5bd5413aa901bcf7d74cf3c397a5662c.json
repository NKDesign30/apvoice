{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/views/Raffle.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/src/views/Raffle.vue","mtime":1683275992581},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wcm9taXNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgTm90Rm91bmRQYWdlIGZyb20gJ0AvY29tcG9uZW50cy9jbXMvTm90Rm91bmRQYWdlLnZ1ZSc7CmltcG9ydCB7IFJBRkZMRV9GRVRDSF9BTEwgfSBmcm9tICdAL3N0b3JlL3R5cGVzL2FjdGlvbi10eXBlcyc7CmltcG9ydCBSYWZmbGVTZXJ2aWNlIGZyb20gJ0Avc2VydmljZXMvYXBpL1JhZmZsZVNlcnZpY2UnOwppbXBvcnQgdGhlbWVTZXR0aW5ncyBmcm9tICdAL21peGlucy90aGVtZS1zZXR0aW5ncyc7CmltcG9ydCBMb2FkaW5nT3ZlcmxheSBmcm9tICdAL2NvbXBvbmVudHMvdWkvTG9hZGluZ092ZXJsYXkudnVlJzsKaW1wb3J0IFN0YWdlIGZyb20gJ0AvY29tcG9uZW50cy90ZW1wbGF0ZS9TdGFnZS52dWUnOwppbXBvcnQgQ21zQ29udGVudFJlbmRlcmVyIGZyb20gJ0AvY29tcG9uZW50cy9jbXMvQ21zQ29udGVudFJlbmRlcmVyLnZ1ZSc7CmltcG9ydCBUZXh0YXJlYSBmcm9tICdAL2NvbXBvbmVudHMvZm9ybS1yZW5kZXJlci9UZXh0YXJlYS52dWUnOwppbXBvcnQgSW5wdXQgZnJvbSAnQC9jb21wb25lbnRzL2Zvcm0vSW5wdXQudnVlJzsKaW1wb3J0IElucHV0TGFiZWwgZnJvbSAnQC9jb21wb25lbnRzL2Zvcm0tcmVuZGVyZXIvSW5wdXRMYWJlbC52dWUnOwppbXBvcnQgQ2hlY2tib3ggZnJvbSAnQC9jb21wb25lbnRzL2Zvcm0vQ2hlY2tib3gudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgICdhcG8tbG9hZGluZy1vdmVybGF5JzogTG9hZGluZ092ZXJsYXksCiAgICAnYXBvLW5vdC1mb3VuZC1wYWdlJzogTm90Rm91bmRQYWdlLAogICAgJ2Fwby1zdGFnZSc6IFN0YWdlLAogICAgJ2Fwby1jbXMtY29udGVudC1yZW5kZXJlcic6IENtc0NvbnRlbnRSZW5kZXJlciwKICAgICdhcG8tdGV4dGFyZWEnOiBUZXh0YXJlYSwKICAgICdhcG8taW5wdXQnOiBJbnB1dCwKICAgICdhcG8taW5wdXQtbGFiZWwnOiBJbnB1dExhYmVsLAogICAgJ2Fwby1jaGVja2JveCc6IENoZWNrYm94CiAgfSwKICBtaXhpbnM6IFt0aGVtZVNldHRpbmdzKCdyYWZmbGUnKV0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzT3ZlcnZpZXc6IHRydWUsCiAgICAgIGhhc1BhcnRpY2lwYXRlZDogZmFsc2UsCiAgICAgIHJhZmZsZUV4cGlyZWQ6IGZhbHNlLAogICAgICBwYXJ0aWNpcGF0aW9uTGltaXRSZWFjaGVkOiBmYWxzZSwKICAgICAgcGFydGljaXBhdGlvbkNoZWNrOiBmYWxzZSwKICAgICAgc2VsZWN0ZWRDaG9pY2U6IG51bGwsCiAgICAgIHRleHRJbnB1dDogJycsCiAgICAgIGZpbGVOYW1lOiAnJywKICAgICAgZmlsZVVwbG9hZDogJycsCiAgICAgIGZvcm06IHsKICAgICAgICBpbnB1dGZpZWxkczogW10sCiAgICAgICAgY2hlY2tib3hlczogW10KICAgICAgfSwKICAgICAgaXNCdXN5OiBmYWxzZSwKICAgICAgc3VibWl0U3VjY2Vzc2Z1bDogZmFsc2UsCiAgICAgIHVwbG9hZEVycm9yOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsnaXNBdXRoZW50aWNhdGVkJywgJ2xhbmd1YWdlJywgJ3JhZmZsZScsICd1c2VyJ10pLCB7CiAgICByYWZmbGVEZXRhaWw6IGZ1bmN0aW9uIHJhZmZsZURldGFpbCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuc2x1ZyAmJiB0aGlzLnJhZmZsZS5sZW5ndGgpIHsKICAgICAgICByZXR1cm4gdGhpcy5yYWZmbGUuZmluZChmdW5jdGlvbiAob2JqZWN0KSB7CiAgICAgICAgICByZXR1cm4gU3RyaW5nKG9iamVjdC5zbHVnKSA9PT0gU3RyaW5nKF90aGlzLiRyb3V0ZS5wYXJhbXMuc2x1Zyk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfSwKICAgIHN0YWdlOiBmdW5jdGlvbiBzdGFnZSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBtaW5pbXVtX2hlaWdodDogdGhpcy5yYWZmbGVEZXRhaWwuc3RhZ2UubWluaW11bV9oZWlnaHQsCiAgICAgICAgc2xpZGVzOiB0aGlzLnJhZmZsZURldGFpbC5zdGFnZS5zbGlkZXMKICAgICAgfTsKICAgIH0sCiAgICBjb250ZW50OiBmdW5jdGlvbiBjb250ZW50KCkgewogICAgICByZXR1cm4gewogICAgICAgIGNvbnRlbnQ6IHRoaXMucmFmZmxlRGV0YWlsLmNvbnRlbnQKICAgICAgfTsKICAgIH0sCiAgICBjb250ZXN0OiBmdW5jdGlvbiBjb250ZXN0KCkgewogICAgICByZXR1cm4gdGhpcy5yYWZmbGVEZXRhaWwuY29udGVzdDsKICAgIH0sCiAgICBmb3JtRmllbGRzOiBmdW5jdGlvbiBmb3JtRmllbGRzKCkgewogICAgICByZXR1cm4gdGhpcy5yYWZmbGVEZXRhaWwgPyB0aGlzLnJhZmZsZURldGFpbC5mb3JtIDogbnVsbDsKICAgIH0KICB9KSwKICB3YXRjaDogewogICAgJHJvdXRlOiB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihyb3V0ZSkgewogICAgICAgIGlmIChyb3V0ZS5wYXJhbXMuc2x1ZykgewogICAgICAgICAgdGhpcy5pc092ZXJ2aWV3ID0gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuaXNPdmVydmlldyA9IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKFtSQUZGTEVfRkVUQ0hfQUxMXSksIHsKICAgIHJhZmZsZURldGFpbHM6IGZ1bmN0aW9uIHJhZmZsZURldGFpbHMoc2x1ZykgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ3JhZmZsZXMnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgc2x1Zzogc2x1ZwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2hlY2tQYXJ0aWNpcGF0aW9uOiBmdW5jdGlvbiBjaGVja1BhcnRpY2lwYXRpb24oZGF0YSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMucGFydGljaXBhdGlvbnMgPSBkYXRhLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChwYXJ0aWNpcGFudCkgewogICAgICAgIHJldHVybiBOdW1iZXIocGFydGljaXBhbnQucmFmZmxlX2lkKSA9PT0gTnVtYmVyKF90aGlzMi5yYWZmbGVEZXRhaWwuaWQpOwogICAgICB9KTsKICAgICAgdGhpcy5wYXJ0aWNpcGF0aW9uTGltaXRSZWFjaGVkID0gdGhpcy5yYWZmbGVEZXRhaWwuY29uZmlndXJhdGlvbi5wYXJ0aWNpcGFudF9saW1pdGF0aW9uID8gISh0aGlzLnBhcnRpY2lwYXRpb25zLmxlbmd0aCA8IE51bWJlcih0aGlzLnJhZmZsZURldGFpbC5jb25maWd1cmF0aW9uLnBhcnRpY2lwYW50X2xpbWl0YXRpb24pKSA6IGZhbHNlOwogICAgICB0aGlzLnJhZmZsZUV4cGlyZWQgPSB0aGlzLnJhZmZsZURldGFpbC5jb25maWd1cmF0aW9uLmV4cGlyZV9kYXRlID8gbmV3IERhdGUodGhpcy5yYWZmbGVEZXRhaWwuY29uZmlndXJhdGlvbi5leHBpcmVfZGF0ZSkgPCBuZXcgRGF0ZSgpIDogZmFsc2U7CiAgICAgIHRoaXMuaGFzUGFydGljaXBhdGVkID0gdGhpcy5wYXJ0aWNpcGF0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKHBhcnRpY2lwYW50KSB7CiAgICAgICAgcmV0dXJuIE51bWJlcihwYXJ0aWNpcGFudC51c2VyX2lkKSA9PT0gTnVtYmVyKF90aGlzMi51c2VyLmlkKTsKICAgICAgfSkubGVuZ3RoID4gMDsKICAgICAgdGhpcy5wYXJ0aWNpcGF0aW9uQ2hlY2sgPSB0cnVlOwogICAgfSwKICAgIG9uVGV4dElucHV0Q2hhbmdlOiBmdW5jdGlvbiBvblRleHRJbnB1dENoYW5nZShldmVudCkgewogICAgICB0aGlzLnRleHRJbnB1dCA9IGV2ZW50OwogICAgfSwKICAgIG9uVXBsb2FkRmlsZUNoYW5nZTogZnVuY3Rpb24gb25VcGxvYWRGaWxlQ2hhbmdlKCkgewogICAgICB0aGlzLmhhbmRsZVVwbG9hZEZpbGUoKTsKICAgIH0sCiAgICBoYW5kbGVVcGxvYWRGaWxlOiBmdW5jdGlvbiBoYW5kbGVVcGxvYWRGaWxlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGhhbmRsZVVwbG9hZEZpbGUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGlmICghKCF0aGlzLiRyZWZzLmZpbGVVcGxvYWQuZmlsZXMgfHwgdGhpcy4kcmVmcy5maWxlVXBsb2FkLmZpbGVzLmxlbmd0aCA9PT0gMCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICB0aGlzLmZpbGVOYW1lID0gdGhpcy4kcmVmcy5maWxlVXBsb2FkLmZpbGVzWzBdLm5hbWU7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIG51bGwsIHRoaXMpOwogICAgfSwKICAgIHJlc2V0RmlsZTogZnVuY3Rpb24gcmVzZXRGaWxlKCkgewogICAgICB0aGlzLmZpbGVOYW1lID0gJyc7CiAgICAgIHRoaXMuZmlsZVVwbG9hZCA9ICcnOwogICAgfSwKICAgIGNyZWF0ZUZvcm1EYXRhOiBmdW5jdGlvbiBjcmVhdGVGb3JtRGF0YSgpIHsKICAgICAgaWYgKCF0aGlzLmZvcm1GaWVsZHMpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuZm9ybS5pbnB1dGZpZWxkcyA9IFt7CiAgICAgICAgbmFtZTogJ2ZpcnN0TmFtZScsCiAgICAgICAgdmFsdWU6IHRoaXMudXNlci5maXJzdE5hbWUKICAgICAgfSwgewogICAgICAgIG5hbWU6ICdsYXN0TmFtZScsCiAgICAgICAgdmFsdWU6IHRoaXMudXNlci5sYXN0TmFtZQogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ3BoYXJtYWN5TmFtZScsCiAgICAgICAgdmFsdWU6ICcnCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAncGhhcm1hY3lDb3VudHJ5JywKICAgICAgICB2YWx1ZTogJycKICAgICAgfSwgewogICAgICAgIG5hbWU6ICdwaGFybWFjeVN0cmVldCcsCiAgICAgICAgdmFsdWU6ICcnCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAncGhhcm1hY3lTdHJlZXROdW1iZXInLAogICAgICAgIHZhbHVlOiAnJwogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ3BoYXJtYWN5WmlwQ29kZScsCiAgICAgICAgdmFsdWU6ICcnCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAncGhhcm1hY3lDaXR5JywKICAgICAgICB2YWx1ZTogJycKICAgICAgfV07CgogICAgICBpZiAodGhpcy5mb3JtRmllbGRzLmNoZWNrYm94ZXMubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMuZm9ybS5jaGVja2JveGVzID0gdGhpcy5mb3JtRmllbGRzLmNoZWNrYm94ZXMubWFwKGZ1bmN0aW9uIChjaGVja2JveCkgewogICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIGNoZWNrYm94LCB7CiAgICAgICAgICAgIHZhbHVlOiAnb2ZmJwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEodGhpcy4kcmVmcy5zdWJtaXRGb3JtKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCdyYWZmbGVfaWQnLCBOdW1iZXIodGhpcy5yYWZmbGVEZXRhaWwuaWQpKTsKICAgICAgaWYgKHRoaXMuY29udGVzdC50eXBlID09PSAnVXBsb2FkJykgZm9ybURhdGEuYXBwZW5kKCdjb250ZXN0JywgdGhpcy5maWxlTmFtZSk7CiAgICAgIHRoaXMuaXNCdXN5ID0gdHJ1ZTsKICAgICAgUmFmZmxlU2VydmljZS5zdG9yZShmb3JtRGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczMuaXNCdXN5ID0gZmFsc2U7CiAgICAgICAgX3RoaXMzLnN1Ym1pdFN1Y2Nlc3NmdWwgPSB0cnVlOwogICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZS5kYXRhKTsKCiAgICAgICAgaWYgKGRhdGEuc3RhdGUgPT09IGZhbHNlKSB7CiAgICAgICAgICBfdGhpczMuaGFzUGFydGljaXBhdGVkID0gZmFsc2U7CiAgICAgICAgICBfdGhpczMuc3VibWl0U3VjY2Vzc2Z1bCA9IGZhbHNlOwogICAgICAgICAgX3RoaXMzLnVwbG9hZEVycm9yID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuaXNCdXN5ID0gZmFsc2U7CiAgICAgIH0pOwogICAgICAvKiBVc2VyU2VydmljZS51cGRhdGVVc2VyUHJvZmlsZSh0aGlzLnVzZXIsIGRhdGEpCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goQVVUSF9GRVRDSF9DVVJSRU5UX1VTRVIpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCh7IHJlc3BvbnNlIH0pID0+IHsKICAgICAgICAgIHRoaXMuZXJyb3JzLmNsZWFyKCk7CiAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAwICYmIHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gJ3Jlc3RfaW52YWxpZF9wYXJhbScpIHsKICAgICAgICAgICAgdGhpcy5lcnJvcnMuYXNzaWduKHJlc3BvbnNlLmRhdGEuZGF0YS5wYXJhbXMpOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmZpbmFsbHkoKCkgPT4gewogICAgICAgICAgdGhpcy5pc0J1c3kgPSBmYWxzZTsKICAgICAgICB9KTsgKi8KICAgIH0KICB9KSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgdGhpc1tSQUZGTEVfRkVUQ0hfQUxMXSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICBfdGhpczQuY3JlYXRlRm9ybURhdGEoKTsKCiAgICAgIFJhZmZsZVNlcnZpY2UuZ2V0U3RvcmVkKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIF90aGlzNC5jaGVja1BhcnRpY2lwYXRpb24oZGF0YSk7CiAgICAgIH0pOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKCdlcnJvciByZXRyaWV2aW5nIHRoZSBwb3N0cycsIGVycm9yKTsKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["Raffle.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgQA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,OAAA,YAAA,MAAA,mCAAA;AACA,SAAA,gBAAA,QAAA,4BAAA;AACA,OAAA,aAAA,MAAA,8BAAA;AACA,OAAA,aAAA,MAAA,yBAAA;AACA,OAAA,cAAA,MAAA,oCAAA;AACA,OAAA,KAAA,MAAA,iCAAA;AACA,OAAA,kBAAA,MAAA,yCAAA;AACA,OAAA,QAAA,MAAA,yCAAA;AACA,OAAA,KAAA,MAAA,6BAAA;AACA,OAAA,UAAA,MAAA,2CAAA;AACA,OAAA,QAAA,MAAA,gCAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,2BAAA,cADA;AAEA,0BAAA,YAFA;AAGA,iBAAA,KAHA;AAIA,gCAAA,kBAJA;AAKA,oBAAA,QALA;AAMA,iBAAA,KANA;AAOA,uBAAA,UAPA;AAQA,oBAAA;AARA,GADA;AAYA,EAAA,MAAA,EAAA,CAAA,aAAA,CAAA,QAAA,CAAA,CAZA;AAcA,EAAA,IAdA,kBAcA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,IADA;AAEA,MAAA,eAAA,EAAA,KAFA;AAGA,MAAA,aAAA,EAAA,KAHA;AAIA,MAAA,yBAAA,EAAA,KAJA;AAKA,MAAA,kBAAA,EAAA,KALA;AAMA,MAAA,cAAA,EAAA,IANA;AAOA,MAAA,SAAA,EAAA,EAPA;AAQA,MAAA,QAAA,EAAA,EARA;AASA,MAAA,UAAA,EAAA,EATA;AAUA,MAAA,IAAA,EAAA;AACA,QAAA,WAAA,EAAA,EADA;AAEA,QAAA,UAAA,EAAA;AAFA,OAVA;AAcA,MAAA,MAAA,EAAA,KAdA;AAeA,MAAA,gBAAA,EAAA,KAfA;AAgBA,MAAA,WAAA,EAAA;AAhBA,KAAA;AAkBA,GAjCA;AAmCA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,iBAAA,EAAA,UAAA,EAAA,QAAA,EAAA,MAAA,CAAA,CADA;AAGA,IAAA,YAHA,0BAGA;AAAA;;AACA,UAAA,KAAA,MAAA,CAAA,MAAA,CAAA,IAAA,IAAA,KAAA,MAAA,CAAA,MAAA,EAAA;AACA,eAAA,KAAA,MAAA,CAAA,IAAA,CAAA,UAAA,MAAA;AAAA,iBAAA,MAAA,CAAA,MAAA,CAAA,IAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,IAAA,CAAA;AAAA,SAAA,CAAA;AACA;;AACA,aAAA,IAAA;AACA,KARA;AAUA,IAAA,KAVA,mBAUA;AACA,aAAA;AACA,QAAA,cAAA,EAAA,KAAA,YAAA,CAAA,KAAA,CAAA,cADA;AAEA,QAAA,MAAA,EAAA,KAAA,YAAA,CAAA,KAAA,CAAA;AAFA,OAAA;AAIA,KAfA;AAiBA,IAAA,OAjBA,qBAiBA;AACA,aAAA;AAAA,QAAA,OAAA,EAAA,KAAA,YAAA,CAAA;AAAA,OAAA;AACA,KAnBA;AAqBA,IAAA,OArBA,qBAqBA;AACA,aAAA,KAAA,YAAA,CAAA,OAAA;AACA,KAvBA;AAyBA,IAAA,UAzBA,wBAyBA;AACA,aAAA,KAAA,YAAA,GAAA,KAAA,YAAA,CAAA,IAAA,GAAA,IAAA;AACA;AA3BA,IAnCA;AAiEA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AACA,MAAA,SAAA,EAAA,IADA;AAEA,MAAA,OAFA,mBAEA,KAFA,EAEA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,IAAA,EAAA;AACA,eAAA,UAAA,GAAA,KAAA;AACA,SAFA,MAEA;AACA,eAAA,UAAA,GAAA,IAAA;AACA;AACA;AARA;AADA,GAjEA;AA8EA,EAAA,OAAA,oBACA,UAAA,CAAA,CAAA,gBAAA,CAAA,CADA;AAGA,IAAA,aAHA,yBAGA,IAHA,EAGA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA,SAAA;AAAA,QAAA,MAAA,EAAA;AAAA,UAAA,IAAA,EAAA;AAAA;AAAA,OAAA;AACA,KALA;AAOA,IAAA,kBAPA,8BAOA,IAPA,EAOA;AAAA;;AACA,WAAA,cAAA,GAAA,IAAA,CAAA,IAAA,CAAA,MAAA,CACA,UAAA,WAAA;AAAA,eAAA,MAAA,CAAA,WAAA,CAAA,SAAA,CAAA,KAAA,MAAA,CAAA,MAAA,CAAA,YAAA,CAAA,EAAA,CAAA;AAAA,OADA,CAAA;AAGA,WAAA,yBAAA,GAAA,KAAA,YAAA,CAAA,aAAA,CAAA,sBAAA,GACA,EACA,KAAA,cAAA,CAAA,MAAA,GACA,MAAA,CAAA,KAAA,YAAA,CAAA,aAAA,CAAA,sBAAA,CAFA,CADA,GAKA,KALA;AAMA,WAAA,aAAA,GAAA,KAAA,YAAA,CAAA,aAAA,CAAA,WAAA,GACA,IAAA,IAAA,CAAA,KAAA,YAAA,CAAA,aAAA,CAAA,WAAA,IAAA,IAAA,IAAA,EADA,GAEA,KAFA;AAGA,WAAA,eAAA,GAAA,KAAA,cAAA,CAAA,MAAA,CACA,UAAA,WAAA;AAAA,eAAA,MAAA,CAAA,WAAA,CAAA,OAAA,CAAA,KAAA,MAAA,CAAA,MAAA,CAAA,IAAA,CAAA,EAAA,CAAA;AAAA,OADA,EAEA,MAFA,GAEA,CAFA;AAGA,WAAA,kBAAA,GAAA,IAAA;AACA,KAxBA;AA0BA,IAAA,iBA1BA,6BA0BA,KA1BA,EA0BA;AACA,WAAA,SAAA,GAAA,KAAA;AACA,KA5BA;AA8BA,IAAA,kBA9BA,gCA8BA;AACA,WAAA,gBAAA;AACA,KAhCA;AAkCA,IAAA,gBAlCA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAmCA,CAAA,KAAA,KAAA,CAAA,UAAA,CAAA,KAAA,IAAA,KAAA,KAAA,CAAA,UAAA,CAAA,KAAA,CAAA,MAAA,KAAA,CAnCA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAuCA,mBAAA,QAAA,GAAA,KAAA,KAAA,CAAA,UAAA,CAAA,KAAA,CAAA,CAAA,EAAA,IAAA;;AAvCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0CA,IAAA,SA1CA,uBA0CA;AACA,WAAA,QAAA,GAAA,EAAA;AACA,WAAA,UAAA,GAAA,EAAA;AACA,KA7CA;AA+CA,IAAA,cA/CA,4BA+CA;AACA,UAAA,CAAA,KAAA,UAAA,EAAA;AACA;AACA;;AAEA,WAAA,IAAA,CAAA,WAAA,GAAA,CACA;AAAA,QAAA,IAAA,EAAA,WAAA;AAAA,QAAA,KAAA,EAAA,KAAA,IAAA,CAAA;AAAA,OADA,EAEA;AAAA,QAAA,IAAA,EAAA,UAAA;AAAA,QAAA,KAAA,EAAA,KAAA,IAAA,CAAA;AAAA,OAFA,EAGA;AAAA,QAAA,IAAA,EAAA,cAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAHA,EAIA;AAAA,QAAA,IAAA,EAAA,iBAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAJA,EAKA;AAAA,QAAA,IAAA,EAAA,gBAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OALA,EAMA;AAAA,QAAA,IAAA,EAAA,sBAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OANA,EAOA;AAAA,QAAA,IAAA,EAAA,iBAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAPA,EAQA;AAAA,QAAA,IAAA,EAAA,cAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OARA,CAAA;;AAUA,UAAA,KAAA,UAAA,CAAA,UAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,aAAA,IAAA,CAAA,UAAA,GAAA,KAAA,UAAA,CAAA,UAAA,CAAA,GAAA,CAAA,UAAA,QAAA;AAAA,mCACA,QADA;AAEA,YAAA,KAAA,EAAA;AAFA;AAAA,SAAA,CAAA;AAIA;AACA,KApEA;AAsEA,IAAA,MAtEA,oBAsEA;AAAA;;AACA,UAAA,QAAA,GAAA,IAAA,QAAA,CAAA,KAAA,KAAA,CAAA,UAAA,CAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,WAAA,EAAA,MAAA,CAAA,KAAA,YAAA,CAAA,EAAA,CAAA;AACA,UAAA,KAAA,OAAA,CAAA,IAAA,KAAA,QAAA,EAAA,QAAA,CAAA,MAAA,CAAA,SAAA,EAAA,KAAA,QAAA;AAEA,WAAA,MAAA,GAAA,IAAA;AAEA,MAAA,aAAA,CAAA,KAAA,CAAA,QAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,KAAA;AACA,QAAA,MAAA,CAAA,gBAAA,GAAA,IAAA;AACA,YAAA,IAAA,GAAA,IAAA,CAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA;;AACA,YAAA,IAAA,CAAA,KAAA,KAAA,KAAA,EAAA;AACA,UAAA,MAAA,CAAA,eAAA,GAAA,KAAA;AACA,UAAA,MAAA,CAAA,gBAAA,GAAA,KAAA;AACA,UAAA,MAAA,CAAA,WAAA,GAAA,IAAA;AACA;AACA,OAVA,EAWA,KAXA,CAWA,YAAA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,KAAA;AACA,OAbA;AAeA;;;;;;;;;;;;;AAcA;AA1GA,IA9EA;AA2LA,EAAA,OA3LA,qBA2LA;AAAA;;AACA,SAAA,gBAAA,IACA,IADA,CACA,YAAA;AACA,MAAA,MAAA,CAAA,cAAA;;AACA,MAAA,aAAA,CAAA,SAAA,GAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,MAAA,CAAA,kBAAA,CAAA,IAAA;AACA,OAFA;AAGA,KANA,EAOA,KAPA,CAOA,UAAA,KAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,4BAAA,EAAA,KAAA;AACA,KATA;AAUA;AAtMA,CAAA","sourcesContent":["<template>\n  <div>\n    <apo-wait for=\"raffle\">\n      <template #waiting>\n        <apo-loading-overlay\n          class=\"my-15\"\n          :message=\"$t('loaders.raffle')\"\n        />\n      </template>\n      <apo-not-found-page v-if=\"isOverview\" />\n      <div v-else>\n        <div v-if=\"raffleDetail\">\n          <apo-stage\n            v-if=\"stage\"\n            :stage-data=\"stage\"\n          />\n          <component\n            :is=\"`apo-cms-${renderer}-renderer`\"\n            v-for=\"(components, renderer) in content\"\n            :key=\"`${renderer}-renderer`\"\n            :components=\"components || []\"\n          />\n          <div v-if=\"participationCheck\">\n            <form\n              v-if=\"\n                !submitSuccessful &&\n                  (!hasParticipated ||\n                  raffleDetail.configuration.participation === 'Several times') &&\n                  !participationLimitReached &&\n                  !raffleExpired\n              \"\n              ref=\"submitForm\"\n              @submit.prevent=\"submit\"\n            >\n              <div\n                v-if=\"contest\"\n                class=\"py-10\"\n              >\n                <div class=\"container\">\n                  <div\n                    v-if=\"contest.headline\"\n                    class=\"text-center mb-4\"\n                  >\n                    {{ contest.headline }}\n                  </div>\n                  <div class=\"choice-container\">\n                    <div\n                      v-if=\"contest.type === 'Choice'\"\n                      class=\"flex items-center justify-center flex-wrap\"\n                    >\n                      <label\n                        v-for=\"choice in contest.choices\"\n                        :key=\"choice.choice\"\n                        :for=\"choice.choice\"\n                        class=\"choice-label\"\n                        :class=\"{ 'is-active': choice.choice === selectedChoice }\"\n                        :title=\"choice.choice\"\n                      >\n                        <input\n                          :id=\"choice.choice\"\n                          v-model=\"selectedChoice\"\n                          class=\"h-full w-full cursor-pointer\"\n                          name=\"contest\"\n                          type=\"radio\"\n                          :value=\"choice.choice\"\n                          required\n                        >\n\n                        <div\n                          class=\"choice-text\"\n                          v-text=\"choice.choice\"\n                        />\n                      </label>\n                    </div>\n                    <div\n                      v-else-if=\"contest.type === 'Text Input'\"\n                      class=\"w-full\"\n                    >\n                      <apo-textarea\n                        class=\"mt-4 w-full h-40\"\n                        :maxlength=\"-1\"\n                        name=\"contest\"\n                        :value=\"textInput\"\n                        required\n                        @input=\"onTextInputChange\"\n                      />\n                    </div>\n                    <div\n                      v-else-if=\"contest.type === 'Upload'\"\n                      class=\"flex flex-col items-center justify-center\"\n                    >\n                      <apo-icon\n                        class=\"w-16 h-16 mb-8\"\n                        src=\"upload\"\n                      />\n                      <apo-button\n                        class=\"button button--primary button--tiny shadow-hard relative\n                               cursor-pointer\"\n                      >\n                        <span\n                          class=\"cursor-pointer\"\n                          v-text=\"$t('raffle.chooseFile')\"\n                        />\n                        <input\n                          ref=\"fileUpload\"\n                          class=\"absolute left-0 top-0 opacity-0 w-full h-full cursor-pointer\"\n                          type=\"file\"\n                          name=\"contest\"\n                          required\n                          @change=\"onUploadFileChange\"\n                        >\n                      </apo-button>\n                      <div\n                        v-if=\"fileName\"\n                        class=\"my-6\"\n                      >\n                        <span>{{ fileName }}</span>\n                        <apo-icon\n                          class=\"delete w-3 h-3 ml-2 cursor-pointer\"\n                          src=\"close\"\n                          @click=\"resetFile\"\n                        />\n                      </div>\n                      <div\n                        v-if=\"uploadError\"\n                        class=\"container text-center\"\n                      >\n                        <p\n                          class=\"text-red-500\"\n                          v-text=\"$t('raffle.uploadFormat')\"\n                        />\n                      </div>\n                    </div>\n                    <div\n                      v-else\n                    >\n                      <input\n                        type=\"hidden\"\n                        name=\"contest\"\n                        value=\"\"\n                      >\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div\n                v-if=\"form.inputfields.length > 0 || form.checkboxes.length > 0\"\n                class=\"container py-10\"\n              >\n                <div class=\"w-full tablet:flex tablet:justify-between tablet:flex-wrap\">\n                  <div\n                    v-for=\"inputfield in form.inputfields\"\n                    :key=\"inputfield.name\"\n                    class=\"w-full tablet:w-5/12 mt-8\"\n                  >\n                    <apo-input-label v-text=\"$t('raffle.form.' + inputfield.name)\" />\n                    <apo-input\n                      :id=\"inputfield.name\"\n                      v-model=\"inputfield.value\"\n                      :name=\"inputfield.name\"\n                      class=\"mt-2\"\n                      :required=\"true\"\n                      @keydown.enter=\"$emit('submit')\"\n                    />\n                  </div>\n                </div>\n                <div\n                  v-for=\"checkbox in form.checkboxes\"\n                  :key=\"checkbox.name\"\n                  class=\"w-full mt-12 tablet:flex tablet:justify-start tablet:items-center\"\n                >\n                  <Input\n                    :id=\"checkbox.name\"\n                    v-model=\"checkbox.value\"\n                    :name=\"checkbox.name\"\n                    type=\"checkbox\"\n                    :required=\"checkbox.required\"\n                  />\n                  <label\n                    :for=\"checkbox.name\"\n                    class=\"inline ml-2 cursor-pointer href-decoration\"\n                    v-html=\"checkbox.name\"\n                  />\n                </div>\n                <div class=\"w-full mt-12 flex justify-center\">\n                  <apo-button\n                    class=\"button button--primary button--tiny shadow-hard relative cursor-pointer\"\n                    type=\"submit\"\n                    :disabled=\"isBusy\"\n                  >\n                    <apo-spinner\n                      v-if=\"isBusy\"\n                      class=\"mr-4\"\n                      size=\"small\"\n                    />\n                    <span\n                      class=\"cursor-pointer\"\n                      v-text=\"$t('raffle.participate')\"\n                    />\n                  </apo-button>\n                </div>\n              </div>\n            </form>\n            <div v-else>\n              <div\n                v-if=\"\n                  (hasParticipated && raffleDetail.configuration.participation === 'Once') ||\n                    (hasParticipated && (participationLimitReached || raffleExpired)) ||\n                    submitSuccessful\n                \"\n                class=\"container text-center\"\n              >\n                <h2 v-text=\"$t('raffle.congratulation')\" />\n                <div class=\"border-green-300 border-8 rounded-full p-8 my-8 inline-block\">\n                  <apo-icon\n                    class=\"w-16 h-16 text-green-300\"\n                    src=\"check\"\n                  />\n                </div>\n              </div>\n              <div v-else>\n                <div\n                  v-if=\"participationLimitReached\"\n                  class=\"container text-center\"\n                >\n                  <h2 v-text=\"$t('raffle.maxParticipants')\" />\n                  <div class=\"border-red-500 border-8 rounded-full p-8 my-8 inline-block\">\n                    <apo-icon\n                      class=\"w-16 h-16 text-red-500\"\n                      src=\"close\"\n                    />\n                  </div>\n                </div>\n                <div\n                  v-if=\"raffleExpired\"\n                  class=\"container text-center\"\n                >\n                  <h2 v-text=\"$t('raffle.expired')\" />\n                  <div class=\"border-red-500 border-8 rounded-full p-8 my-8 inline-block\">\n                    <apo-icon\n                      class=\"w-16 h-16 text-red-500\"\n                      src=\"close\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <apo-not-found-page v-else />\n      </div>\n    </apo-wait>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\nimport NotFoundPage from '@/components/cms/NotFoundPage.vue';\nimport { RAFFLE_FETCH_ALL } from '@/store/types/action-types';\nimport RaffleService from '@/services/api/RaffleService';\nimport themeSettings from '@/mixins/theme-settings';\nimport LoadingOverlay from '@/components/ui/LoadingOverlay.vue';\nimport Stage from '@/components/template/Stage.vue';\nimport CmsContentRenderer from '@/components/cms/CmsContentRenderer.vue';\nimport Textarea from '@/components/form-renderer/Textarea.vue';\nimport Input from '@/components/form/Input.vue';\nimport InputLabel from '@/components/form-renderer/InputLabel.vue';\nimport Checkbox from '@/components/form/Checkbox.vue';\n\nexport default {\n  components: {\n    'apo-loading-overlay': LoadingOverlay,\n    'apo-not-found-page': NotFoundPage,\n    'apo-stage': Stage,\n    'apo-cms-content-renderer': CmsContentRenderer,\n    'apo-textarea': Textarea,\n    'apo-input': Input,\n    'apo-input-label': InputLabel,\n    'apo-checkbox': Checkbox,\n  },\n\n  mixins: [themeSettings('raffle')],\n\n  data() {\n    return {\n      isOverview: true,\n      hasParticipated: false,\n      raffleExpired: false,\n      participationLimitReached: false,\n      participationCheck: false,\n      selectedChoice: null,\n      textInput: '',\n      fileName: '',\n      fileUpload: '',\n      form: {\n        inputfields: [],\n        checkboxes: [],\n      },\n      isBusy: false,\n      submitSuccessful: false,\n      uploadError: false,\n    };\n  },\n\n  computed: {\n    ...mapGetters(['isAuthenticated', 'language', 'raffle', 'user']),\n\n    raffleDetail() {\n      if (this.$route.params.slug && this.raffle.length) {\n        return this.raffle.find(object => String(object.slug) === String(this.$route.params.slug));\n      }\n      return null;\n    },\n\n    stage() {\n      return {\n        minimum_height: this.raffleDetail.stage.minimum_height,\n        slides: this.raffleDetail.stage.slides,\n      };\n    },\n\n    content() {\n      return { content: this.raffleDetail.content };\n    },\n\n    contest() {\n      return this.raffleDetail.contest;\n    },\n\n    formFields() {\n      return this.raffleDetail ? this.raffleDetail.form : null;\n    },\n  },\n\n  watch: {\n    $route: {\n      immediate: true,\n      handler(route) {\n        if (route.params.slug) {\n          this.isOverview = false;\n        } else {\n          this.isOverview = true;\n        }\n      },\n    },\n  },\n\n  methods: {\n    ...mapActions([RAFFLE_FETCH_ALL]),\n\n    raffleDetails(slug) {\n      this.$router.push({ name: 'raffles', params: { slug } });\n    },\n\n    checkParticipation(data) {\n      this.participations = data.data.filter(\n        participant => Number(participant.raffle_id) === Number(this.raffleDetail.id),\n      );\n      this.participationLimitReached = this.raffleDetail.configuration.participant_limitation\n        ? !(\n          this.participations.length\n            < Number(this.raffleDetail.configuration.participant_limitation)\n        )\n        : false;\n      this.raffleExpired = this.raffleDetail.configuration.expire_date\n        ? new Date(this.raffleDetail.configuration.expire_date) < new Date()\n        : false;\n      this.hasParticipated = this.participations.filter(\n        participant => Number(participant.user_id) === Number(this.user.id),\n      ).length > 0;\n      this.participationCheck = true;\n    },\n\n    onTextInputChange(event) {\n      this.textInput = event;\n    },\n\n    onUploadFileChange() {\n      this.handleUploadFile();\n    },\n\n    async handleUploadFile() {\n      if (!this.$refs.fileUpload.files || this.$refs.fileUpload.files.length === 0) {\n        return;\n      }\n\n      this.fileName = this.$refs.fileUpload.files[0].name;\n    },\n\n    resetFile() {\n      this.fileName = '';\n      this.fileUpload = '';\n    },\n\n    createFormData() {\n      if (!this.formFields) {\n        return;\n      }\n\n      this.form.inputfields = [\n        { name: 'firstName', value: this.user.firstName },\n        { name: 'lastName', value: this.user.lastName },\n        { name: 'pharmacyName', value: '' },\n        { name: 'pharmacyCountry', value: '' },\n        { name: 'pharmacyStreet', value: '' },\n        { name: 'pharmacyStreetNumber', value: '' },\n        { name: 'pharmacyZipCode', value: '' },\n        { name: 'pharmacyCity', value: '' },\n      ];\n      if (this.formFields.checkboxes.length > 0) {\n        this.form.checkboxes = this.formFields.checkboxes.map(checkbox => ({\n          ...checkbox,\n          value: 'off',\n        }));\n      }\n    },\n\n    submit() {\n      const formData = new FormData(this.$refs.submitForm);\n      formData.append('raffle_id', Number(this.raffleDetail.id));\n      if (this.contest.type === 'Upload') formData.append('contest', this.fileName);\n\n      this.isBusy = true;\n\n      RaffleService.store(formData)\n        .then(response => {\n          this.isBusy = false;\n          this.submitSuccessful = true;\n          const data = JSON.parse(response.data);\n          if (data.state === false) {\n            this.hasParticipated = false;\n            this.submitSuccessful = false;\n            this.uploadError = true;\n          }\n        })\n        .catch(() => {\n          this.isBusy = false;\n        });\n\n      /* UserService.updateUserProfile(this.user, data)\n        .then(() => {\n          this.$store.dispatch(AUTH_FETCH_CURRENT_USER);\n        })\n        .catch(({ response }) => {\n          this.errors.clear();\n\n          if (response.status === 400 && response.data.code === 'rest_invalid_param') {\n            this.errors.assign(response.data.data.params);\n          }\n        })\n        .finally(() => {\n          this.isBusy = false;\n        }); */\n    },\n  },\n\n  created() {\n    this[RAFFLE_FETCH_ALL]()\n      .then(() => {\n        this.createFormData();\n        RaffleService.getStored().then(data => {\n          this.checkParticipation(data);\n        });\n      })\n      .catch(error => {\n        console.log('error retrieving the posts', error);\n      });\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.choice-container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  max-width: 700px;\n  margin: 0 auto;\n}\n\n.choice {\n  &-label {\n    @apply border-gray-700;\n    @apply block;\n    @apply border-4;\n    @apply cursor-pointer;\n    @apply h-16;\n    @apply overflow-hidden;\n    @apply relative;\n    @apply rounded-full;\n    width: 300px;\n    @apply m-2;\n\n    &:hover,\n    &.is-active {\n      @apply border-gray-900;\n    }\n  }\n\n  &-text {\n    @apply absolute;\n    @apply bg-white;\n    @apply border-5;\n    @apply border-white;\n    @apply flex;\n    @apply h-full;\n    @apply items-center;\n    @apply left-0;\n    @apply justify-center;\n    @apply rounded-full;\n    @apply text-gray-700;\n    @apply text-xl;\n    @apply top-0;\n    @apply w-full;\n  }\n\n  &-label:hover &-text,\n  &-label.is-active &-text {\n    @apply bg-gray-900;\n    @apply text-white;\n  }\n}\n\n.delete {\n  position: relative;\n  top: -10px;\n}\n\n.href-decoration {\n  /deep/ a {\n    text-decoration: underline !important;\n  }\n}\n\n</style>\n"],"sourceRoot":"src/views"}]}