{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/eslint-loader/index.js??ref--13-0!/app/src/store/modules/pages.js","dependencies":[{"path":"/app/src/store/modules/pages.js","mtime":1683275992578},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL2FwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7Cgp2YXIgX211dGF0aW9ucywgX2FjdGlvbnM7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCi8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovCmltcG9ydCBmb3JFYWNoIGZyb20gJ2xvZGFzaC9mb3JFYWNoJzsKaW1wb3J0IHsgUEFHRVNfQUREX1BBR0UsIFBBR0VTX0ZFVENIX01FTlVTLCBQQUdFU19TRVRfQ1VSUkVOVF9QQUdFLCBQQUdFU19GRVRDSF9QQUdFX1BFUk1JU1NJT05TIH0gZnJvbSAnQC9zdG9yZS90eXBlcy9hY3Rpb24tdHlwZXMnOwppbXBvcnQgeyBQQUdFU19VUERBVEUsIFBBR0VTX1VQREFURV9DVVJSRU5ULCBQQUdFU19VUERBVEVfTUVOVVMsIFBBR0VTX1VQREFURV9QQUdFX1BFUk1JU1NJT05TIH0gZnJvbSAnQC9zdG9yZS90eXBlcy9tdXRhdGlvbi10eXBlcyc7CmltcG9ydCBNZW51U2VydmljZSBmcm9tICdAL3NlcnZpY2VzL2FwaS9NZW51U2VydmljZSc7CmltcG9ydCBQYWdlU2VydmljZSBmcm9tICdAL3NlcnZpY2VzL2FwaS9QYWdlU2VydmljZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogewogICAgbWVudXM6IHt9LAogICAgY3VycmVudFBhZ2U6IHsKICAgICAgaWQ6ICcnCiAgICB9LAogICAgcGFnZXM6IFtdLAogICAgc3RhZ2VzOiBbXSwKICAgIHBhZ2VDb250ZW50OiBbXSwKICAgIHBhZ2VQZXJtaXNzaW9uczogW10KICB9LAogIG11dGF0aW9uczogKF9tdXRhdGlvbnMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIFBBR0VTX1VQREFURV9NRU5VUywgZnVuY3Rpb24gKHN0YXRlLCB1cGRhdGVkTWVudXMpIHsKICAgIHN0YXRlLm1lbnVzID0gdXBkYXRlZE1lbnVzOwogIH0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgUEFHRVNfVVBEQVRFLCBmdW5jdGlvbiAoc3RhdGUsIHVwZGF0ZWRQYWdlcykgewogICAgc3RhdGUucGFnZXMgPSB1cGRhdGVkUGFnZXM7CiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBQQUdFU19VUERBVEVfQ1VSUkVOVCwgZnVuY3Rpb24gKHN0YXRlLCB1cGRhdGVkQ3VycmVudFBhZ2UpIHsKICAgIHN0YXRlLmN1cnJlbnRQYWdlID0gdXBkYXRlZEN1cnJlbnRQYWdlOwogIH0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgUEFHRVNfVVBEQVRFX1BBR0VfUEVSTUlTU0lPTlMsIGZ1bmN0aW9uIChzdGF0ZSwgdXBkYXRlZFBhZ2VQZXJtaXNzaW9ucykgewogICAgc3RhdGUucGFnZVBlcm1pc3Npb25zID0gdXBkYXRlZFBhZ2VQZXJtaXNzaW9uczsKICB9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsICJhZGRTdGFnZSIsIGZ1bmN0aW9uIGFkZFN0YWdlKHN0YXRlLCBkYXRhKSB7CiAgICBpZiAoc3RhdGUuc3RhZ2VzLmZpbHRlcihmdW5jdGlvbiAoc3RhZ2UpIHsKICAgICAgcmV0dXJuIHN0YWdlLm5hbWUgPT09IGRhdGEubmFtZTsKICAgIH0pLmxlbmd0aCAhPT0gMSkgewogICAgICBzdGF0ZS5zdGFnZXMucHVzaCh7CiAgICAgICAgbmFtZTogZGF0YS5uYW1lLAogICAgICAgIHN0YWdlOiBkYXRhLnN0YWdlID8gZGF0YS5zdGFnZSA6ICdOTyBTVEFHRScKICAgICAgfSk7CiAgICB9CiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCAiYWRkUGFnZUNvbnRlbnQiLCBmdW5jdGlvbiBhZGRQYWdlQ29udGVudChzdGF0ZSwgZGF0YSkgewogICAgc3RhdGUucGFnZUNvbnRlbnQgPSBkYXRhOwogIH0pLCBfbXV0YXRpb25zKSwKICBhY3Rpb25zOiAoX2FjdGlvbnMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25zLCBQQUdFU19GRVRDSF9NRU5VUywgZnVuY3Rpb24gKF9yZWYpIHsKICAgIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGUsCiAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQsCiAgICAgICAgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoOwogICAgTWVudVNlcnZpY2UuZmV0Y2hBbGwoKS50aGVuKGZ1bmN0aW9uIChtZW51cykgewogICAgICBjb21taXQoUEFHRVNfVVBEQVRFX01FTlVTLCBfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS5tZW51cywge30sIG1lbnVzKSk7CiAgICAgIGZvckVhY2gobWVudXMsIGZ1bmN0aW9uIChtZW51KSB7CiAgICAgICAgbWVudS5pdGVtcy5maWx0ZXIoZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgICB2YXIgb2JqZWN0ID0gX3JlZjIub2JqZWN0OwogICAgICAgICAgcmV0dXJuIG9iamVjdCA9PT0gJ3BhZ2UnOwogICAgICAgIH0pIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuCiAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKF9yZWYzKSB7CiAgICAgICAgICB2YXIgaWQgPSBfcmVmMy5vYmplY3RJZCwKICAgICAgICAgICAgICBwYXRoID0gX3JlZjMudXJsLAogICAgICAgICAgICAgIGlzUHVibGljID0gX3JlZjMuaXNQdWJsaWMsCiAgICAgICAgICAgICAgdGl0bGUgPSBfcmVmMy50aXRsZTsKICAgICAgICAgIHJldHVybiBkaXNwYXRjaChQQUdFU19BRERfUEFHRSwgewogICAgICAgICAgICBpZDogaWQsCiAgICAgICAgICAgIHBhdGg6IHBhdGgsCiAgICAgICAgICAgIGlzUHVibGljOiBpc1B1YmxpYywKICAgICAgICAgICAgdGl0bGU6IHRpdGxlCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgY29uc29sZS5sb2coJ0ZldGNoaW5nIG1lbnUgZmFpbGVkIScsIGVycm9yKTsKICAgIH0pOwogIH0pLCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIFBBR0VTX0FERF9QQUdFLCBmdW5jdGlvbiAoX3JlZjQsIG5ld1BhZ2UpIHsKICAgIHZhciBzdGF0ZSA9IF9yZWY0LnN0YXRlLAogICAgICAgIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgIHZhciBwYWdlRXhpc3RzID0gc3RhdGUucGFnZXMuc29tZShmdW5jdGlvbiAocGFnZSkgewogICAgICByZXR1cm4gcGFnZS5pZCA9PT0gbmV3UGFnZS5pZDsKICAgIH0pOwoKICAgIGlmICghcGFnZUV4aXN0cykgewogICAgICBjb21taXQoUEFHRVNfVVBEQVRFLCBzdGF0ZS5wYWdlcy5jb25jYXQobmV3UGFnZSkpOwogICAgfQogIH0pLCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIFBBR0VTX1NFVF9DVVJSRU5UX1BBR0UsIGZ1bmN0aW9uIChfcmVmNSwgbmV3Q3VycmVudFBhZ2UpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNS5jb21taXQ7CiAgICBkZWxldGUgbmV3Q3VycmVudFBhZ2UuYWNmLnB1YmxpY19yZXNvdXJjZTsKICAgIGNvbW1pdChQQUdFU19VUERBVEVfQ1VSUkVOVCwgbmV3Q3VycmVudFBhZ2UpOwogIH0pLCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIFBBR0VTX0ZFVENIX1BBR0VfUEVSTUlTU0lPTlMsIGZ1bmN0aW9uIChfcmVmNikgewogICAgdmFyIGNvbW1pdCA9IF9yZWY2LmNvbW1pdCwKICAgICAgICBzdGF0ZSA9IF9yZWY2LnN0YXRlLAogICAgICAgIGRpc3BhdGNoID0gX3JlZjYuZGlzcGF0Y2g7CgogICAgaWYgKHN0YXRlLnBhZ2VQZXJtaXNzaW9ucy5sZW5ndGggPT09IDApIHsKICAgICAgZGlzcGF0Y2goJ3dhaXQvc3RhcnQnLCAncGFnZVBlcm1pc3Npb25zJywgewogICAgICAgIHJvb3Q6IHRydWUKICAgICAgfSk7CiAgICB9CgogICAgUGFnZVNlcnZpY2UuZmV0Y2hQYWdlUGVybWlzc2lvbnMoKS50aGVuKGZ1bmN0aW9uIChwZXJtaXNzaW9ucykgewogICAgICBjb21taXQoUEFHRVNfVVBEQVRFX1BBR0VfUEVSTUlTU0lPTlMsIHBlcm1pc3Npb25zKTsKICAgICAgZGlzcGF0Y2goJ3dhaXQvZW5kJywgJ3BhZ2VQZXJtaXNzaW9ucycsIHsKICAgICAgICByb290OiB0cnVlCiAgICAgIH0pOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKCdGZXRjaGluZyBwYWdlIHBlcm1pc3Npb25zIGZhaWxlZCEnLCBlcnJvcik7CiAgICB9KTsKICB9KSwgX2FjdGlvbnMpLAogIGdldHRlcnM6IHsKICAgIHBhZ2VQZXJtaXNzaW9uczogZnVuY3Rpb24gcGFnZVBlcm1pc3Npb25zKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5wYWdlUGVybWlzc2lvbnM7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/app/src/store/modules/pages.js"],"names":["forEach","PAGES_ADD_PAGE","PAGES_FETCH_MENUS","PAGES_SET_CURRENT_PAGE","PAGES_FETCH_PAGE_PERMISSIONS","PAGES_UPDATE","PAGES_UPDATE_CURRENT","PAGES_UPDATE_MENUS","PAGES_UPDATE_PAGE_PERMISSIONS","MenuService","PageService","state","menus","currentPage","id","pages","stages","pageContent","pagePermissions","mutations","updatedMenus","updatedPages","updatedCurrentPage","updatedPagePermissions","data","filter","stage","name","length","push","actions","commit","dispatch","fetchAll","then","menu","items","object","objectId","path","url","isPublic","title","catch","error","console","log","newPage","pageExists","some","page","concat","newCurrentPage","acf","public_resource","root","fetchPagePermissions","permissions","getters"],"mappings":"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","sourcesContent":["/* eslint-disable no-param-reassign */\n\nimport forEach from 'lodash/forEach';\nimport {\n  PAGES_ADD_PAGE,\n  PAGES_FETCH_MENUS,\n  PAGES_SET_CURRENT_PAGE,\n  PAGES_FETCH_PAGE_PERMISSIONS,\n} from '@/store/types/action-types';\nimport {\n  PAGES_UPDATE,\n  PAGES_UPDATE_CURRENT,\n  PAGES_UPDATE_MENUS,\n  PAGES_UPDATE_PAGE_PERMISSIONS,\n} from '@/store/types/mutation-types';\nimport MenuService from '@/services/api/MenuService';\nimport PageService from '@/services/api/PageService';\n\nexport default {\n  state: {\n    menus: {},\n\n    currentPage: {\n      id: '',\n    },\n\n    pages: [],\n\n    stages: [],\n\n    pageContent: [],\n\n    pagePermissions: [],\n  },\n\n  mutations: {\n    [PAGES_UPDATE_MENUS](state, updatedMenus) {\n      state.menus = updatedMenus;\n    },\n\n    [PAGES_UPDATE](state, updatedPages) {\n      state.pages = updatedPages;\n    },\n\n    [PAGES_UPDATE_CURRENT](state, updatedCurrentPage) {\n      state.currentPage = updatedCurrentPage;\n    },\n\n    [PAGES_UPDATE_PAGE_PERMISSIONS](state, updatedPagePermissions) {\n      state.pagePermissions = updatedPagePermissions;\n    },\n\n    addStage(state, data) {\n      if (state.stages.filter(stage => stage.name === data.name).length !== 1) {\n        state.stages.push({ name: data.name, stage: data.stage ? data.stage : 'NO STAGE' });\n      }\n    },\n\n    addPageContent(state, data) {\n      state.pageContent = data;\n    },\n  },\n\n  actions: {\n    [PAGES_FETCH_MENUS]({ state, commit, dispatch }) {\n      MenuService.fetchAll()\n        .then(menus => {\n          commit(PAGES_UPDATE_MENUS, { ...state.menus, ...menus });\n\n          forEach(menus, menu => {\n            menu.items\n              .filter(({ object }) => object === 'page')\n              // eslint-disable-next-line max-len\n              .forEach(({\n                objectId: id, url: path, isPublic, title,\n              }) => dispatch(PAGES_ADD_PAGE, {\n                id, path, isPublic, title,\n              }));\n          });\n        })\n        .catch(error => {\n          console.log('Fetching menu failed!', error);\n        });\n    },\n\n    [PAGES_ADD_PAGE]({ state, commit }, newPage) {\n      const pageExists = state.pages.some(page => page.id === newPage.id);\n\n      if (!pageExists) {\n        commit(PAGES_UPDATE, state.pages.concat(newPage));\n      }\n    },\n\n    [PAGES_SET_CURRENT_PAGE]({ commit }, newCurrentPage) {\n      delete newCurrentPage.acf.public_resource;\n\n      commit(PAGES_UPDATE_CURRENT, newCurrentPage);\n    },\n\n    [PAGES_FETCH_PAGE_PERMISSIONS]({ commit, state, dispatch }) {\n      if (state.pagePermissions.length === 0) {\n        dispatch('wait/start', 'pagePermissions', { root: true });\n      }\n\n      PageService.fetchPagePermissions()\n        .then(permissions => {\n          commit(PAGES_UPDATE_PAGE_PERMISSIONS, permissions);\n          dispatch('wait/end', 'pagePermissions', { root: true });\n        })\n        .catch(error => {\n          console.log('Fetching page permissions failed!', error);\n        });\n    },\n  },\n\n  getters: {\n    pagePermissions(state) {\n      return state.pagePermissions;\n    },\n  },\n};\n"]}]}