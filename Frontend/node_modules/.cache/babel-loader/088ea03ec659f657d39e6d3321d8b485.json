{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/eslint-loader/index.js??ref--13-0!/app/src/services/mapper/PageMapper.js","dependencies":[{"path":"/app/src/services/mapper/PageMapper.js","mtime":1683275992576},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgZ2V0IGZyb20gJ2xvZGFzaC9nZXQnOwppbXBvcnQgeyBzdHJpcEhvc3RuYW1lRnJvbVVybCB9IGZyb20gJ0Avc2VydmljZXMvdXRpbHMnOwoKdmFyIFBhZ2VNYXBwZXIgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBQYWdlTWFwcGVyKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhZ2VNYXBwZXIpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFBhZ2VNYXBwZXIsIG51bGwsIFt7CiAgICBrZXk6ICJtYXBQYWdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBQYWdlKGRhdGEpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBfbGlua3M6IHsKICAgICAgICAgIHNlbGY6IGdldChkYXRhLCAnX2xpbmsuc2VsZi4wLmhyZWYnKQogICAgICAgIH0sCiAgICAgICAgYWNmOiBnZXQoZGF0YSwgJ2FjZicsICcnKSwKICAgICAgICBjb250ZW50OiBnZXQoZGF0YSwgJ2NvbnRlbnQucmVuZGVyZWQnLCAnJyksCiAgICAgICAgZGF0ZTogZ2V0KGRhdGEsICdkYXRlJyksCiAgICAgICAgZXhjZXJwdDogZ2V0KGRhdGEsICdleGNlcnB0LnJlbmRlcmVkJywgJycpLAogICAgICAgIGd1aWQ6IGdldChkYXRhLCAnZ3VpZC5yZW5kZXJlZCcpLAogICAgICAgIGlkOiBnZXQoZGF0YSwgJ2lkJyksCiAgICAgICAgcGF0aDogc3RyaXBIb3N0bmFtZUZyb21VcmwoZ2V0KGRhdGEsICdsaW5rJywgJycpKSwKICAgICAgICBtb2RpZmllZDogZ2V0KGRhdGEsICdtb2RpZmllZCcpLAogICAgICAgIHNsdWc6IGdldChkYXRhLCAnc2x1ZycpLAogICAgICAgIHRlbXBsYXRlOiBnZXQoZGF0YSwgJ3RlbXBsYXRlJywgJycpLnJlcGxhY2UoL3RlbXBsYXRlLXwucGhwL2csICcnKSwKICAgICAgICB0aXRsZTogZ2V0KGRhdGEsICd0aXRsZS5yZW5kZXJlZCcsICcnKSwKICAgICAgICBpc1B1YmxpYzogZ2V0KGRhdGEsICdhY2YucHVibGljX3Jlc291cmNlJywgZmFsc2UpLAogICAgICAgIHBhc3N3b3JkOiBnZXQoZGF0YSwgJ2FjZi5wYXNzd29yZCcsICcnKQogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogIm1hcFBlcm1pc3Npb25zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBQZXJtaXNzaW9ucyhkYXRhKSB7CiAgICAgIHJldHVybiBkYXRhLm1hcChmdW5jdGlvbiAocGVybWlzc2lvbikgewogICAgICAgIHJldHVybiBQYWdlTWFwcGVyLm1hcFBlcm1pc3Npb24ocGVybWlzc2lvbik7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogIm1hcFBlcm1pc3Npb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1hcFBlcm1pc3Npb24ocGVybWlzc2lvbikgewogICAgICByZXR1cm4gewogICAgICAgIGlkOiBnZXQocGVybWlzc2lvbiwgJ2lkJywgbnVsbCksCiAgICAgICAgdGVtcGxhdGU6IGdldChwZXJtaXNzaW9uLCAndGVtcGxhdGUnLCAnJykucmVwbGFjZSgvdGVtcGxhdGUtfC5waHAvZywgJycpLAogICAgICAgIHBlcm1pc3NvbnM6IGdldChwZXJtaXNzaW9uLCAndXNlcl9yb2xlX3Blcm1pc3Npb25zJywgW10pCiAgICAgIH07CiAgICB9CiAgfV0pOwoKICByZXR1cm4gUGFnZU1hcHBlcjsKfSgpOwoKZXhwb3J0IHsgUGFnZU1hcHBlciBhcyBkZWZhdWx0IH07"},{"version":3,"sources":["/app/src/services/mapper/PageMapper.js"],"names":["get","stripHostnameFromUrl","PageMapper","data","_links","self","acf","content","date","excerpt","guid","id","path","modified","slug","template","replace","title","isPublic","password","map","permission","mapPermission","permissons"],"mappings":";;;;AAAA,OAAOA,GAAP,MAAgB,YAAhB;AACA,SAASC,oBAAT,QAAqC,kBAArC;;IAEqBC,U;;;;;;;;;4BACJC,I,EAAM;AACnB,aAAO;AACLC,QAAAA,MAAM,EAAE;AACNC,UAAAA,IAAI,EAAEL,GAAG,CAACG,IAAD,EAAO,mBAAP;AADH,SADH;AAILG,QAAAA,GAAG,EAAEN,GAAG,CAACG,IAAD,EAAO,KAAP,EAAc,EAAd,CAJH;AAKLI,QAAAA,OAAO,EAAEP,GAAG,CAACG,IAAD,EAAO,kBAAP,EAA2B,EAA3B,CALP;AAMLK,QAAAA,IAAI,EAAER,GAAG,CAACG,IAAD,EAAO,MAAP,CANJ;AAOLM,QAAAA,OAAO,EAAET,GAAG,CAACG,IAAD,EAAO,kBAAP,EAA2B,EAA3B,CAPP;AAQLO,QAAAA,IAAI,EAAEV,GAAG,CAACG,IAAD,EAAO,eAAP,CARJ;AASLQ,QAAAA,EAAE,EAAEX,GAAG,CAACG,IAAD,EAAO,IAAP,CATF;AAULS,QAAAA,IAAI,EAAEX,oBAAoB,CAACD,GAAG,CAACG,IAAD,EAAO,MAAP,EAAe,EAAf,CAAJ,CAVrB;AAWLU,QAAAA,QAAQ,EAAEb,GAAG,CAACG,IAAD,EAAO,UAAP,CAXR;AAYLW,QAAAA,IAAI,EAAEd,GAAG,CAACG,IAAD,EAAO,MAAP,CAZJ;AAaLY,QAAAA,QAAQ,EAAEf,GAAG,CAACG,IAAD,EAAO,UAAP,EAAmB,EAAnB,CAAH,CAA0Ba,OAA1B,CAAkC,iBAAlC,EAAqD,EAArD,CAbL;AAcLC,QAAAA,KAAK,EAAEjB,GAAG,CAACG,IAAD,EAAO,gBAAP,EAAyB,EAAzB,CAdL;AAeLe,QAAAA,QAAQ,EAAElB,GAAG,CAACG,IAAD,EAAO,qBAAP,EAA8B,KAA9B,CAfR;AAgBLgB,QAAAA,QAAQ,EAAEnB,GAAG,CAACG,IAAD,EAAO,cAAP,EAAuB,EAAvB;AAhBR,OAAP;AAkBD;;;mCAEqBA,I,EAAM;AAC1B,aAAOA,IAAI,CAACiB,GAAL,CAAS,UAAAC,UAAU;AAAA,eAAInB,UAAU,CAACoB,aAAX,CAAyBD,UAAzB,CAAJ;AAAA,OAAnB,CAAP;AACD;;;kCAEoBA,U,EAAY;AAC/B,aAAO;AACLV,QAAAA,EAAE,EAAEX,GAAG,CAACqB,UAAD,EAAa,IAAb,EAAmB,IAAnB,CADF;AAELN,QAAAA,QAAQ,EAAEf,GAAG,CAACqB,UAAD,EAAa,UAAb,EAAyB,EAAzB,CAAH,CAAgCL,OAAhC,CAAwC,iBAAxC,EAA2D,EAA3D,CAFL;AAGLO,QAAAA,UAAU,EAAEvB,GAAG,CAACqB,UAAD,EAAa,uBAAb,EAAsC,EAAtC;AAHV,OAAP;AAKD;;;;;;SAhCkBnB,U","sourcesContent":["import get from 'lodash/get';\nimport { stripHostnameFromUrl } from '@/services/utils';\n\nexport default class PageMapper {\n  static mapPage(data) {\n    return {\n      _links: {\n        self: get(data, '_link.self.0.href'),\n      },\n      acf: get(data, 'acf', ''),\n      content: get(data, 'content.rendered', ''),\n      date: get(data, 'date'),\n      excerpt: get(data, 'excerpt.rendered', ''),\n      guid: get(data, 'guid.rendered'),\n      id: get(data, 'id'),\n      path: stripHostnameFromUrl(get(data, 'link', '')),\n      modified: get(data, 'modified'),\n      slug: get(data, 'slug'),\n      template: get(data, 'template', '').replace(/template-|.php/g, ''),\n      title: get(data, 'title.rendered', ''),\n      isPublic: get(data, 'acf.public_resource', false),\n      password: get(data, 'acf.password', ''),\n    };\n  }\n\n  static mapPermissions(data) {\n    return data.map(permission => PageMapper.mapPermission(permission));\n  }\n\n  static mapPermission(permission) {\n    return {\n      id: get(permission, 'id', null),\n      template: get(permission, 'template', '').replace(/template-|.php/g, ''),\n      permissons: get(permission, 'user_role_permissions', []),\n    };\n  }\n}\n"]}]}