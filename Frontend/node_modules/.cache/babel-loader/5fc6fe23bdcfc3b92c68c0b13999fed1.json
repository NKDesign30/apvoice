{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/eslint-loader/index.js??ref--13-0!/app/src/services/survey/SurveyValidation.js","dependencies":[{"path":"/app/src/services/survey/SurveyValidation.js","mtime":1683275992577},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IGV2ZXJ5IGZyb20gJ2xvZGFzaC9ldmVyeSc7Cgp2YXIgU3VydmV5VmFsaWRhdGlvbiA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIFN1cnZleVZhbGlkYXRpb24oKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3VydmV5VmFsaWRhdGlvbik7CgogICAgdGhpcy5lcnJvcnMgPSB7fTsKICAgIHRoaXMuaXNWYWxpZCA9IHRydWU7CiAgfQoKICBfY3JlYXRlQ2xhc3MoU3VydmV5VmFsaWRhdGlvbiwgW3sKICAgIGtleTogImhhc0FueSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzQW55KCkgewogICAgICByZXR1cm4gIWV2ZXJ5KHRoaXMuZXJyb3JzLCBmdW5jdGlvbiAoY2hhcHRlcikgewogICAgICAgIHJldHVybiBjaGFwdGVyLmlzVmFsaWQ7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInNldENoYXB0ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldENoYXB0ZXIobnVtYmVyLCBjaGFwdGVyKSB7CiAgICAgIHRoaXMuZXJyb3JzW251bWJlcl0gPSBjaGFwdGVyOwogICAgICB0aGlzLmlzVmFsaWQgPSAhdGhpcy5oYXNBbnkoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJoYXNDaGFwdGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoYXNDaGFwdGVyKG51bWJlcikgewogICAgICByZXR1cm4gdGhpcy5lcnJvcnNbbnVtYmVyXSAhPT0gdW5kZWZpbmVkOwogICAgfQogIH0sIHsKICAgIGtleTogImdldENoYXB0ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldENoYXB0ZXIobnVtYmVyKSB7CiAgICAgIGlmICghdGhpcy5oYXNDaGFwdGVyKG51bWJlcikpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuZXJyb3JzW251bWJlcl07CiAgICB9CiAgfSwgewogICAga2V5OiAicmVzZXRDaGFwdGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldENoYXB0ZXIobnVtYmVyKSB7CiAgICAgIGlmICh0aGlzLmhhc0NoYXB0ZXIobnVtYmVyKSkgewogICAgICAgIGRlbGV0ZSB0aGlzLmVycm9yc1tudW1iZXJdOwogICAgICB9CgogICAgICB0aGlzLmlzVmFsaWQgPSAhdGhpcy5oYXNBbnkoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZXNldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHRoaXMuZXJyb3JzID0ge307CiAgICAgIHRoaXMuaXNWYWxpZCA9IHRydWU7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gU3VydmV5VmFsaWRhdGlvbjsKfSgpOwoKZXhwb3J0IHsgU3VydmV5VmFsaWRhdGlvbiBhcyBkZWZhdWx0IH07"},{"version":3,"sources":["/app/src/services/survey/SurveyValidation.js"],"names":["every","SurveyValidation","errors","isValid","chapter","number","hasAny","undefined","hasChapter"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,cAAlB;;IAEqBC,gB;;;AACnB,8BAAc;AAAA;;AACZ,SAAKC,MAAL,GAAc,EAAd;AACA,SAAKC,OAAL,GAAe,IAAf;AACD;;;;6BAEQ;AACP,aAAO,CAACH,KAAK,CAAC,KAAKE,MAAN,EAAc,UAAAE,OAAO;AAAA,eAAIA,OAAO,CAACD,OAAZ;AAAA,OAArB,CAAb;AACD;;;+BAEUE,M,EAAQD,O,EAAS;AAC1B,WAAKF,MAAL,CAAYG,MAAZ,IAAsBD,OAAtB;AACA,WAAKD,OAAL,GAAe,CAAC,KAAKG,MAAL,EAAhB;AACD;;;+BAEUD,M,EAAQ;AACjB,aAAO,KAAKH,MAAL,CAAYG,MAAZ,MAAwBE,SAA/B;AACD;;;+BAEUF,M,EAAQ;AACjB,UAAI,CAAC,KAAKG,UAAL,CAAgBH,MAAhB,CAAL,EAA8B;AAC5B,eAAO,IAAP;AACD;;AAED,aAAO,KAAKH,MAAL,CAAYG,MAAZ,CAAP;AACD;;;iCAEYA,M,EAAQ;AACnB,UAAI,KAAKG,UAAL,CAAgBH,MAAhB,CAAJ,EAA6B;AAC3B,eAAO,KAAKH,MAAL,CAAYG,MAAZ,CAAP;AACD;;AAED,WAAKF,OAAL,GAAe,CAAC,KAAKG,MAAL,EAAhB;AACD;;;4BAEO;AACN,WAAKJ,MAAL,GAAc,EAAd;AACA,WAAKC,OAAL,GAAe,IAAf;AACD;;;;;;SAtCkBF,gB","sourcesContent":["import every from 'lodash/every';\n\nexport default class SurveyValidation {\n  constructor() {\n    this.errors = {};\n    this.isValid = true;\n  }\n\n  hasAny() {\n    return !every(this.errors, chapter => chapter.isValid);\n  }\n\n  setChapter(number, chapter) {\n    this.errors[number] = chapter;\n    this.isValid = !this.hasAny();\n  }\n\n  hasChapter(number) {\n    return this.errors[number] !== undefined;\n  }\n\n  getChapter(number) {\n    if (!this.hasChapter(number)) {\n      return null;\n    }\n\n    return this.errors[number];\n  }\n\n  resetChapter(number) {\n    if (this.hasChapter(number)) {\n      delete this.errors[number];\n    }\n\n    this.isValid = !this.hasAny();\n  }\n\n  reset() {\n    this.errors = {};\n    this.isValid = true;\n  }\n}\n"]}]}